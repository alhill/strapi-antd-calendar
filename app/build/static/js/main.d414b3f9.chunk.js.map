{"version":3,"sources":["utils/gql.js","utils/auth.js","constants/action-types.js","utils/request.js","actions/index.js","queries/index.js","PrivateComponent.js","ScrollWatch.js","Frame.js","Login.js","Register.js","FourOhFour.js","PrivateRoute.js","Home.js","Calendario.js","NuevoUsuario.js","Documentos.js","Usuarios.js","EditUsuario.js","Analitica.js","Registro.js","Perfil.js","modulosConfig/ModuloFestivos.js","modulosConfig/ModuloRegistros.js","Configuracion.js","reducers/index.js","reducers/usuarios.js","reducers/dias.js","reducers/es.js","reducers/documentos.js","reducers/blueCollar.js","store/index.js","App.js","serviceWorker.js","index.js"],"names":["gql","query","variables","arguments","length","undefined","baseURL","console","log","replace","split","map","elem","i","reduce","a","b","getToken","window","localStorage","getItem","JSON","parse","getHeaders","anonymous","type","jwt","headers","Accept","Content-Type","Authorization","getUserInfo","user","includes","saveAuthData","authdata","setItem","stringify","CARGAR_USUARIOS","CARGAR_CALENDARIO","CARGAR_ES","CARGAR_DOCUMENTOS","CAMBIAR_BLUE_COLLAR","parseJSON","response","json","checkStatus","status","then","responseFormatted","errors","forEach","e","error","Error","statusText","payload","request","url","options","Object","assign","token","concat","params","keys","k","encodeURIComponent","join","formatQueryParams","body","fetch","process","fetchUsuarios","dispatch","equipo","catch","fetchCalendario","data","dias","fetchES","users","fetchDocumentos","PrivateComponent","Component","userInfo","blocked","role","name","manager","this","props","children","Header","Layout","Footer","Sider","Content","Title","Typography","Paragraph","Frame","state","username","avatar","userNotif","cerrarSesion","removeItem","message","info","_this","history","push","socket","on","msg","_this2","setState","es","_this3","isLogged","menuAvatar","react_default","createElement","menu","Item","Link","to","onClick","blueCollar","style","minHeight","display","flexDirection","key","backgroundColor","alignItems","justifyContent","color","margin","src","alt","filter","height","marginRight","dropdown","overlay","boxShadow","toUpperCase","layout","flex","theme","mode","selectedKeys","location","pathname","padding","paddingBottom","aria-label","href","target","rel","socketConnect","connect","withRouter","Login","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleSubmit","preventDefault","form","validateFields","err","values","method","identifier","userName","password","resp","statusCode","confirmed","fieldsError","_this$props$form","getFieldDecorator","getFieldsError","getFieldError","isFieldTouched","userNameError","passwordError","src_Frame","card","width","maxWidth","es_form","onSubmit","validateStatus","help","rules","required","input","onChange","value","prefix","icon","placeholder","pw","es_row","col","span","es_button","htmlType","disabled","some","field","Form","create","Register","password2","validateEmail","email","errorEmail","errorPw","errorUser","test","String","toLowerCase","emailError","password2Error","FourOhFour","typography","textAlign","PrivateRoute","_ref","component","_ref$onlyManager","onlyManager","rest","objectWithoutProperties","Route","render","Redirect","from","Home","Calendario","modalPedirDia","diasFilter","diasPorAprobar","festivos","festivosArrUTC","sel1","sel2","fetchDias","_callee","regenerator_default","wrap","_context","prev","next","organizarDias","stop","d","tipo","f","objectSpread","fecha","moment","utc","hour","minute","seconds","milliseconds","format","filtrarDias","aprobado","_id","primerFiltro","responderSolicitud","dia","bool","success","getListData","dateFullCellRender","listData","valueUTC","festivo","find","tc","title","nombre","day","className","borderRadius","date","item","popover","content","solicitarDia","_getUserInfo","toConsumableArray","columns","r","dataIndex","row","text","record","popconfirm","onConfirm","evt","tag","prevProps","prevState","es_radio","Group","defaultValue","buttonStyle","Button","calendar","onSelect","src_PrivateComponent","table","dataSource","modal","visible","onCancel","footer","NuevoUsuario","solicitarAcceso","unirse","equipos","ok","crearEquipo","crear","unirseError","crearError","marginBottom","NuevoUsuario_Title","level","errorUnirse","errorCrear","Documentos","fileList","asociarA","selectedUser","documentos","disponibleParaTodos","misArchColumns","file","desvincularArchivo","borrarArchivo","archGlobColumns","archUserColumns","rowSelection","selectedRowKeys","selectedRows","u","getCheckboxProps","docId","documento","archivo","sent","_callee2","_context2","handleUpload","_callee5","promisingPromises","arrayArchivos","promesitas","_context5","_ref4","asyncToGenerator","mark","_callee3","doc","_context3","global","FormData","append","abrupt","_x4","apply","Promise","all","mostrarListaUsuarios","_ref5","_callee4","userId","antDocus","_context4","_x5","t0","usuarios","upload","Dragger","action","multiple","beforeUpload","onRemove","uid","es_checkbox","checked","collapse","bordered","activeKey","Panel","es_select","showSearch","optionFilterProp","op","filterOption","option","indexOf","Option","rowKey","marginTop","Usuarios","extraColumnsA","extraColumnsB","filtraUsuarios","activos","pendientes","fetchUsers","usuario","desasociarTarjeta","idcard","defineProperty","twoToneColor","modalAsociar","usuarioAsociar","off","_this4","_this$state","onOk","EditUsuario","duracionjornada","frasesStr","frases","frasePr","frasePrAct","guardarDatos","frasePrioritaria","actFrasePrioritaria","match","id","label","TextArea","rows","Analitica","Registro","mes","defaultSortOrder","sorter","entrada","diff","hora","horas","tiempoDescanso","diasLaborables","month","year","diasFestivos","diasLibres","Array","daysInMonth","fill","weekday","procesaES","diasDeEseMes","duracionJornada","jornadas","subtract","registros","isSame","arrayCachos","Math","ceil","j","m","duration","round","as","salida","comienzoDescanso","finDescanso","arrayHoras","c","slice","horasTrabajadas","h","horasMes","porcentajeHoras","horasPendientes","MonthPicker","DatePicker","header","paddingRight","progress","percent","flexWrap","statistic","Perfil","loading","onSuccess","onError","imgToUpload","isJPG","isLt2M","size","handleSave","uploadButton","imageUrl","listType","showUploadList","handleChange","customRequest","ModuloFestivos","addFestivo","warning","borrarFestivo","marginTOp","date_picker","colon","ModuloRegistros","addRegistro","fechaEntrada","fechaSalida","ePasado","sPasado","eAntesDeS","registroEntrada","registroSalida","fechaNuevoRegistro","horaEntradaNuevoRegistro","horaSalidaNuevoRegistro","clone","isBefore","ultimoEditor","Select","time_picker","Configuracion","Collapse","modulosConfig_ModuloRegistros","modulosConfig_ModuloFestivos","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","locale","io","transports","App","locale_provider","es_ES","build","BrowserRouter","Switch","exact","path","PrivateRoute_PrivateRoute","Boolean","hostname","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d414b3f9.chunk.js","sourcesContent":["export default function gql(query, variables = {}, baseURL = \"\"){\n    if( query === undefined ){ console.log(\"El parámetro 'query' de la funcion gql está vacío\") }\n    const queryReplace = query\n                    .replace(/\\n/gi,   \"%0A\")\n                    .replace(/:/gi,    \"%3A\")\n                    .replace(/\\\\/gi,   \"%22\")\n                    .replace(/ {2}/gi, \"%09\")\n                    .replace(/ /gi,    \"%20\")\n                    .replace(/{/gi,    \"%7B\")\n                    .replace(/}/gi,    \"%7D\")\n                    .replace(/\\(/gi,   \"%28\")\n                    .replace(/\\)/gi,   \"%29\")\n\n    const queryUgly = queryReplace.split(\"$\").map((elem, i) => {\n        if(i%2){ //Es una variable\n            return variables[elem]\n        }\n        else{ //No es una variable\n            return elem\n        }\n    }).reduce((a, b) => a + b, \"\")\n                    \n    return baseURL + \"/graphql?query=\" + queryUgly\n}","import gql from './gql'\n\nexport function getToken(){\n    return window.localStorage.getItem('jwt') !== \"undefined\" ? JSON.parse(window.localStorage.getItem('jwt')) : undefined\n}\n\nexport function getHeaders(anonymous = false, type = \"application/json\"){\n    const jwt = getToken();\n    let headers = {\n        \"Accept\": type,\n        \"Content-Type\": type\n    }\n    if(jwt && !anonymous){ headers.Authorization = \"Bearer \" + jwt }\n    return headers\n}\n\nexport function getUserInfo(){\n    const user = window.localStorage.getItem('user')\n    const userObj = ![\"undefined\", \"\", undefined].includes(user) ? JSON.parse(window.localStorage.getItem('user')) : undefined\n    return userObj\n}\n\nexport function saveAuthData(authdata){\n    //authdata.avatar = getAvatar()\n    window.localStorage.setItem('jwt', JSON.stringify(authdata.jwt))\n    window.localStorage.setItem('user', JSON.stringify(authdata.user))\n}\n\nexport function clearData(){\n    window.localStorage.removeItem('jwt')\n    window.localStorage.removeItem('user')\n}","export const CARGAR_USUARIOS = \"CARGAR_USUARIOS\"\nexport const CARGAR_CALENDARIO = \"CARGAR_CALENDARIO\"\nexport const CARGAR_ES = \"CARGAR_ES\"\nexport const CARGAR_DOCUMENTOS = \"CARGAR_DOCUMENTOS\"\nexport const CAMBIAR_BLUE_COLLAR = \"CAMBIAR_BLUE_COLLAR\"\n","import 'whatwg-fetch';\nimport { getToken } from './auth';\n/**\n * Parses the JSON returned by a network request\n *\n * @param  {object} response A response from a network request\n *\n * @return {object}          The parsed JSON from the request\n */\nfunction parseJSON(response) {\n  return response.json ? response.json() : response;\n}\n\n/**\n * Checks if a network request came back fine, and throws an error if not\n *\n * @param  {object} response   A response from a network request\n *\n * @return {object|undefined} Returns either the response, or throws an error\n */\nfunction checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  }\n\n  return parseJSON(response).then(responseFormatted => {\n    if( responseFormatted.errors ){ responseFormatted.errors.forEach(e => { console.log( e ) }) }\n    const error = new Error(response.statusText);\n    error.response = response;\n    error.response.payload = responseFormatted;\n    throw error;\n  });\n}\n\n/**\n * Format query params\n *\n * @param params\n * @returns {string}\n */\nfunction formatQueryParams(params) {\n  return Object.keys(params)\n    .map(k => `${encodeURIComponent(k)}=${encodeURIComponent(params[k])}`)\n    .join('&');\n}\n\n/**\n * Requests a URL, returning a promise\n *\n * @param  {string} url       The URL we want to request\n * @param  {object} [options] The options we want to pass to \"fetch\"\n *\n * @return {object}           The response data\n */\nexport default function request(\n  url,\n  options = {},\n  stringify = true\n) {\n  // Set headers\n  if (stringify) {\n\n    options.headers = Object.assign(\n      {\n        'Content-Type': 'application/json',\n      },\n      options.headers,\n      {}\n    );\n  }\n\n  const token = getToken();\n\n  if (token) {\n    options.headers = Object.assign(\n      {\n        Authorization: `Bearer ${token}`,\n      },\n      options.headers\n    );\n  }\n\n  if (options && options.params) {\n    const params = formatQueryParams(options.params);\n    url = `${url}?${params}`;\n  }\n\n  // Stringify body object\n  if (options && options.body && stringify) {\n    options.body = JSON.stringify(options.body);\n  }\n\n  return fetch(process.env.REACT_APP_API_URL + url, options)\n    .then(checkStatus)\n    .then(parseJSON);\n}\n","import { \n    CARGAR_USUARIOS, CARGAR_CALENDARIO, CARGAR_ES, CARGAR_DOCUMENTOS, CAMBIAR_BLUE_COLLAR\n} from \"../constants/action-types\"\nimport request from \"../utils/request\"\nimport gql from \"../utils/gql\"\nimport { getUserInfo } from '../utils/auth'\nimport { queryCalendario, queryES } from '../queries'\n\nexport function cambiarBlueCollar(payload) {\n    return {\n        type: CAMBIAR_BLUE_COLLAR,\n        payload\n    }\n}\n\nexport function cargarUsuarios(payload) {\n    return {\n        type: CARGAR_USUARIOS,\n        payload\n    }\n}\n  \nexport const fetchUsuarios = () => {\n    return (dispatch) => {\n        const equipo = getUserInfo() && getUserInfo().equipo\n        return request(\"/users?_limit=0&equipo=\" + equipo).then(response => {\n            dispatch(cargarUsuarios(response))\n        })\n        .catch(error => {\n            throw(error);\n        });\n    };\n};\n\nexport function cargarCalendario(payload) {\n    return {\n        type: CARGAR_CALENDARIO,\n        payload\n    }\n}\n  \nexport const fetchCalendario = () => {\n    return (dispatch) => {\n        return request(gql(queryCalendario(getUserInfo()))).then(response => {\n            dispatch(cargarCalendario(response.data.dias))\n        })\n        .catch(error => {\n            throw(error);\n        });\n    };\n};\n\nexport function cargarES(payload) {\n    return {\n        type: CARGAR_ES,\n        payload\n    }\n}\n  \nexport const fetchES = () => {\n    return (dispatch) => {\n        return request(gql(queryES(getUserInfo()))).then(response => {\n            dispatch(cargarES(response.data.equipo && response.data.equipo.users))\n        })\n        .catch(error => {\n            throw(error);\n        });\n    };\n};\n\nexport function cargarDocumentos(payload) {\n    return {\n        type: CARGAR_DOCUMENTOS,\n        payload\n    }\n}\n  \nexport const fetchDocumentos = () => {\n    return (dispatch) => {\n        return request(\"/documentos\").then(response => {\n            dispatch(cargarDocumentos(response))\n        })\n        .catch(error => {\n            throw(error);\n        });\n    };\n};","export function queryCalendario(variables){\n    return variables.equipo ? `{\n    dias(where: { equipo: \"${ variables.equipo }\" }){\n        _id\n        fecha\n        tipo\n        aprobado\n        nombre\n        user{\n            _id\n            username\n            avatar{\n                url\n            }\n        }\n    }\n}` : \"{}\"\n}\n\nexport function queryES(variables){\n    return variables.equipo ? `{\n    equipo(id: \"${ variables.equipo }\"){\n        users{\n            _id\n            username\n            avatar{\n                url\n            }\n            registros{\n                _id\n                fecha\n                idcard\n                user{\n                    _id\n                    username\n                }\n                ultimoEditor{\n                    _id\n                    username\n                }\n            }\n            duracionjornada\n        }\n    }\n}` : \"{}\"\n}","import { Component } from 'react';\nimport { getUserInfo } from './utils/auth';\n//import { includes as lodashIncludes } from 'lodash';\n\nclass PrivateComponent extends Component {\n\n  render() {\n    const userInfo = getUserInfo()\n    const authData = (typeof userInfo === \"object\" && userInfo !== null && userInfo.blocked === false ) ? userInfo : {\n      role: {\n        name: \"Not Authorised\"\n      }\n    };\n    return authData.manager ? this.props.children : \"\";\n  }\n}\n\nexport default PrivateComponent","import React, { Component } from 'react'\n\nclass ScrollWatch extends Component{\n\n    isBottom(el) {\n        return el.getBoundingClientRect().bottom <= window.innerHeight;\n    }\n      \n    onScroll = e => {\n        console.log(e)\n        const wrappedElement = document.getElementById('header');\n        if (this.isBottom(wrappedElement)) {\n          console.log('header bottom reached');\n          document.removeEventListener('scroll', this.trackScrolling);\n        }\n    };\n\n    render(){\n        return(\n            <div onScroll={this.onScroll}>\n                { this.props.children }\n            </div>\n        )\n    }\n}\n\nexport default ScrollWatch","import React, { Component } from 'react'\nimport { Menu, Layout, Typography, Avatar, Badge, Dropdown, Icon, message } from 'antd'\nimport { Link, withRouter } from 'react-router-dom'\nimport { getUserInfo, clearData, getAvatar } from './utils/auth';\nimport { socketConnect } from 'socket.io-react';\nimport { connect } from 'react-redux';\nimport { fetchES, cambiarBlueCollar } from './actions';\nimport ScrollWatch from './ScrollWatch';\nimport PrivateComponent from './PrivateComponent';\n\nconst { Header, Footer, Sider, Content } = Layout;\nconst { Title, Paragraph } = Typography;\n\nclass Frame extends Component{\n\n    state = {\n        user: {\n            username: \" \",\n            avatar: {}\n        },\n        userNotif: 0\n    }\n\n    cerrarSesion = () => {\n        clearData();\n        message.info(\"¡Vuelve pronto!\")\n        this.props.history.push(\"/login\")\n    }\n\n    async componentDidMount(){\n        const user = getUserInfo()\n        this.props.socket.on('notification', msg => {\n            //console.log(msg)\n            if(user.equipo === msg.equipo && user.manager === true){\n                this.setState({ userNotif: this.state.userNotif + 1 })\n            }\n            if(msg.es){\n                this.props.dispatch(fetchES())\n            }\n        });\n        this.setState({ user })\n    }\n\n    render(){\n        const { user } = this.state\n        const { isLogged } = this.props\n        const menuAvatar = (\n            <Menu>\n                <Menu.Item>\n                    <Link to=\"/perfil\">Perfil</Link>\n                </Menu.Item>\n                <Menu.Item onClick={this.cerrarSesion}>\n                    <span>Cerrar sesión</span>\n                </Menu.Item>\n                {(user && user.manager) && \n                    <Menu.Item onClick={() => this.props.dispatch(cambiarBlueCollar(!this.props.blueCollar))}>\n                        <span>{ this.props.blueCollar ? \"Modo Manager\" : \"Modo Blue Collar\" }</span>\n                    </Menu.Item>\n                }\n            </Menu>\n        );\n\n        return (\n            <div style={{ minHeight: \"100vh\", display: \"flex\", flexDirection: \"column\" }}>\n                <Header key=\"header\" style={{ backgroundColor: \"black\", display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\n                    <Title style={{ color: \"#f0f0f0\", margin: \"0.25em\", display: \"flex\", alignItems: \"center\" }}>\n                        <img src={process.env.REACT_APP_API_URL + \"/logo.png\"} alt=\"Blacknosaur Logo\" style={{ filter: \"invert(1)\", height: 45, marginRight: 20 }} /> Portal del Blacknosaurio\n                    </Title>\n                    { isLogged &&\n                        <Dropdown overlay={menuAvatar}>\n                            <Avatar style={{ boxShadow: this.props.blueCollar ? \"inset 0 0 4px 1px blue\" : \"none\" }} src={(user && user.avatar) && (process.env.REACT_APP_API_URL + user.avatar.url)}>{ user && user.username[0].toUpperCase() }</Avatar>\n                        </Dropdown>\n                    }\n                </Header>\n                <Layout key=\"layout\" style={{ flex: 1 }}>\n                    { isLogged &&\n                        <Sider style={{ backgroundColor: \"#191919\" }}>\n                            <Menu \n                                theme=\"dark\" \n                                style={{ backgroundColor: \"#191919\" }} \n                                mode=\"vertical-left\"\n                                selectedKeys={[window.location.pathname]}\n                            >\n                                <Menu.Item key=\"/calendario\"><Link to=\"/calendario\">Calendario</Link></Menu.Item>\n                                <Menu.Item key=\"/documentos\"><Link to=\"/archivos\">Documentos</Link></Menu.Item>\n                                <Menu.Item key=\"/registro\"><Link to=\"/registro\">Registro E/S</Link></Menu.Item>\n                                <Menu.Item key=\"/usuarios\" style={{display: (user && (user.manager && !this.props.blueCollar)) ? \"flex\" : \"none\"}}>\n                                    {/*<Badge count={this.state.userNotif}>*/}\n                                        <Link to=\"/usuarios\">Usuarios</Link>\n                                    {/*</Badge>*/}\n                                </Menu.Item>\n                                {/* <Menu.Item key=\"/analitica\" style={{display: (user && (user.manager && !this.props.blueCollar)) ? \"flex\" : \"none\"}}><Link to=\"/analitica\">Analítica</Link></Menu.Item> */}\n                                <Menu.Item key=\"/configuracion\" style={{display: (user && (user.manager && !this.props.blueCollar)) ? \"flex\" : \"none\"}}><Link to=\"/configuracion\">Configuración</Link></Menu.Item>\n                            </Menu>\n                        </Sider>\n                    }\n                    <Layout>\n                        <Content style={{ padding: \"2em\", display: \"flex\", flexDirection: \"column\" }}>\n                            <div style={{ flex: 1 }}>\n                                { this.props.children }\n                            </div>\n                            <Footer style={{paddingBottom: 0}}>\n                                <Paragraph>&reg; 2019 - Made with <span role=\"img\" aria-label=\"heart\">❤️</span>, <span role=\"img\" aria-label=\"beer\">🍺</span> and <span role=\"img\" aria-label=\"poo\">💩</span> by <a href=\"https://blacknosaur.com\" target=\"_blank\" rel=\"noopener noreferrer\">Blacknosaur</a> & <a href=\"https://www.alhill.dev\" target=\"_blank\" rel=\"noopener noreferrer\">AlHill Development</a></Paragraph>\n                            </Footer>\n                        </Content>\n                    </Layout>\n                </Layout>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        blueCollar: state.blueCollar,\n    }\n}\n\nexport default socketConnect(connect(mapStateToProps)(withRouter(Frame)))","import React, { Component } from 'react'\nimport Frame from './Frame'\nimport { Form, Icon, Input, Button, Layout, Card, Row, Col, message } from 'antd';\nimport { saveAuthData, getToken } from './utils/auth';\nimport { connect } from 'react-redux'\nimport { fetchCalendario, fetchUsuarios, fetchES } from './actions'\n\nfunction hasErrors(fieldsError) {\n    return Object.keys(fieldsError).some(field => fieldsError[field]);\n}\n\nclass Login extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            error: false\n        }\n    }\n    componentDidMount() {\n        // To disabled submit button at the beginning.\n        this.props.form.validateFields();\n        if(getToken()){ this.props.history.push(\"/\") }\n    }\n    \n    handleSubmit = (e) => {\n        e.preventDefault();\n        this.props.form.validateFields((err, values) => {\n          if (!err) {\n            //console.log('Received values of form: ', values);\n            fetch(process.env.REACT_APP_API_URL + \"/auth/local\", {\n                method: \"POST\",\n                headers: {\n                    \"Accept\": \"application/json\",\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({ identifier: values.userName, password: values.password })\n            }).then(resp => {\n                resp.json().then(data => {\n                    console.log(data.user)\n                    if(data.statusCode === 400){\n                        this.setState({ error: true })\n                    }\n                    else if(!data.user.confirmed){\n                        message.info(\"Tu acceso al equipo de trabajo todavía no ha sido aprobado\")\n                    }\n                    else{\n                        this.setState({ error: false })\n                        saveAuthData(data);\n                        this.props.dispatch(fetchUsuarios())\n                        this.props.dispatch(fetchCalendario())\n                        this.props.dispatch(fetchES())\n                        this.props.history.push(\"/calendario\")\n                    }\n                }).catch(err => console.log(err))\n            }).catch(err => console.log(err))\n          }\n        });\n    }       \n\n    render(){\n        const { getFieldDecorator, getFieldsError, getFieldError, isFieldTouched } = this.props.form;\n        const userNameError = isFieldTouched('userName') && getFieldError('userName');\n        const passwordError = isFieldTouched('password') && getFieldError('password');\n\n        return (\n            <Layout style={{ height: \"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <Layout.Content style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n                        <Card style={{ width: 450, maxWidth: \"90%\" }}>\n                            <Form onSubmit={this.handleSubmit}>\n                                <Form.Item\n                                    validateStatus={( userNameError || this.state.error ) ? 'error' : ''}\n                                    help={userNameError || ''}\n                                    >\n                                    { getFieldDecorator('userName', { rules: [{ required: true, message: 'Introduce tu nombre de usuario' }] })(\n                                        <Input \n                                        onChange={e => this.setState({ user: e.target.value })}\n                                        prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />} \n                                        placeholder=\"Nombre de usuario\" \n                                        />\n                                    )}\n                                </Form.Item>\n                                <Form.Item\n                                    validateStatus={( passwordError || this.state.error ) ? 'error' : ''}\n                                    help={passwordError || ''}\n                                    >\n                                    { getFieldDecorator('password', { rules: [{ required: true, message: 'Introduce tu contraseña' }] })(\n                                        <Input \n                                            onChange={e => this.setState({ pw: e.target.value })} \n                                            prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />} \n                                            type=\"password\" \n                                            placeholder=\"Contraseña\" \n                                        />\n                                    )}\n                                </Form.Item>\n                                <Form.Item>\n                                    <Row>\n                                        <Col span={12} style={{ justifyContent: \"center\", display: \"flex\" }}>\n                                            <Button type=\"primary\" onClick={() => this.props.history.push(\"/register\")}>\n                                                Registrarse\n                                            </Button>\n                                        </Col>\n                                        <Col span={12} style={{ justifyContent: \"center\", display: \"flex\" }}>\n                                            <Button\n                                                type=\"primary\"\n                                                htmlType=\"submit\"\n                                                disabled={hasErrors(getFieldsError())}\n                                                >\n                                                Acceder\n                                            </Button>\n                                        </Col>\n                                    </Row>\n                                </Form.Item>\n                            </Form>\n                        </Card>\n                    </Layout.Content>\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nexport default Form.create({ name: 'login_form' })(connect()(Login))\n\n\n\n","import React, { Component } from 'react'\nimport { Form, Icon, Input, Button, Layout, Card, Row, Col } from 'antd';\nimport { saveAuthData, getHeaders, getToken } from './utils/auth';\nimport Frame from './Frame';\n\nclass Register extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            errorUser: false,\n            errorEmail: false,\n            errorPw: false\n        }\n    }\n    componentDidMount() {\n        // To disabled submit button at the beginning.\n        this.props.form.validateFields();\n    }\n\n    validateEmail(email) {\n        const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return re.test(String(email).toLowerCase());\n    }\n    \n    handleSubmit = (e) => {\n        e.preventDefault();\n        this.props.form.validateFields((err, values) => {\n        // console.log('Received values of form: ', values);\n            if (!err) {\n                if( values.password === values.password2 ){\n                    if(this.validateEmail(values.email)){\n                        fetch(process.env.REACT_APP_API_URL + \"/auth/local/register\", {\n                            method: \"POST\",\n                            headers: getHeaders(true),\n                            body: JSON.stringify({ \n                                username: values.userName, password: values.password, email: values.email, confirmed: false \n                            })\n                        }).then(resp => {\n                            resp.json().then(data => {\n                                saveAuthData(data)\n                                this.props.history.push(\"/nuevousuario\")\n                            }).catch(err => console.log(err))\n                        }).catch(err => console.log(err))\n                    }\n                    else{\n                        this.setState({ errorEmail: true })\n                    }\n                }\n                else{\n                    this.setState({ errorPw: true })\n                }\n          }\n        });\n    }       \n\n    render(){\n        const { getFieldDecorator, getFieldError, isFieldTouched } = this.props.form;\n        const userNameError = isFieldTouched('userName') && getFieldError('userName');\n        const emailError = isFieldTouched('email') && getFieldError('email');\n        const passwordError = isFieldTouched('password') && getFieldError('password');\n        const password2Error = isFieldTouched('password2') && getFieldError('password2');\n\n        return (\n            <Layout style={{ height: \"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <Layout.Content style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n                        <Card style={{ width: 450, maxWidth: \"90%\" }}>\n                            <Form onSubmit={this.handleSubmit}>\n                                <Form.Item\n                                    validateStatus={( userNameError || this.state.errorUser ) ? 'error' : ''}\n                                    help={userNameError || ''}\n                                    >\n                                    { getFieldDecorator('userName', { rules: [{ required: true, message: 'Introduce tu nombre de usuario' }] })(\n                                        <Input \n                                            onChange={e => this.setState({ user: e.target.value })}\n                                            prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />} \n                                            placeholder=\"Nombre de usuario\" \n                                        />\n                                    )}\n                                </Form.Item>\n                                <Form.Item\n                                    validateStatus={( emailError || this.state.errorEmail ) ? 'error' : ''}\n                                    help={emailError || ''}\n                                    >\n                                    { getFieldDecorator('email', { rules: [{ required: true, message: 'Introduce tu email' }] })(\n                                        <Input \n                                            onChange={e => this.setState({ email: e.target.value })}\n                                            prefix={<Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />} \n                                            type=\"email\"\n                                            placeholder=\"Email\" \n                                        />\n                                    )}\n                                </Form.Item>\n                                <Form.Item\n                                    validateStatus={( passwordError || this.state.errorPw ) ? 'error' : ''}\n                                    help={passwordError || ''}\n                                    >\n                                    { getFieldDecorator('password', { rules: [{ required: true, message: 'Introduce tu contraseña' }] })(\n                                        <Input \n                                            onChange={e => this.setState({ pw: e.target.value })} \n                                            prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />} \n                                            type=\"password\" \n                                            placeholder=\"Contraseña\" \n                                        />\n                                    )}\n                                </Form.Item>\n                                <Form.Item\n                                    validateStatus={( password2Error || this.state.errorPw ) ? 'error' : ''}\n                                    help={password2Error || ''}\n                                    >\n                                    { getFieldDecorator('password2', { rules: [{ required: true, message: 'Repite la contraseña' }] })(\n                                        <Input \n                                            onChange={e => this.setState({ pw: e.target.value })} \n                                            prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />} \n                                            type=\"password\" \n                                            placeholder=\"Repetir contraseña\" \n                                        />\n                                    )}\n                                </Form.Item>\n                                <Form.Item>\n                                    <Row>\n                                        <Col style={{ justifyContent: \"center\", display: \"flex\" }}>\n                                            <Button type=\"primary\" onClick={this.handleSubmit}>\n                                                Registrarse\n                                            </Button>\n                                        </Col>\n                                    </Row>\n                                </Form.Item>\n                            </Form>\n                        </Card>\n                    </Layout.Content>\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nexport default Form.create({ name: 'register_form' })(Register)\n\n\n\n","import React from 'react'\nimport Frame from './Frame'\nimport { Typography, Layout, Card } from 'antd'\nimport { getToken } from './utils/auth'\n\nconst FourOhFour = () => (\n    <Layout style={{ height: \"100vh\"}}>\n        <Frame isLogged={ getToken() ? true : false }>\n            <Layout.Content style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n                <Card style={{ width: 450, maxWidth: \"90%\" }}>\n                    <Typography.Title style={{ margin: 0, textAlign: \"center\" }}>404!</Typography.Title>\n                </Card>\n            </Layout.Content>\n        </Frame>\n    </Layout>\n)\n\nexport default FourOhFour","import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { getUserInfo } from './utils/auth';\n\nexport const PrivateRoute = ({ component: Component, onlyManager = false, ...rest }) => {\n    const userInfo = getUserInfo();\n    return(\n        <Route\n            {...rest}\n            render={props => \n                userInfo && (!onlyManager || ( onlyManager && userInfo.manager )) ? (\n                    <Component {...props} />\n                ) : (\n                    <Redirect\n                        to={{\n                            pathname: \"/login\",\n                            state: { from: props.location }\n                        }}\n                    />\n                )\n            }\n        />\n    )\n}","import React, { Component } from 'react'\nimport { getToken } from './utils/auth';\nimport { Layout } from 'antd'\nimport Frame from './Frame';\n\n\nclass Home extends Component{\n    render(){\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <h1>Home</h1>\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nexport default Home","import React, { Component } from 'react'\nimport { Layout, Typography, Calendar, Modal, message, Avatar, Button, Popover, Radio, Row, Table, Popconfirm, Tag } from 'antd'\nimport moment from 'moment';\nimport { getHeaders, getUserInfo, getToken } from './utils/auth';\nimport request from './utils/request';\nimport Frame from './Frame';\nimport PrivateComponent from './PrivateComponent';\nimport { connect } from 'react-redux'\nimport { fetchCalendario } from './actions';\n\nconst query = getUserInfo() ? `{\n    dias(where: { equipo: \"${getUserInfo().equipo }\" }){\n        _id\n        fecha\n        tipo\n        aprobado\n        user{\n            _id\n            username\n            avatar{\n                url\n            }\n        }\n    }\n}` : \"{}\"\n\nclass Calendario extends Component{\n    state = {\n        modalPedirDia: false,\n        dias: [],\n        diasFilter: [],\n        diasPorAprobar: [],\n        festivos: [],\n        festivosArrUTC: [],\n        sel1: \"libres\",\n        sel2: \"global\"\n    }\n\n    componentDidMount(){\n        \n        const columns = [{\n            title: 'Nombre de usuario',\n            key: 'user',\n            render: r => r.user && r.user.username\n        }, {\n            title: 'Tipo',\n            dataIndex: 'tipo',\n            key: 'tipo'\n        }, {\n            title: 'Fecha',\n            key: 'fecha',\n            render: row => moment(row.fecha).format(\"YYYY-MM-DD\")\n        }, {\n            title: 'Acción',\n            key: 'action',\n            render: (text, record) => (\n              <span>\n                <Popconfirm title={`¿Estás seguro de que deseas aceptar la solicitud de día ${record.tipo} para el día ${moment(record.fecha).format(\"YYYY-MM-DD\")} a ${record.user && record.user.username}?`} onConfirm={evt => this.responderSolicitud(record, true)}>\n                    <Tag color=\"green\" key={`${record._id}_aceptar`}>Aprobar</Tag>\n                </Popconfirm>\n                <Popconfirm title={`¿Estás seguro de que deseas denegar la solicitud de día ${record.tipo} para el día ${moment(record.fecha).format(\"YYYY-MM-DD\")} a ${record.user && record.user.username}?`} onConfirm={evt => this.responderSolicitud(record, false)}>\n                    <Tag color=\"volcano\" key={`${record._id}_denegar`}>Denegar</Tag>\n                </Popconfirm>\n              </span>\n            ),\n        }]\n        this.setState({ columns })\n        if(this.props.dias){\n            this.organizarDias()\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if(prevState.sel1 !== this.state.sel1 || prevState.sel2 !== this.state.sel2){\n            this.setState({ diasFilter: this.filtrarDias(this.state.dias) })\n        }\n        else if(prevProps.dias !== this.props.dias){\n            this.organizarDias()\n        }\n    }\n\n    fetchDias = async () => {         \n        await this.props.dispatch(fetchCalendario())\n        this.organizarDias()\n    }\n\n    organizarDias = () => {\n        const { dias } = this.props\n        const festivos = this.props.dias.filter(d => d.tipo === \"festivo\").map(f => ({\n            ...f,\n            fecha: moment.utc(f.fecha).hour(0).minute(0).seconds(0).milliseconds(0).format()\n        }))\n        const festivosArrUTC = festivos.map(f => moment.utc(f.fecha).hour(2).minute(0).seconds(0).milliseconds(0).format())\n        this.setState({ \n            dias, \n            festivos,\n            festivosArrUTC,\n            diasFilter: this.filtrarDias(dias), \n            diasPorAprobar:dias.filter(d => !d.aprobado).map(d => ({...d, key: d._id})) \n        })\n    }\n   \n    filtrarDias = (dias) => {\n        const primerFiltro = this.state.sel1 === \"libres\" ?\n        dias.filter(d => d.tipo === \"libre\") :\n        dias.filter(d => d.tipo === \"remoto\")\n\n        const diasFilter = this.state.sel2 === \"aprobados\" ?  primerFiltro.filter(d => ( d.aprobado && d.user._id === getUserInfo()._id )) : (\n                           this.state.sel2 === \"pendientes\" ? primerFiltro.filter(d => ( !d.aprobado && d.user._id === getUserInfo()._id )) :\n                                                              primerFiltro.filter(d => d.aprobado))\n                                                              \n        return diasFilter\n    }\n\n    responderSolicitud = (dia, bool) => {\n        if(bool){ //Aceptar\n            request(\"/dias/\" + dia._id, {\n                method: \"PUT\",\n                body: { aprobado: true }\n            }).then(resp => {\n                message.success(`Se ha aprobado la solicitud de ${dia.user.username} de día ${dia.tipo} el día ${moment(dia.fecha).format(\"YYYY-MM-DD\")}`)\n                this.fetchDias()\n            }).catch(err => {\n                console.error(err)\n                message.error(`Se ha producido un error durante la aprobación del día ${dia.tipo} solicitado`)                    \n            })\n        }\n        else{ //Denegar\n            request(\"/dias/\" + dia._id, {\n                method: \"DELETE\",\n            }).then(resp => {\n                message.info(\"Se ha denegado la solicitud de día \" + dia.tipo)\n                this.fetchDias()    \n            }).catch(err => {\n                message.error(`Se ha producido un error durante la denegación del día ${dia.tipo} solicitado`)       \n                console.error(err)\n            })\n        }\n    }\n\n    getListData = value => {\n        const listData = this.state.diasFilter\n            .filter(d => moment(d.fecha).format(\"YYYYMMDD\") === moment(value).format(\"YYYYMMDD\"))\n            .map(d => ({\n                user: d.user.username,\n                fecha: moment(d.fecha),\n                avatar: d.user.avatar && (process.env.REACT_APP_API_URL + d.user.avatar.url)\n            }))\n        return listData || [];\n    }\n\n    dateFullCellRender = value => {\n\n        const listData = this.getListData(value);\n        const valueUTC = moment.utc(value.hour(2).minute(0).seconds(0).milliseconds(0)).format()\n        \n        const festivo = this.state.festivos.find(f => { return moment.utc(f.fecha).format() === valueUTC })\n\n        const tc = {\n            title: festivo ? festivo.nombre : value.format(\"LL\"),\n            color: festivo ? \"rgba(255, 40, 30, 0.5)\" : ( [0, 6].includes(value.day()) ? \"rgba(255, 200, 100, 0.5)\" : \"transparent\" )\n        }\n        \n        // const title = this.state.festivos.find(f => f.fecha === valueUTC) ? this.state.festivos.find(f => f.fecha === valueUTC).nombre : \"PENE\"\n        // const color = this.state.festivosArrUTC.includes(valueUTC) ? \"red\" : ([0, 6].includes(value.day()) ? \"orange\" : \"transparent\" )\n        return (\n            <div className=\"ant-fullcalendar-date\" style={{ backgroundColor: tc.color, margin: \"-1px 0\", borderRadius: 3 }} title={tc.title}>\n                <div className=\"ant-fullcalendar-value\">{ value.date() }</div>\n                <div className=\"ant-fullcalendar-content\">\n                    <ul className=\"events\">\n                    {\n                        listData.map(item => (\n                            <Popover key={item.fecha} content={<span>{item.user}</span>}>\n                                <Avatar src={item.avatar ? process.env.REACT_APP_API_URL + item.avatar : null}>{ item.user[0].toUpperCase() }</Avatar>\n                            </Popover>\n                        ))\n                    }\n                    </ul>\n                </div>\n            </div>\n        );\n    }\n\n    solicitarDia = (fecha, tipo) => {\n        const { _id, equipo } = getUserInfo()\n        console.log(getUserInfo())\n        console.log(tipo)\n        fetch(process.env.REACT_APP_API_URL + \"/dias\", {\n            method: \"POST\",\n            headers: getHeaders(),\n            body: JSON.stringify({\n                fecha, tipo, user: _id, equipo\n            })\n        }).then(resp => {\n            resp.json().then(dia => {\n                console.log(dia)\n                message.info(`Has solicitado como día ${tipo} el ${moment(this.state.dia).format(\"DD/MM/YYYY\")}. Tu solicitud está pendiente de aprobación`); \n                this.fetchDias()\n                this.setState({ modalPedirDia: false, dias: [...this.state.dias, dia] })\n            }).catch(err => console.log(err))\n        }).catch(err => console.log(err))\n\n    }\n\n    render(){\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <Row style={{ justifyContent: \"space-around\", display: \"flex\"}}>\n                        <Radio.Group defaultValue={this.state.sel1} buttonStyle=\"solid\">\n                            <Radio.Button onClick={() => this.setState({ sel1: \"libres\" }) } value=\"libres\">Libres</Radio.Button>\n                            <Radio.Button onClick={() => this.setState({ sel1: \"remotos\" }) } value=\"remotos\">Remotos</Radio.Button>\n                        </Radio.Group>\n                        <Radio.Group defaultValue={this.state.sel2} buttonStyle=\"solid\">\n                            <Radio.Button onClick={() => this.setState({ sel2: \"global\" }) } value=\"global\">Global aprobados</Radio.Button>\n                            <Radio.Button onClick={() => this.setState({ sel2: \"aprobados\" }) } value=\"aprobados\">Mis días aprobados</Radio.Button>\n                            <Radio.Button onClick={() => this.setState({ sel2: \"pendientes\" }) } value=\"pendientes\">Mis días pendientes de aprobación</Radio.Button>\n                        </Radio.Group>\n                    </Row>\n                    <Calendar\n                        onSelect={evt => this.setState({\n                            dia: evt,\n                            modalPedirDia: true\n                        })} \n                        dateFullCellRender={this.dateFullCellRender}\n                        style={{ margin: \"-1px 0\"}}\n                    />\n                    <PrivateComponent>\n                        <h1>Días pendientes de revisión</h1>\n                        <Table dataSource={this.state.diasPorAprobar} columns={this.state.columns || []} />\n                    </PrivateComponent>\n                </Frame>\n                <Modal\n                    visible={this.state.modalPedirDia}\n                    onCancel={() => this.setState({ modalPedirDia: false })}\n                    footer={[\n                        <Button key=\"libre\" onClick={() => this.solicitarDia( this.state.dia, \"libre\")}>Día libre</Button>,\n                        <Button key=\"remoto\" type=\"primary\" onClick={() => this.solicitarDia( this.state.dia, \"remoto\")}>Día remoto</Button>\n                      ]}\n                >\n                    <p>Solicitar el día { moment(this.state.dia).format(\"DD/MM/YYYY\") } como... </p>\n                </Modal>\n            </Layout>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        dias: state.dias\n    }\n}\n\nexport default connect(mapStateToProps)(Calendario)","import React, { Component } from 'react'\nimport { Form, Icon, Input, Button, Layout, Card, Row, Col, message } from 'antd';\nimport { getHeaders, getUserInfo, getToken } from './utils/auth';\nimport { Typography } from 'antd';\nimport gql from './utils/gql';\nimport Frame from './Frame';\n\nconst { Title } = Typography;\n\nconst query = `{\n    equipos(where: {nombre: \"$nombre$\"}){\n        _id\n    }\n}`\nclass NuevoUsuario extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            errorUser: false,\n            errorEmail: false,\n            errorPw: false\n        }\n    }\n    // componentDidMount() {\n    //     // To disabled submit button at the beginning.\n    //     this.props.form.validateFields();\n    // }\n    \n    solicitarAcceso = e => {\n        e.preventDefault()\n        this.props.form.validateFields((err, values) => {\n            fetch(process.env.REACT_APP_API_URL + gql(query, { nombre: values.unirse }), { headers: getHeaders() })\n                .then(response => {\n                    console.log(response)\n                    response.json().then(data => {\n                        console.log(data)\n                        if(data.data.equipos[0]){\n                            fetch(process.env.REACT_APP_API_URL + \"/users/\" + getUserInfo()._id, {\n                                method: \"PUT\",\n                                headers: getHeaders(),\n                                body: JSON.stringify({\n                                    equipo: data.data.equipos[0]._id,\n                                    confirmed: false\n                                })\n                            }).then(data => {\n                                console.log(data)\n                                if(data.ok){\n                                    message.info(`Se ha solicitado con éxito el acceso al equipo \"${values.unirse}\"`)\n                                }\n                            })\n                        }\n                        else{\n                            message.error(`No se ha encontrado ningún equipo \"${values.unirse}\"`); \n                        }\n                    }).catch(err => console.log(err))\n                }).catch(err => console.log(err))\n        })\n    }\n\n    crearEquipo = e => {\n        e.preventDefault()\n        this.props.form.validateFields((err, values) => {\n            fetch(process.env.REACT_APP_API_URL + \"/equipos\", {\n                method: \"POST\",\n                headers: getHeaders(),\n                body: JSON.stringify({\n                    nombre: values.crear,\n                    users: [getUserInfo()._id]\n                })\n            }).then(response => {\n                response.json().then(data => {\n                    fetch(process.env.REACT_APP_API_URL + \"/users/\" + getUserInfo()._id, {\n                        method: \"PUT\",\n                        headers: getHeaders(),\n                        body: JSON.stringify({\n                            confirmed: true,\n                            manager: true\n                        })\n                    }).then(() => {\n                        this.props.history.push(\"/\")\n                    })\n                }).catch(err => { console.log(err); message.error(\"Se ha producido un error al asignar el usuario al equipo recien creado\") })\n            }).catch(err => { console.log(err); message.error(\"Se ha producido un error al crear el equipo\") })\n        })\n    }   \n\n    render(){\n        const { getFieldDecorator, getFieldError, isFieldTouched } = this.props.form;\n        const unirseError = isFieldTouched('unirse') && getFieldError('unirse');\n        const crearError = isFieldTouched('crear') && getFieldError('crear');\n\n        return (\n            <Layout style={{ height: \"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <Layout.Content style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\" }}>\n                        <Form onSubmit={this.handleSubmit}>\n                            <Card style={{ width: 450, maxWidth: \"90%\", marginBottom: \"1em\" }}>\n                                <Title level={2}>Unirse a un equipo</Title>\n                                <Form.Item\n                                    validateStatus={( unirseError || this.state.errorUnirse ) ? 'error' : ''}\n                                    help={unirseError || ''}\n                                    >\n                                    { getFieldDecorator('unirse', { rules: [{ required: true, message: 'Introduce el nombre del equipo' }] })(\n                                        <Input \n                                            onChange={e => this.setState({ pw: e.target.value })} \n                                            prefix={<Icon type=\"team\" style={{ color: 'rgba(0,0,0,.25)' }} />} \n                                            type=\"text\" \n                                            placeholder=\"Nombre del equipo al que te quieres unir\" \n                                        />\n                                    )}\n                                </Form.Item>\n                                <Form.Item>\n                                    <Row>\n                                        <Col style={{ justifyContent: \"center\", display: \"flex\" }}>\n                                            <Button type=\"primary\" onClick={this.solicitarAcceso}>\n                                                Solicitar acceso\n                                            </Button>\n                                        </Col>\n                                    </Row>\n                                </Form.Item>\n                            </Card>\n                            <Card style={{ width: 450, maxWidth: \"90%\" }}>\n                                <Title level={2}>Crear un equipo</Title>\n                                <Form.Item\n                                    validateStatus={( crearError || this.state.errorCrear ) ? 'error' : ''}\n                                    help={crearError || ''}\n                                    >\n                                    { getFieldDecorator('crear', { rules: [{ required: true, message: 'Introduce el nombre del equipo' }] })(\n                                        <Input \n                                            onChange={e => this.setState({ pw: e.target.value })} \n                                            prefix={<Icon type=\"usergroup-add\" style={{ color: 'rgba(0,0,0,.25)' }} />} \n                                            type=\"password\" \n                                            placeholder=\"Nombre del equipo a crear\" \n                                        />\n                                    )}\n                                </Form.Item>\n                                <Form.Item>\n                                    <Row>\n                                        <Col style={{ justifyContent: \"center\", display: \"flex\" }}>\n                                            <Button type=\"primary\" onClick={this.crearEquipo}>\n                                                Crear equipo\n                                            </Button>\n                                        </Col>\n                                    </Row>\n                                </Form.Item>\n                            </Card>\n                        </Form>\n                    </Layout.Content>\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nexport default Form.create({ name: 'nuevousuario_form' })(NuevoUsuario)\n\n\n\n","import React, { Component } from 'react'\nimport { Layout, Upload, Icon, message, Table, Button, Select, Tag, Popconfirm, Checkbox, Collapse } from 'antd'\nimport Frame from './Frame';\nimport { getUserInfo, getToken } from './utils/auth';\nimport gql from './utils/gql';\nimport { connect } from 'react-redux'\nimport { fetchDocumentos } from './actions'\nimport request from './utils/request';\n\nconst query = `{\nuser(id:\"$userId$\"){\n    documentos{\n        _id\n    }\n}}`  \n\nclass Documentos extends Component{\n\n    state = {\n        fileList: [],\n        asociarA: [],\n        userInfo: getUserInfo(),\n        selectedUser: {documentos: []},\n        disponibleParaTodos: true,\n        columns: [{\n            title: 'Nombre de usuario',\n            dataIndex: 'username',\n            key: 'username',\n        }, {\n            title: 'Email',\n            dataIndex: 'email',\n            key: 'email',\n        }],\n        misArchColumns: [{\n            title: 'Nombre de archivo',\n            dataIndex: 'name',\n            key: 'name',\n        }, {\n            key: \"archivo\",\n            render: file => (\n                <div key={file._id} style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n                    <a href={process.env.REACT_APP_API_URL + file.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                        <Tag color=\"geekblue\" key={`${file._id}_file`}><Icon type=\"file-text\" /> Enlace</Tag>\n                    </a>\n                    <Popconfirm \n                        title={`¿Estás seguro de que deseas desvincular ${file.name} de ${this.state.selectedUser.username}?`} \n                        onConfirm={() => this.desvincularArchivo(file, this.state.selectedUser)}>\n                        <Tag color=\"orange\" key={`${file._id}_file`}><Icon type=\"disconnect\" /> Desvincular</Tag>\n                    </Popconfirm>\n                    <Popconfirm \n                        title={`¿Estás seguro de que deseas borrar ${file.name}? Esto borrará el archivo para todos los usuarios`} \n                        onConfirm={() => this.borrarArchivo(file)}\n                        icon={<Icon type=\"warning\" style={{ color: 'red' }} />}\n                    >\n                        <Tag color=\"volcano\" key={`${file._id}_file`}><Icon type=\"delete\" /> Borrar</Tag>\n                    </Popconfirm>\n                </div>\n            )\n        }],\n        archGlobColumns: [{\n            title: 'Nombre de archivo',\n            dataIndex: 'name',\n            key: 'name',\n        }, {\n            key: \"archivo\",\n            render: file => (\n                <div key={file._id} style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n                    <a href={process.env.REACT_APP_API_URL + file.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                        <Tag color=\"geekblue\" key={`${file._id}_file`}><Icon type=\"file-text\" /> Enlace</Tag>\n                    </a>\n                    <Popconfirm \n                        title={`¿Estás seguro de que deseas borrar ${file.name}? Esto borrará el archivo para todos los usuarios`} \n                        onConfirm={() => this.borrarArchivo(file)}\n                        icon={<Icon type=\"warning\" style={{ color: 'red' }} />}\n                    >\n                        <Tag color=\"volcano\" key={`${file._id}_file`}><Icon type=\"delete\" /> Borrar</Tag>\n                    </Popconfirm>\n                </div>\n            )\n        }],\n        archUserColumns: [{\n            title: 'Nombre de archivo',\n            dataIndex: 'name',\n            key: 'name',\n        }, {\n            key: \"archivo\",\n            render: file => (\n                <div key={file._id} style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n                    <a href={process.env.REACT_APP_API_URL + file.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                        <Tag color=\"geekblue\" key={`${file._id}_file`}><Icon type=\"file-text\" /> Enlace</Tag>\n                    </a>\n                </div>\n            )\n        }]\n    }\n\n    componentDidMount(){\n        this.setState({ selectedUser: this.props.usuarios.find(u => u.username === getUserInfo().username) })\n    }\n\n    componentDidUpdate(prevProps){\n        if(prevProps.usuarios !== this.props.usuarios){\n            this.setState({ selectedUser: this.props.usuarios.find(u => u.username === getUserInfo().username) })\n        }\n    }\n\n    rowSelection = {\n        onChange: (selectedRowKeys, selectedRows) => {\n            this.setState({ asociarA: selectedRows.map(u => u._id) })\n        },\n        getCheckboxProps: record => ({\n            disabled: record.name === 'Disabled User', // Column configuration not to be checked\n            name: record.name,\n        }),\n    };\n\n    desvincularArchivo = async (file, user) => {\n        const docId = this.state.selectedUser.documentos.find(d => d.archivo._id === file._id)._id\n        const documento = await request(\"/documentos/\" + docId)\n        const users = documento.users.filter(u => u._id !== user._id)\n        request(\"/documentos/\" + docId, {\n            method: \"PUT\",\n            body: { users }\n        }).then(data => {\n            message.info(\"El archivo se desvinculó correctamente\")\n            this.props.dispatch(fetchDocumentos())\n        }).catch(err => {\n            console.log(err)\n            message.error(\"Se produjo un error durante la desvinculación del documento\")\n        })\n    }\n\n    borrarArchivo = async file => {\n        const docId = this.props.documentos.find(d => d.archivo._id === file._id)._id\n        request(\"/upload/files/\" + file._id, {\n            method: \"DELETE\"\n        }).then(data => {\n            request(\"/documentos/\" + docId, {\n                method: \"DELETE\"\n            }).then(data => {\n                message.info(\"El archivo se borró correctamente\")\n                this.props.dispatch(fetchDocumentos())\n            }).catch(err => {\n                console.log(err)\n                message.error(\"Se produjo un error durante el borrado del documento\")\n            })\n        })\n          .catch(err => {\n            console.log(err)\n            message.error(\"Se produjo un error durante el borrado del documento\")\n        })\n    }\n\n    handleUpload = async () => {\n        try{\n            const promisingPromises = this.state.fileList.map(async file => {\n                console.log()\n                const doc = await request(\"/documentos\", { method: \"POST\", body: { global: this.state.disponibleParaTodos } })\n                const body = new FormData();\n                body.append(\"ref\", \"documento\");\n                body.append(\"refId\", doc._id);\n                body.append(\"field\", \"archivo\");\n                body.append(\"files\", file);\n                request(\"/upload\", {\n                    method: \"POST\",\n                    headers: {\"Authorization\": \"Bearer \" + getToken()},\n                    body\n                }, false)\n                return doc._id\n            })\n            const arrayArchivos = await Promise.all(promisingPromises)\n            console.log(arrayArchivos)\n            if(this.state.asociarA.length === 0 && !this.state.disponibleParaTodos){\n                message.error(\"El documento no está asociado a ningún usuario\")\n            }\n            else if(!this.state.disponibleParaTodos){\n                const promesitas = this.state.asociarA.map(async userId => {\n                    const antDocus = (await request(gql(query, { userId }))).data.user.documentos\n                    return request(\"/users/\" + userId, {\n                        method: \"PUT\",\n                        body: {\n                            documentos: [...antDocus, ...arrayArchivos]\n                        }\n                    })\n                })\n                Promise.all(promesitas).then(() => {\n                    message.info(\"Los documentos se han subido correctamente\")\n                    this.props.dispatch(fetchDocumentos())\n                    this.setState({\n                        mostrarListaUsuarios: false,\n                        fileList: []\n                    })\n                })\n            }\n            else{\n                message.info(\"Los documentos se han subido correctamente\")\n                this.props.dispatch(fetchDocumentos())\n                this.setState({\n                    mostrarListaUsuarios: false,\n                    fileList: []\n                })\n            }\n        }\n        catch(err){\n            console.log(err)\n            message.error(\"Ocurrió un error durante la subida de documentos\")\n        }\n    }\n\n    render(){\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <h1>Documentos</h1>\n                    {(this.state.userInfo.manager && !this.props.blueCollar ) && [ \n                        <div key=\"sa\" style={{ marginBottom: 50 }}>\n                            <h2>Subir archivo</h2>\n                            <div style={{ width: \"320px\", marginBottom: 20 }}>\n                                <Upload.Dragger \n                                    name='file'\n                                    action={ process.env.REACT_APP_API_URL + '/upload' }\n                                    multiple={true}\n                                    onChange={(info) => {\n                                        const status = info.file.status;\n                                        if (status !== 'uploading') {\n                                            //console.log(info.file, info.fileList);\n                                            if(info.fileList.length === 0){\n                                                this.setState({ mostrarListaUsuarios: false })\n                                            }\n                                        }\n                                        if (status === 'done') {\n                                            message.success(`${info.file.name} se ha subido correctamente.`);\n                                        } else if (status === 'error') {\n                                            message.error(`La subida de ${info.file.name} falló.`);\n                                        }\n                                    }} \n                                    beforeUpload={(file, fileList) => {\n                                        this.setState({ \n                                            fileList,\n                                            mostrarListaUsuarios: true \n                                        })\n                                        return false\n                                    }}\n                                    fileList={this.state.fileList}\n                                    onRemove={file => {\n                                        const fileList = this.state.fileList.filter(f => f.uid !== file.uid)\n                                        this.setState({ fileList, mostrarListaUsuarios: fileList.length > 0 ? true : false })\n                                    }}\n                                >\n                                    <Icon type=\"inbox\" />\n                                    <p>Arrastra documentos aquí</p>\n                                </Upload.Dragger>\n                            </div>\n                            { this.state.mostrarListaUsuarios &&\n                                <div style={{ display: \"flex\", flexDirection: \"column\"}}>\n                                    <Checkbox style={{ marginBottom: 20 }} checked={this.state.disponibleParaTodos} onChange={e => this.setState({ disponibleParaTodos: e.target.checked })}>Disponible para todos los usuarios</Checkbox>\n                                    <Collapse className=\"sinCabecera\" bordered={false} activeKey={ this.state.disponibleParaTodos ? \"0\" : \"1\"}>\n                                        <Collapse.Panel key=\"1\">\n                                            <h3 key=\"asociarTitle\">Asociar archivo a:</h3>\n                                            <Table key=\"asociarTabla\" rowSelection={this.rowSelection} dataSource={this.props.usuarios} columns={this.state.columns} />\n                                        </Collapse.Panel>\n                                    </Collapse>\n                                    <div>\n                                        <Button onClick={this.handleUpload}>Subir documentos</Button>\n                                    </div>\n                                </div>\n                            }\n                        </div>,\n                        <div key=\"apu\">\n                            <h2>Archivos por usuario</h2>\n                            <Select\n                                showSearch\n                                style={{ width: 200, marginBottom: 20 }}\n                                placeholder=\"Selecciona un usuario\"\n                                defaultValue={getUserInfo().username}\n                                optionFilterProp=\"children\"\n                                onChange={op => {\n                                    const selectedUser = this.props.usuarios.find(u => u.username === op)\n                                    this.setState({ selectedUser })\n\n                                }}\n                                filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                            >\n                                { this.props.usuarios.map(u => \n                                    <Select.Option value={u.username} key={u._id}>{u.username}</Select.Option>\n                                )}\n                            </Select>\n                            {\n                                this.state.selectedUser && \n                                    <Table \n                                        // dataSource={this.state.selectedUser.documentos.map(d => d.archivo)} \n                                        dataSource={this.props.documentos.filter(d => d.users.map(u => u._id).includes(this.state.selectedUser._id)).map(d => d.archivo)} \n                                        columns={this.state.misArchColumns}\n                                        rowKey=\"_id\"\n                                    ></Table>\n                            }\n\n                            <h2 style={{ marginTop: 20 }}>Archivos globales</h2>\n                            <Table \n                                dataSource={this.props.documentos.filter(d => d.global).map(d => d.archivo)} \n                                columns={this.state.archGlobColumns}\n                                rowKey=\"_id\"\n                            ></Table>\n                        </div>\n                    ]}\n                    { (!this.state.userInfo.manager || this.props.blueCollar ) &&\n                        <div>\n                            <h2>Mis archivos</h2>\n                            <Table \n                                dataSource={this.props.documentos.filter(d => this.state.userInfo.documentos.includes(d._id) || d.global).map(d => d.archivo)} \n                                columns={this.state.archUserColumns}\n                                rowKey=\"_id\"\n                            ></Table>\n                        </div>\n                    }\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        usuarios: state.usuarios,\n        documentos: state.documentos,\n        blueCollar: state.blueCollar\n    }\n}\n\nexport default connect(mapStateToProps)(Documentos)","import React, { Component } from 'react'\nimport { Layout, Table, Tag, Popconfirm, message, Icon, Button, Modal } from 'antd'\nimport Frame from './Frame';\nimport { socketConnect } from 'socket.io-react';\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { fetchUsuarios } from './actions'\nimport request from './utils/request';\nimport { getToken } from './utils/auth';\n\n\nclass Usuarios extends Component{\n\n    state = {\n        columns: [],\n        extraColumnsA: [],\n        extraColumnsB: []\n    }\n\n    componentDidMount() {\n        const columns = [{\n            title: 'Nombre de usuario',\n            dataIndex: 'username',\n            key: 'username',\n        }, {\n            title: 'Email',\n            dataIndex: 'email',\n            key: 'email',\n        }]\n\n        const extraColumnsA = [{\n            title: 'Manager',\n            dataIndex: 'manager',\n            render: bool => bool ? <Icon type=\"check-circle\" theme=\"twoTone\" twoToneColor=\"#eb2f96\" twoToneColor=\"#52c41a\"/> : <Icon type=\"close-circle\" theme=\"twoTone\" twoToneColor=\"#eb2f96\"/>\n        }, {\n            title: 'ID Tarjeta',\n            key: 'idcard',\n            render: (text, record) => {\n                return record.idcard ? \n                    <div>\n                        <span>{record.idcard}&nbsp;&nbsp;</span>\n                        <Popconfirm title={`¿Estás seguro de que deseas desasociar la tarjeta de ${record.email}?`} onConfirm={evt => this.desasociarTarjeta(record)}>\n                            <Tag color=\"volcano\" key={`${record._id}_denegar`}><Icon type=\"delete\" /></Tag>\n                        </Popconfirm>\n                    </div>\n                    : <Button type=\"primary\" onClick={() => this.setState({ modalAsociar: true, usuarioAsociar: record._id })}>Asociar tarjeta</Button>\n            }\n        }, {\n            key: 'btn',\n            render: (text, record) => (\n                <Link to={\"/usuario/\" + record._id}>\n                    <Tag key={`${record._id}_denegar`}><Icon type=\"user\" /> Editar</Tag>\n                </Link>\n            )\n        }]\n        const extraColumnsB = [{\n            title: 'Acción',\n            key: 'action',\n            render: (text, record) => (\n              <span>\n                <Popconfirm title={`¿Estás seguro de que deseas aceptar en ${record.equipo && record.equipo.nombre} a ${record.email}?`} onConfirm={evt => this.responderSolicitud(record, true)}>\n                    <Tag color=\"green\" key={`${record._id}_aceptar`}>Aceptar</Tag>\n                </Popconfirm>\n                <Popconfirm title={`¿Estás seguro de que deseas denegar la solicitud de ${record.email} para entrar en ${record.equipo && record.equipo.nombre}?`} onConfirm={evt => this.responderSolicitud(record, false)}>\n                    <Tag color=\"volcano\" key={`${record._id}_denegar`}>Denegar</Tag>\n                </Popconfirm>\n              </span>\n            ),\n        }]\n        this.setState({ columns, extraColumnsA, extraColumnsB })\n        if(this.props.usuarios){\n            this.filtraUsuarios(this.props.usuarios) \n        }\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if(prevProps.usuarios !== this.props.usuarios){\n            this.filtraUsuarios(this.props.usuarios)\n        }\n        else if(prevState.modalAsociar !== this.state.modalAsociar){\n            if( this.state.modalAsociar ){\n                this.props.socket.on('notification', msg => {\n                    console.log(msg)\n                    if(!this.props.usuarios.map(u => u.idcard).includes(msg.es)){\n                        request(\"/users/\" + this.state.usuarioAsociar, {\n                            method: \"PUT\",\n                            body: {\n                                idcard: msg.es && msg.es.idcard\n                            }\n                        }).then(data => {\n                            message.info(\"La tarjeta ha sido asociada correctamente\")\n                            this.fetchUsers()\n                            this.setState({ modalAsociar: false, usuarioAsociar: undefined })\n                        }).catch(err => {\n                            message.error(\"Se produjo un error durante el proceso de asociación de la tarjeta\")\n                            console.log(err)\n                            this.setState({ modalAsociar: false, usuarioAsociar: undefined })\n                        })\n                    }\n                    else{\n                        message.error(\"Esa tarjeta ya está asociada a un usuario. Desasociela antes de reasignarla.\")\n                    }\n                })\n            }\n            else{\n                this.props.socket.off('notification')\n            }\n        }\n    }\n\n    filtraUsuarios = usuarios => {\n        const activos = this.props.usuarios.filter(u => u.confirmed).map(u => ({...u, key: u._id}))\n        const pendientes = this.props.usuarios.filter(u => !u.confirmed).map(u => ({...u, key: u._id}))\n        this.setState({ activos, pendientes })\n    }\n\n    fetchUsers = async () => {\n        await this.props.dispatch(fetchUsuarios())\n        this.filtraUsuarios(this.props.usuarios)\n    }\n\n    responderSolicitud = (usuario, bool) => {\n        if(bool){ //Aceptar\n            request(\"/users/\" + usuario._id, {\n                method: \"PUT\",\n                body: { confirmed: true }\n            }).then(resp => {\n                message.success(`¡${usuario.email} ahora forma parte del equipo ${usuario.equipo.nombre}!`)\n                this.fetchUsers()\n            }).catch(err => {\n                console.error(err)\n                message.error(\"Se ha producido un error durante la confirmación de la solicitud del usuario\")                    \n            })\n        }\n        else{ //Denegar\n            request(\"/users/\" + usuario._id, {\n                method: \"DELETE\",\n            }).then(resp => {\n                message.info(\"La solicitud se ha denegado correctamente\")\n                this.fetchUsers()               \n            }).catch(err => {\n                message.error(\"Se ha producido un error durante la denegación de la solicitud del usuario\")       \n                console.error(err)\n            })\n        }\n    }\n\n    desasociarTarjeta = usuario => {\n        console.log(usuario)\n        request(\"/users/\" + usuario._id, {\n            method: \"PUT\",\n            body: {\n                idcard: \"\"\n            }\n        }).then(() => this.fetchUsers())\n    }\n    \n    render(){\n        const { activos, pendientes, columns, extraColumnsA, extraColumnsB } = this.state\n        //console.log(columns)\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <h1>Usuarios activos</h1>\n                    <Table dataSource={activos} columns={[...columns, ...extraColumnsA]} />\n                    <h1>Usuarios pendientes de aprobación</h1>\n                    <Table dataSource={pendientes} columns={[...columns, ...extraColumnsB]} />\n                </Frame>\n                <Modal\n                    visible={this.state.modalAsociar}\n                    onOk={e => e}\n                    onCancel={() => this.setState({ modalAsociar: false, usuarioAsociar: undefined })}\n                    footer={[\n                        <Button key=\"back\" type=\"primary\" onClick={() => this.setState({ modalAsociar: false, usuarioAsociar: undefined })}>Cancelar</Button>,\n                    ]}\n                >\n                    <p>Acerca la tarjeta al lector sin cerrar esta ventana para asociarla al usuario</p>\n                </Modal>\n            </Layout>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        usuarios: state.usuarios\n    }\n}\n\nexport default socketConnect(connect(mapStateToProps)(Usuarios))","import React, { Component } from 'react'\nimport { getToken } from './utils/auth';\nimport { Layout, Input, Form, Radio, Button, message } from 'antd'\nimport { connect } from 'react-redux'\nimport request from './utils/request'\nimport Frame from './Frame';\nimport { fetchUsuarios, fetchES } from './actions'\n\n\nclass EditUsuario extends Component{\n\n    state = {\n        usuario: {},\n        duracionjornada: \"\",\n        frasesStr: \"\",\n        frases: [],\n        frasePr: \"\",\n        frasePrAct: false,\n        manager: undefined\n    }\n\n    componentDidMount(){\n        if(this.props.usuarios.length > 0){\n            const usuario = this.props.usuarios.find(u => u._id === this.props.match.params.id) \n            console.log(usuario)\n            this.setState({ \n                duracionjornada: usuario.duracionjornada,\n                frasesStr: usuario.frases.reduce((a, b) => a + b + \"\\n\", \"\"),\n                frases: usuario.frases,\n                frasePr: usuario.frasePrioritaria,\n                frasePrAct: usuario.actFrasePrioritaria,\n                manager: usuario.manager,\n                usuario\n            })\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if(this.props.usuarios && this.props.usuarios !== prevProps.usuarios){\n            const usuario = this.props.usuarios.find(u => u._id === this.props.match.params.id) \n            console.log(usuario)\n            this.setState({ \n                duracionjornada: usuario.duracionjornada,\n                frasesStr: usuario.frases.reduce((a, b) => a + b + \"\\n\", \"\"),\n                frases: usuario.frases,\n                frasePr: usuario.frasePrioritaria,\n                frasePrAct: usuario.actFrasePrioritaria,\n                manager: usuario.manager,\n                usuario\n            })\n        }\n        else if( this.state.frasesStr !== prevState.frasesStr ){\n            this.setState({ frases: this.state.frasesStr.split(/\\n/gm) })\n        }\n    }\n\n    guardarDatos = () => {\n        if(this.state.duracionjornada > 0 && this.state.duracionjornada < 24){\n            request(\"/users/\" + this.state.usuario._id, {\n                method: \"PUT\",\n                body: {\n                    frases: this.state.frases,\n                    frasePrioritaria: this.state.frasePr,\n                    actFrasePrioritaria: this.state.frasePrAct,\n                    manager: this.state.manager,\n                    duracionjornada: this.state.duracionjornada\n                }\n            }).then(data => {\n                //console.log(data)\n                message.success(\"Los cambios se guardaron correctamente\")\n                this.props.dispatch(fetchES())\n                this.props.dispatch(fetchUsuarios())\n            }).catch(err => {\n                console.log(err)\n                message.error(\"Se produjo un error durante el guardado\")\n            })\n        }\n        else{\n            message.error(\"La duración media de la jornada ha de estar entre 0 y 24\")\n        }\n    }\n\n    render(){\n        const { usuario } = this.state\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <h1>{ usuario.username }</h1>\n                    <Form.Item label=\"Duración media de su jornada laboral\">\n                        <Input type=\"number\" value={this.state.duracionjornada} onChange={e => this.setState({ duracionjornada: e.target.value })} />\n                    </Form.Item>\n                    <Form.Item label=\"Manager\">\n                        <Radio.Group  value={ this.state.manager }>\n                            <Radio.Button value={true} onClick={() => this.setState({ manager: true })}>Sí</Radio.Button>\n                            <Radio.Button value={false} onClick={() => this.setState({ manager: false })}>No</Radio.Button>\n                        </Radio.Group>\n                    </Form.Item>\n                    <Form.Item label=\"Frases (una por línea)\">\n                        <Input.TextArea rows={6} value={this.state.frasesStr} onChange={e => this.setState({ frasesStr: e.target.value })} />\n                    </Form.Item>\n                    <Form.Item label=\"Frase prioritaria\">\n                        <Input type=\"text\" value={this.state.frasePr} onChange={e => this.setState({ frasePr: e.target.value })}/>\n                        <Radio.Group value={ this.state.frasePrAct }>\n                            <Radio.Button value={true} onClick={() => this.setState({ frasePrAct: true })}>Activada</Radio.Button>\n                            <Radio.Button value={false} onClick={() => this.setState({ frasePrAct: false })}>Desactivada</Radio.Button>\n                        </Radio.Group>\n                    </Form.Item>\n                    <Button onClick={this.guardarDatos}>Guardar</Button>\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        usuarios: state.usuarios\n    }\n}\n\nexport default connect(mapStateToProps)(EditUsuario)","import React, { Component } from 'react'\nimport { getToken } from './utils/auth';\nimport { Layout } from 'antd'\nimport Frame from './Frame';\n\n\nclass Analitica extends Component{\n    render(){\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <h1>Analitica</h1>\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nexport default Analitica","import React, { Component } from 'react'\nimport { Layout, Table, Collapse, Statistic, Progress, DatePicker } from 'antd'\nimport Frame from './Frame';\nimport { connect } from 'react-redux';\nimport { socketConnect } from 'socket.io-react';\nimport moment from 'moment';\nimport { getUserInfo, getToken } from './utils/auth';\n\nclass Registro extends Component{\n\n    state = {\n        usuarios: [],\n        userInfo: getUserInfo(),\n        mes: moment()\n    }\n\n    columns = [{\n        title: 'Entrada',\n        dataIndex: 'entrada',\n        key: 'entrada',\n        defaultSortOrder: 'descend',\n        sorter: (a, b) => moment(a.entrada).diff(moment(b.entrada)),\n        render: hora => moment(hora).format(\"YYYY-MM-DD, HH:mm\")\n    }, {\n        title: 'Salida',\n        dataIndex: 'salida',\n        key: 'salida',\n        sorter: (a, b) => moment(a.entrada).diff(moment(b.entrada)),\n        render: hora => hora !== \"-\" ? moment(hora).format(\"YYYY-MM-DD, HH:mm\") : \"-\"\n    }, {\n        title: 'Horas trabajadas',\n        dataIndex: 'horas',\n        key: 'horas',\n        sorter: (a, b) => a.horas - b.horas,\n        render: horas => horas !== \"-\" ? horas + \"h\" : \"-\"\n    }, {\n        title: 'Horas de descanso',\n        dataIndex: 'tiempoDescanso',\n        key: 'tiempoDescanso',\n        sorter: (a, b) => a.tiempoDescanso - b.tiempoDescanso,\n        render: tiempoDescanso => tiempoDescanso !== \"-\" ? tiempoDescanso + \"h\" : \"-\"\n    }]\n\n    componentDidMount() {\n        if(this.props.es){\n            this.procesaES(this.state.mes.month(), this.state.mes.year())\n        }\n        // console.log( this.diasLaborables() )\n        // console.log( this.diasLaborables(2, 2019) )\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if(prevProps.es !== this.props.es || !(prevState.mes.isSame(this.state.mes, \"month\")) ){\n            this.procesaES(this.state.mes.month(), this.state.mes.year());\n        }\n    }\n\n    diasLaborables = (userId, month = moment().month() + 1, year = moment().year()) => {\n        const diasFestivos = (this.props.dias.filter(d => d.tipo === \"festivo\")).length\n        const diasLibres = (this.props.dias.filter(d => d.user && d.user._id === userId)).length\n        return Array(moment().month(month - 1).year(year).daysInMonth()).fill(null).filter((e, i) => {\n            return moment().year(year).month(month - 1).date(i+1).weekday() <= 4\n        }).length - diasLibres - diasFestivos\n    }\n\n    procesaES = (month = moment().month() + 1, year = moment().year()) => {\n\n        const diasDeEseMes = moment().month(month - 1).year(year).daysInMonth()\n        const usuarios = this.props.es.map(u => {\n            const duracionJornada = u.duracionjornada || 8;\n            const diasLaborables = this.diasLaborables(u._id, month, year)\n            const dias = Array(diasDeEseMes).fill(null)\n                .map((e, i) => moment().subtract(i, \"days\").format(\"YYYY-MM-DD\"))\n                .map(d => u.registros.filter(r => moment(r.fecha).isSame(moment(d), \"days\") && moment(r.fecha).isSame(this.state.mes, \"month\")))\n\n            const jornadas = dias.map((dia, i) => {\n                const arrayCachos = Array(Math.ceil(dia.length / 2)).fill(null).map((e, j) => {\n                    const a = moment(dia[(2*j)].fecha);\n                    const b = dia[(2*j)+1] ? moment(dia[(2*j)+1].fecha) : undefined;\n                    const m = b && moment.duration(b.diff(a))\n                    const horas = b ? Math.round(m.as('hours')*100)/100 : \"-\"\n                    return {\n                        key: u._id + \"-\" + i + \"-\" + j,\n                        entrada: a.format(),\n                        salida: b ? b.format() : \"-\",\n                        horas\n                    }\n                })\n                //console.log(arrayCachos)\n\n                const tiempoDescanso = Array(arrayCachos.length > 0 ? arrayCachos.length - 1 : 0).fill(null).map((e, i) => {\n                    const comienzoDescanso = moment(arrayCachos[i].salida)\n                    const finDescanso = moment(arrayCachos[i+1].entrada)\n                    const duracionDescanso = Math.round(moment.duration(finDescanso.diff(comienzoDescanso)).as(\"hours\")*100)/100\n                    return duracionDescanso\n                }).reduce((a, b) => a + b, 0)\n\n                const arrayHoras = arrayCachos.map(c => c.horas)\n                const jornada = arrayCachos[0] ? {\n                    key: arrayCachos[0].key,\n                    entrada: arrayCachos[0].entrada,\n                    salida: arrayCachos.slice(-1)[0].salida,\n                    horas: !arrayHoras.includes(\"-\") ? arrayHoras.reduce((a, b) => a + b, 0) : \"-\",\n                    tiempoDescanso\n                } : []\n                return jornada\n            })\n\n            const horasTrabajadas = Math.round(jornadas.map(j => j.horas).filter(h => h !== \"-\" && h !== undefined).reduce((a, b) => a + b, 0) * 100 ) / 100\n            const horasMes = diasLaborables * duracionJornada\n            const porcentajeHoras = Math.round((horasTrabajadas / (diasLaborables * duracionJornada)) * 10000) / 100\n            const horasPendientes = Math.round((horasMes - horasTrabajadas) * 100 ) / 100\n\n            return { ...u, jornadas, horasTrabajadas, horasPendientes, porcentajeHoras, duracionJornada, diasLaborables }\n        })\n        this.setState({ usuarios })\n    }\n    \n    render(){\n        const MonthPicker = DatePicker.MonthPicker\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <h1>Jornadas</h1>\n                    <MonthPicker placeholder=\"Seleccionar mes\" value={this.state.mes} onChange={mes => this.setState({ mes })} style={{ marginBottom: 20 }}/>\n                        <Collapse>\n                        {\n                            this.state.usuarios && this.state.usuarios.filter(u => {\n                                return this.state.userInfo._id === u._id || (this.state.userInfo.manager && !this.props.blueCollar)}).map((u, i) => [\n                                <Collapse.Panel header={<div style={{ display: \"flex\", justifyContent: \"space-between\", paddingRight: \"10px\" }}>\n                                    <span>{ u.username }</span>\n                                    <div style={{ width: \"200px\",  }}>\n                                        <Progress percent={u.porcentajeHoras} />\n                                    </div>\n                                </div>} key={i}>\n                                    <div style={{ display: \"flex\", flexWrap: \"wrap\", justifyContent: \"space-evenly\" }}>\n                                        <Statistic title=\"Horas trabajadas\" value={ u.horasTrabajadas + \"h\" } />\n                                        <Statistic title=\"Horas pendientes\" value={ u.horasPendientes + \"h\" } />\n                                        <Statistic title=\"Días laborables de este mes\" value={ u.diasLaborables } />\n                                        <Statistic title=\"Duración de su jornada\" value={ u.duracionJornada + \"h\" } />\n                                    </div>\n                                    <h3 style={{marginTop: 20 }}>Desglose de jornadas</h3>\n                                    <Table key={\"table\"+i} dataSource={[].concat.apply([], u.jornadas)} columns={this.columns} />\n                                </Collapse.Panel>,\n                            ])\n                        }\n                        </Collapse>\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        es: state.es,\n        dias: state.dias,\n        blueCollar: state.blueCollar\n    }\n}\n\nexport default socketConnect(connect(mapStateToProps)(Registro))","import React, { Component } from 'react'\nimport { getToken, getUserInfo } from './utils/auth';\nimport { Layout, Upload, message, Icon, Form, Input, Button } from 'antd'\nimport Frame from './Frame';\nimport request from './utils/request';\n\n\nclass Perfil extends Component{\n\n    state = {\n        loading: false,\n        nombre: getUserInfo().nombre || \"\"    \n    }\n\n    handleUpload = ({ onSuccess, onError, file }) => {\n        let imgToUpload = new FormData();\n\n        const isJPG = file.type === 'image/jpeg' || file.type === 'image/png';\n        if (!isJPG) {\n          message.error('Solo se aceptan imagenes en formato JPG y PNG');\n        }\n        const isLt2M = file.size / 1024 / 1024 < 2;\n        if (!isLt2M) {\n          message.error('Las imagenes han de ser más pequeñas de 2MB');\n        }\n\n        if( isJPG && isLt2M ){  \n            imgToUpload.append('files', file);\n            imgToUpload.append('field', \"avatar\");\n            imgToUpload.append('refId', getUserInfo()._id);\n            imgToUpload.append('ref', \"user\");\n            imgToUpload.append('source', 'users-permissions')\n            this.setState({ loading: true })\n            request(\"/upload\", {\n                method: 'POST',\n                body: imgToUpload,\n            }, false).then(data => {\n                console.log(data)\n                this.setState({ loading: false })\n                message.success(\"El avatar se actualizó correctamente.\")\n                let userInfo = getUserInfo()\n                userInfo.avatar = data[0]\n                window.localStorage.setItem(\"user\", JSON.stringify(userInfo))\n            }).catch(err => {\n                this.setState({ loading: false })\n                console.log(err)\n                message.error(\"Ocurrió un error durante la subida del nuevo avatar\")\n            });\n        }\n    }\n\n    handleSave = () => {\n        request(\"/users/\" + getUserInfo()._id, {\n            method: \"PUT\",\n            body: {\n                nombre: this.state.nombre\n            }\n        }).then(data => {\n            let userInfo = getUserInfo()\n            userInfo.nombre = this.state.nombre\n            window.localStorage.setItem(\"user\", JSON.stringify(userInfo))\n            message.success(\"Los datos se guardaron correctamente\")\n        }).catch(err => {\n            message.error(\"Ocurrió un error durante el guardado de datos\")\n            console.log(err)\n        })\n    }\n\n    render(){\n\n        const uploadButton = (\n            <div>\n              <Icon type={this.state.loading ? 'loading' : 'plus'} />\n              <div className=\"ant-upload-text\">Upload</div>\n            </div>\n        );\n        const imageUrl = this.state.imageUrl;\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <h1>Perfil</h1>\n                    <div style={{ width: \"320px\", marginBottom: 20 }}>\n                        <Upload\n                            name=\"avatar\"\n                            listType=\"picture-card\"\n                            className=\"avatar-uploader\"\n                            showUploadList={false}\n                            onChange={this.handleChange}\n                            customRequest={this.handleUpload}\n                        >\n                            {imageUrl ? <img src={imageUrl} alt=\"avatar\" /> : uploadButton}\n                        </Upload>\n\n                        <Form.Item label=\"Nombre\" style={{ marginRight: 20 }}>\n                            <Input type=\"text\" value={ this.state.nombre } onChange={e => this.setState({ nombre: e.target.value })} />\n                        </Form.Item>\n\n                        <Button onClick={this.handleSave}>Guardar</Button>\n                    </div>\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nexport default Perfil","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Table, Tag, Popconfirm, Icon, Form, DatePicker, Input, Button, message } from 'antd'\nimport moment from 'moment'\nimport request from '../utils/request';\nimport { getUserInfo } from '../utils/auth'\nimport { fetchCalendario } from '../actions'\n\nclass ModuloFestivos extends Component{\n\n    state = {}\n\n    addFestivo = () => {\n        if(!this.state.nombre){ message.warning(\"No se ha asignado nombre al festivo\") }\n        else if(!this.state.fecha){ message.warning(\"No se ha seleccionado ninguna fecha\") }\n        else{\n            request(\"/dias\", {\n                method: \"POST\",\n                body: {\n                    fecha: moment.utc(this.state.fecha).format(),\n                    tipo: \"festivo\",\n                    nombre: this.state.nombre,\n                    equipo: getUserInfo().equipo,\n                    aprobado: true\n                }\n            }).then(data => {\n                //console.log(data)\n                message.success(\"El nuevo festivo se ha añadido correctamente\")\n                this.props.dispatch(fetchCalendario())\n                this.setState({ nombre: undefined, fecha: undefined })\n            }).catch(err => {\n                console.log(err)\n                message.error(\"Se ha producido un error durante la creación del nuevo festivo\")\n            })\n        }\n    }\n\n    borrarFestivo = dia => {\n        request(\"/dias/\" + dia._id, { method: \"DELETE\" })\n            .then(data => {\n                //console.log(data)\n                message.success(\"Se ha borrado el festivo correctamente\")\n                this.props.dispatch(fetchCalendario())\n            }).catch(err => {\n                console.log(err)\n                message.error(\"Ha ocurrido un error durante el borrado del festivo\")\n            })\n    }\n\n    render(){\n        return(\n            <div>\n                <h3>Lista de festivos</h3>\n                <Table dataSource={this.props.dias.filter(d => d.tipo === \"festivo\")} rowKey=\"_id\" columns={[\n                    {\n                        title: 'Nombre',\n                        dataIndex: 'nombre',\n                        key: 'nombre',\n                    }, {\n                        title: 'Día',\n                        key: 'fecha',\n                        render: dia => moment(dia.fecha).format(\"YYYY-MM-DD\")\n                    }, {\n                        key: \"botones\",\n                        render: dia => (\n                            <div key={dia._id} style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n                                <Popconfirm \n                                    title={`¿Estás seguro de que quieres borrar el día festivo?`} \n                                    onConfirm={() => this.borrarFestivo(dia)}\n                                    icon={<Icon type=\"warning\" style={{ color: 'red' }} />}\n                                >\n                                    <Tag color=\"volcano\" key={`${dia._id}_dia`}><Icon type=\"delete\" /> Borrar</Tag>\n                                </Popconfirm>\n                            </div>\n                        )\n                    }\n                ]}/>\n\n                <h3 style={{ marginTOp: 20 }}>Añadir festivo</h3>\n                <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n                    <Form.Item label=\"Nombre\" style={{ marginRight: 20 }}>\n                        <Input type=\"text\" onChange={e => this.setState({ nombre: e.target.value })} />\n                    </Form.Item>\n                    <Form.Item label=\"Fecha\" style={{ marginRight: 20 }}>\n                        <DatePicker onChange={fecha => this.setState({ fecha })} style={{ width: 250 }} />\n                    </Form.Item>\n                    <Form.Item label=\" \" colon={false}>\n                        <Button onClick={this.addFestivo}>Añadir</Button>                \n                    </Form.Item>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        dias: state.dias\n    }\n}\n\nexport default connect(mapStateToProps)(ModuloFestivos)","import React, { Component } from 'react'\nimport { Select, Form, DatePicker, TimePicker, Button, message } from 'antd'\nimport { connect } from 'react-redux'\nimport moment from 'moment'\nimport { getUserInfo } from '../utils/auth';\nimport request from '../utils/request';\n\nclass ModuloRegistros extends Component{\n\n    addRegistro = async () => {\n        if(![this.state.fechaNuevoRegistro, this.state.horaEntradaNuevoRegistro, this.state.horaSalidaNuevoRegistro, this.state.selectedUser].includes(undefined)){\n            const fechaEntrada = this.state.fechaNuevoRegistro.clone().hour(this.state.horaEntradaNuevoRegistro.hour()).minute(this.state.horaEntradaNuevoRegistro.minute())\n            const fechaSalida = this.state.fechaNuevoRegistro.clone().hour(this.state.horaSalidaNuevoRegistro.hour()).minute(this.state.horaSalidaNuevoRegistro.minute())\n\n            const ePasado = fechaEntrada.isBefore(moment())\n            const sPasado = fechaSalida.isBefore(moment())\n            const eAntesDeS = fechaEntrada.isBefore(fechaSalida)\n\n            if( ePasado && sPasado && eAntesDeS ){\n                const registroEntrada = {\n                    user: this.state.selectedUser._id,\n                    fecha: moment.utc(fechaEntrada).format(),\n                    ultimoEditor: getUserInfo._id\n                }\n                const registroSalida = {\n                    user: this.state.selectedUser._id,\n                    fecha: moment.utc(fechaSalida).format(),\n                    ultimoEditor: getUserInfo._id\n                }\n\n                try{\n                    const respEntrada = await request(\"/registros\", { method: \"POST\", body: registroEntrada })\n                    const respSalida = await request(\"/registros\", { method: \"POST\", body: registroSalida })\n                    // console.log({ respEntrada, respSalida })\n                    message.success(\"El registro se añadió correctamente\")\n                    this.setState({ \n                        fechaNuevoRegistro: undefined,\n                        horaEntradaNuevoRegistro: undefined,\n                        horaSalidaNuevoRegistro: undefined\n                    })\n                }\n                catch(err){\n                    console.log(err)\n                    message.error(\"Se produjo un error durante el guardado del registro\")\n                }\n            }\n            else{\n                if(!ePasado){ message.error(\"La hora de entrada es inválida\") }\n                if(!sPasado){ message.error(\"La hora de salida es inválida\") }\n                if(!eAntesDeS ){ message.error(\"La hora de entrada ha de ser anterior a la de salida\") }\n            }\n        }\n        else{ message.warning(\"Faltan campos por completar\") }\n    }\n\n    render(){\n        const Option = Select.Option\n        return(\n            <div>\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", flexWrap: \"wrap\" }}>\n                    <Form.Item label=\"Usuario\">\n                        <Select\n                            showSearch\n                            style={{ width: 200, marginBottom: 20 }}\n                            placeholder=\"Selecciona un usuario\"\n                            optionFilterProp=\"children\"\n                            onChange={op => {\n                                const selectedUser = this.props.usuarios.find(u => u.username === op)\n                                this.setState({ selectedUser })\n\n                            }}\n                            filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                            style={{ width: 250 }}\n                        >\n                            { this.props.usuarios.map(u => \n                                <Option value={u.username} key={u._id}>{u.username}</Option>\n                            )}\n                        </Select>\n                    </Form.Item>\n                    <Form.Item label=\"Fecha\">\n                        <DatePicker onChange={fechaNuevoRegistro => this.setState({ fechaNuevoRegistro })} style={{ width: 250 }}/>\n                    </Form.Item>\n                    <Form.Item label=\"Hora de entrada\">\n                        <TimePicker onChange={horaEntradaNuevoRegistro => this.setState({ horaEntradaNuevoRegistro })} style={{ width: 250 }}/>\n                    </Form.Item>\n                    <Form.Item label=\"Hora de salida\">\n                        <TimePicker onChange={horaSalidaNuevoRegistro => this.setState({ horaSalidaNuevoRegistro })} style={{ width: 250 }}/>\n                    </Form.Item>\n                </div>\n                <Button onClick={this.addRegistro}>Añadir registro</Button>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        usuarios: state.usuarios\n    }\n}\n\nexport default connect(mapStateToProps)(ModuloRegistros)\n\n\n\n","import React, { Component } from 'react'\nimport { getToken } from './utils/auth';\nimport { Layout, Collapse } from 'antd'\nimport Frame from './Frame';\nimport ModuloFestivos from './modulosConfig/ModuloFestivos';\nimport ModuloRegistros from './modulosConfig/ModuloRegistros';\n\n\nclass Configuracion extends Component{\n\n    state = {}\n\n    render(){\n        const Panel = Collapse.Panel;\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <h1>Configuración</h1>\n                    <Collapse>\n                        <Panel header=\"Añadir registros\">\n                            <ModuloRegistros />\n                        </Panel>\n                    </Collapse>\n                    <Collapse>\n                        <Panel header=\"Gestionar festivos\">\n                            <ModuloFestivos />\n                        </Panel>\n                    </Collapse>\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nexport default Configuracion","import { combineReducers } from 'redux'\nimport usuarios from './usuarios'\nimport dias from './dias'\nimport es from './es'\nimport documentos from './documentos'\nimport blueCollar from './blueCollar'\n\nconst rootReducer = combineReducers({\n    usuarios,\n    dias,\n    es,\n    documentos,\n    blueCollar\n})\n\nexport default rootReducer;","import { \n    CARGAR_USUARIOS\n} from \"../constants/action-types\";\n\nexport default function usuariosReducer(state = [], action) {\n    switch (action.type) {\n        case CARGAR_USUARIOS:\n            console.log(action)\n            return action.payload;\n        default:\n            return state;\n    }\n}","import { \n    CARGAR_CALENDARIO\n} from \"../constants/action-types\";\n\nexport default function diasReducer(state = [], action) {\n    switch (action.type) {\n        case CARGAR_CALENDARIO:\n            console.log(action)\n            return action.payload;\n        default:\n            return state;\n    }\n}","import { \n    CARGAR_ES\n} from \"../constants/action-types\";\n\nexport default function esReducer(state = [], action) {\n    switch (action.type) {\n        case CARGAR_ES:\n            console.log(action)\n            return action.payload;\n        default:\n            return state;\n    }\n}","import { \n    CARGAR_DOCUMENTOS\n} from \"../constants/action-types\";\n\nexport default function documentosReducer(state = [], action) {\n    switch (action.type) {\n        case CARGAR_DOCUMENTOS:\n            console.log(action)\n            return action.payload;\n        default:\n            return state;\n    }\n}","import { \n    CAMBIAR_BLUE_COLLAR\n} from \"../constants/action-types\";\n\nexport default function blueCollarReducer(state = false, action) {\n    switch (action.type) {\n        case CAMBIAR_BLUE_COLLAR:\n            return action.payload;\n        default:\n            return state;\n    }\n}","import { createStore, applyMiddleware } from 'redux'\nimport rootReducer from '../reducers/index'\nimport thunk from 'redux-thunk';\n\nconst store = createStore(\n    rootReducer,\n    {},\n    applyMiddleware(thunk)\n)\n\nexport default store","import React, { Component } from 'react';\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Login from \"./Login\"\nimport Register from \"./Register\"\nimport FourOhFour from \"./FourOhFour\"\nimport 'antd/dist/antd.css';\nimport { LocaleProvider } from 'antd';\nimport es_ES from 'antd/lib/locale-provider/es_ES';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { SocketProvider } from 'socket.io-react';\nimport io from 'socket.io-client';\nimport { PrivateRoute } from './PrivateRoute';\nimport Home from \"./Home\"\nimport Calendario from \"./Calendario\"\nimport NuevoUsuario from './NuevoUsuario';\nimport Documentos from './Documentos';\nimport Usuarios from './Usuarios';\nimport EditUsuario from './EditUsuario';\nimport Analitica from './Analitica';\nimport Registro from './Registro';\nimport Perfil from './Perfil';\nimport Configuracion from './Configuracion';\nimport { Provider } from 'react-redux';\nimport { getUserInfo } from './utils/auth'\nimport store from './store';\nimport { fetchCalendario, fetchUsuarios, fetchES, fetchDocumentos } from './actions'\n\nmoment.locale('es');\n\nconst socket = io.connect(process.env.REACT_APP_API_URL, {\n  transports: [ 'websocket' ]\n});\n\nclass App extends Component {\n  componentDidMount(){\n    const userInfo = getUserInfo()\n    if( userInfo && userInfo.equipo ){\n      store.dispatch(fetchUsuarios())\n      store.dispatch(fetchCalendario())\n      store.dispatch(fetchES())\n      store.dispatch(fetchDocumentos())\n    }\n  }\n  render() {\n    return (\n      <Provider store={store}>\n        <LocaleProvider locale={es_ES}>\n          <SocketProvider socket={socket}>\n            <BrowserRouter>\n              <Switch>\n                <Route exact path=\"/login\" component={Login} />\n                <Route exact path=\"/register\" component={Register} />\n                <PrivateRoute exact path=\"/calendario\" component={Calendario} />\n                <PrivateRoute exact path=\"/archivos\" component={Documentos} />\n                <PrivateRoute exact path=\"/perfil\" component={Perfil} />\n                <PrivateRoute onlyManager={true} exact path=\"/usuarios\" component={Usuarios} />\n                <PrivateRoute onlyManager={true} exact path=\"/analitica\" component={Analitica} />\n                <PrivateRoute onlyManager={true} exact path=\"/configuracion\" component={Configuracion} />\n                <PrivateRoute onlyManager={true} exact path=\"/usuario/:id\" component={EditUsuario} />\n                <PrivateRoute exact path=\"/registro\" component={Registro} />\n                <PrivateRoute exact path=\"/nuevousuario\" component={NuevoUsuario} />\n                <PrivateRoute exact path=\"/\" component={Home} />\n                <Route path=\"\" component={FourOhFour} />\n              </Switch>\n            </BrowserRouter>\n          </SocketProvider>\n        </LocaleProvider>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}