{"version":3,"sources":["utils/gql.js","utils/auth.js","constants/action-types.js","utils/request.js","actions/index.js","queries/index.js","utils/func.js","Frame.js","Login.js","Register.js","FourOhFour.js","PrivateRoute.js","Home.js","PrivateComponent.js","Calendario.js","NuevoUsuario.js","Documentos.js","Usuarios.js","EditUsuario.js","Analitica.js","modulosConfig/ModuloRegistros.js","components/ModalInfoRegistros.js","Registro.js","Perfil.js","Grupos.js","components/ModalEditarPws.js","Passwords.js","modulosConfig/ModuloFestivos.js","Configuracion.js","reducers/index.js","reducers/usuarios.js","reducers/dias.js","reducers/es.js","reducers/documentos.js","reducers/blueCollar.js","reducers/grupos.js","reducers/pws.js","reducers/auth.js","reducers/mesES.js","reducers/entradas.js","reducers/errorCarga.js","store/index.js","Exportacion.js","App.js","serviceWorker.js","index.js"],"names":["gql","query","variables","arguments","length","undefined","baseURL","debug","console","log","queryReplace","replace","split","filter","ch","reduce","a","b","slice","map","elem","i","getToken","window","localStorage","getItem","JSON","parse","getHeaders","anonymous","type","jwt","headers","Accept","Content-Type","Authorization","getUserInfo","user","includes","saveAuthData","authdata","setItem","stringify","CARGAR_USUARIOS","CARGAR_CALENDARIO","CARGAR_ES","CARGAR_DOCUMENTOS","CARGAR_GRUPOS","CARGAR_PWS","CARGAR_AUTH","CARGAR_ENTRADAS","CAMBIAR_BLUE_COLLAR","CAMBIAR_MES_ES","FALLO_CARGA","parseJSON","response","json","checkStatus","status","then","responseFormatted","errors","forEach","e","error","Error","statusText","payload","request","url","options","Object","assign","token","concat","params","keys","k","encodeURIComponent","join","formatQueryParams","body","fetch","process","falloCarga","cambiarMesES","fetchUsuarios","dispatch","equipo","catch","gestionaError","fetchAuth","fetchCalendario","data","dias","fetchES","mes","moment","desde","clone","startOf","utc","format","hasta","endOf","fetchDocumentos","fetchGrupos","fetchPws","fetchEntradas","mayusculizer","str","c","toUpperCase","toLowerCase","redondear","dato","n","parseInt","Math","pow","err","chivato","message","redirectTo","clear","sessionStorage","Header","Layout","Footer","Sider","Content","Title","Typography","Paragraph","Frame","state","username","local","hoy","loading","iframe","React","createRef","cerrarSesion","removeItem","info","_this","props","history","push","fichar","Modal","confirm","title","auth","nombre","content","onOk","method","fecha","_id","ultimoEditor","aprobado","success","abrirPuerta","current","src","this","socket","on","msg","es","_this2","dia","users","registros","apply","u","r","diasPorConfirmar","registrosPorConfirmar","usuariosPorConfirmar","usuarios","confirmed","setState","isSame","prevProps","prevState","errorCarga","_this3","_this$props","isLogged","menuAvatar","react_default","createElement","menu","Item","Link","to","onClick","manager","blueCollar","style","minHeight","display","flexDirection","key","backgroundColor","alignItems","justifyContent","color","margin","alt","height","marginRight","dropdown","overlay","avatar","objectFit","boxShadow","layout","flex","theme","position","mode","selectedKeys","location","pathname","badge","transform","marginLeft","count","icon","className","width","href","target","rel","tag","bottom","es_button","padding","children","paddingBottom","role","aria-label","border","ref","Component","socketConnect","connect","withRouter","Login","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleSubmit","preventDefault","form","validateFields","values","identifier","userName","password","resp","statusCode","fieldsError","_this$props$form","getFieldDecorator","getFieldsError","getFieldError","isFieldTouched","userNameError","passwordError","src_Frame","card","maxWidth","es_form","onSubmit","validateStatus","help","rules","required","input","onChange","value","prefix","placeholder","pw","es_row","col","span","htmlType","disabled","some","field","Form","create","name","Register","password2","validateEmail","email","errorEmail","errorPw","errorUser","test","String","emailError","password2Error","FourOhFour","typography","textAlign","PrivateRoute","_ref","component","_ref$onlyManager","onlyManager","rest","objectWithoutProperties","userInfo","Route","render","Redirect","from","Home","Cache-Control","datos","meteoRaw","meteo","prediccion","d","horas","estadoCielo","periodo","defineProperty","add","h","hora","find","temperatura","t","finalcontrato","indefinido","isBefore","iniciocontrato","diff","entradas","borderRadius","overflow","marginBottom","imagen","maxHeight","objectPosition","createdAt","titulo","renderHTML","resumen","overflowX","fontWeight","PrivateComponent","blocked","blue","Calendario","modalPedirDia","diasFilter","diasPorAprobar","festivos","festivosArrUTC","sel1","sel2","fetchDias","_callee","regenerator_default","wrap","_context","prev","next","organizarDias","stop","tipo","f","objectSpread","hour","minute","seconds","milliseconds","filtrarDias","primerFiltro","responderSolicitud","bool","getListData","dateFullCellRender","listData","valueUTC","festivo","tc","day","evt","handleCellClick","date","item","popover","marginTop","popconfirm","onConfirm","persist","_targetInst","elementType","toConsumableArray","stateNode","classList","lanzarModalDia","solicitarDia","_getUserInfo","misDias","isSameOrBefore","pedido","warning","calcularVacaciones","diasAno","isLeapYear","duracionActualContrato","correccion","ano","year","diasTotales","trunc","diasLibresFuturos","isAfter","diasLibresPasados","isBetween","diasLibresPendientes","columns","dataIndex","row","text","record","statistic","es_radio","Group","defaultValue","buttonStyle","Button","calendar","src_PrivateComponent","table","dataSource","modal","visible","onCancel","footer","NuevoUsuario","solicitarAcceso","unirse","equipos","ok","crearEquipo","crear","unirseError","crearError","NuevoUsuario_Title","level","errorUnirse","errorCrear","Documentos","fileList","asociarA","selectedUser","documentos","disponibleParaTodos","misArchColumns","file","desvincularArchivo","borrarArchivo","archGlobColumns","archUserColumns","rowSelection","selectedRowKeys","selectedRows","getCheckboxProps","docId","documento","archivo","sent","_callee2","_context2","handleUpload","_callee5","promisingPromises","arrayArchivos","promesitas","_context5","_ref4","asyncToGenerator","mark","_callee3","doc","_context3","global","FormData","append","abrupt","_x4","Promise","all","mostrarListaUsuarios","_ref5","_callee4","userId","antDocus","_context4","_x5","t0","upload","Dragger","action","multiple","beforeUpload","onRemove","uid","es_checkbox","checked","collapse","bordered","activeKey","Panel","es_select","showSearch","optionFilterProp","op","filterOption","option","indexOf","Option","rowKey","Usuarios","extraColumnsA","extraColumnsA2","extraColumnsB","cargaColumnas","twoToneColor","idcard","desasociarTarjeta","modalAsociar","usuarioAsociar","filtraUsuarios","activos","pendientes","fetchUsers","usuario","off","_this$state","EditUsuario","duracionjornada","frasesStr","frases","frasePr","frasePrAct","inicioContrato","guardarFrases","frasePrioritaria","actFrasePrioritaria","guardarDatosSerios","finalContrato","tipocontrato","handleCorreccion","valor","campo","match","id","_this4","label","date_picker","es_switch","j","divider","TextArea","rows","Analitica","ModuloRegistros","addRegistro","idUser","fechaEntrada","fechaSalida","ePasado","sPasado","eAntesDeS","registroEntrada","registroSalida","fechaNuevoRegistro","horaEntradaNuevoRegistro","horaSalidaNuevoRegistro","cerrarModal","Select","flexWrap","time_picker","ModalInfoRegistros","datosMod","modificado","nuevosRegistros","extraColumns","mierda","colAprobado","jornadaPendiente","entrada","month","sort","guardarNuevosRegistros","_onOk","prom","destroyAll","accion","cb","pagination","utcOffset","Registro","modalVisible","modalLoading","defaultSortOrder","sorter","round","tiempoDescanso","diasLaborables","diasFestivos","Array","daysInMonth","fill","weekday","procesaES","diasDeEseMes","isArray","duracionJornada","jornadas","subtract","mesES","arrayCachos","ceil","m","duration","as","salida","comienzoDescanso","finDescanso","arrayHoras","empresa","cif","ccc","horasTrabajadas","horasMes","porcentajeHoras","horasPendientes","razonSocial","jornadasPorAprobar","handleRowClick","fila","apr","rowSelect","modalInfo","modalInfoApr","MonthPicker","DatePicker","locale","emptyText","onRow","defaultActiveKey","header","paddingRight","progress","percent","valueStyle","modalUser","handleNuevoRegistro","modulosConfig_ModuloRegistros","components_ModalInfoRegistros","Perfil","onSuccess","onError","imgToUpload","isJPG","isLt2M","size","handleSave","uploadButton","imageUrl","defaultFileList","listType","showUploadList","handleChange","customRequest","reset","Grupos","seleccionados","nombreNuevoGrupo","grupoEditar","addSeleccionado","esModal","Set","removeSeleccionado","s","g","sel","crearGrupo","borrarGrupo","grupo","editarGrupo","_this$state$grupoEdit","modalEdicion","Collapse","grupos","us","okText","cancelText","closable","onClose","paddingLeft","ModalEditarPws","editNombre","editCampos","","editGrupos","editUsuarios","componentDidUpdate","pwSelect","handleRepeater","txt","cual","campoEdit","prevKey","prevValue","editarEntrada","eu","eg","colon","it","v","Passwords","nuevaNombre","nuevaCampos","nuevaGrupos","nuevaUsuarios","modalPw","txtRefs","filtraPw","pws","arrayGruposPw","arrayGruposUser","esGrupo","gp","esUsuario","esManager","nuevaEntrada","nu","ng","borrarEntrada","modalEditarPws","showHeader","navigator","clipboard","writeText","components_ModalEditarPws","ModuloFestivos","addFestivo","borrarFestivo","marginTOp","Configuracion","modulosConfig_ModuloFestivos","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","PreciosoPDF","react_pdf_browser_es","styles","hoja","cajaDatos","filaDatos","claveDatos","valorDatos","apellidos","nif","nuss","tabla","encabezado","celda","celdaEncabezado","ultimaColumna","pie","cajapie","textopie","Exportacion","list","renderItem","document","Exportacion_PreciosoPDF","fileName","_ref2","blob","StyleSheet","borderBottomColor","borderBottomWidth","fontSize","borderLeftColor","borderLeftWidth","borderRightColor","borderRightWidth","io","transports","App","BrowserRouter","locale_provider","es_ES","build","Switch","exact","path","PrivateRoute_PrivateRoute","Boolean","hostname","ReactDOM","src_App","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"8fAAe,SAASA,EAAIC,GAAmD,IAA5CC,EAA4CC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAhC,GAAIG,EAA4BH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAlB,GAAII,EAAcJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,QAC7DE,IAAVJ,GAAuBO,QAAQC,IAAI,8DACvC,IAAMC,EAAeT,EACJU,QAAQ,OAAU,OAClBA,QAAQ,MAAU,OAClBA,QAAQ,OAAU,OAClBA,QAAQ,SAAU,OAClBA,QAAQ,MAAU,OAClBA,QAAQ,MAAU,OAClBA,QAAQ,MAAU,OAClBA,QAAQ,OAAU,OAClBA,QAAQ,OAAU,OAyBnC,OAAOL,EAAU,mBAvBEC,EAAQG,EAAeA,EACrCC,QAAQ,OAAQ,OAChBC,MAAM,OACNC,OAAO,SAAAC,GAAE,MAAW,KAAPA,IACbC,OAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAI,MAAQC,GAAG,IAChCL,MAAM,UACNC,OAAO,SAAAC,GAAE,MAAW,KAAPA,IACbC,OAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAI,MAAQC,GAAG,IAChCN,QAAQ,WAAY,OACpBA,QAAQ,WAAY,OACpBA,QAAQ,WAAY,OACpBA,QAAQ,WAAY,OACpBO,MAAM,IAEkBN,MAAM,KAAKO,IAAI,SAACC,EAAMC,GAC/C,OAAGA,EAAE,EACMnB,EAAUkB,GAGVA,IAEZL,OAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,GAAG,IChCxB,SAASK,IACZ,MAA8C,cAAvCC,OAAOC,aAAaC,QAAQ,OAAyBC,KAAKC,MAAMJ,OAAOC,aAAaC,QAAQ,aAAUpB,EAG1G,SAASuB,IAAwD,IAA7CC,EAA6C1B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAA1B2B,EAA0B3B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAnB,mBAC3C4B,EAAMT,IACRU,EAAU,CACVC,OAAUH,EACVI,eAAgBJ,GAGpB,OADGC,IAAQF,IAAYG,EAAQG,cAAgB,UAAYJ,GACpDC,EAGJ,SAASI,IACZ,IAAMC,EAAOd,OAAOC,aAAaC,QAAQ,QAEzC,MADiB,CAAC,YAAa,QAAIpB,GAAWiC,SAASD,QAA0DhC,EAAlDqB,KAAKC,MAAMJ,OAAOC,aAAaC,QAAQ,SAInG,SAASc,EAAaC,GAEzBjB,OAAOC,aAAaiB,QAAQ,MAAOf,KAAKgB,UAAUF,EAAST,MAC3DR,OAAOC,aAAaiB,QAAQ,OAAQf,KAAKgB,UAAUF,EAASH,OCzBzD,IAAMM,EAAkB,kBAClBC,EAAoB,oBACpBC,EAAY,YACZC,EAAoB,oBACpBC,EAAgB,gBAChBC,EAAa,aACbC,EAAc,cACdC,EAAkB,kBAClBC,EAAsB,sBACtBC,EAAiB,iBACjBC,EAAc,qBCD3B,SAASC,EAAUC,GACjB,OAAOA,EAASC,KAAOD,EAASC,OAASD,EAU3C,SAASE,EAAYF,GACnB,OAAIA,EAASG,QAAU,KAAOH,EAASG,OAAS,IACvCH,EAGFD,EAAUC,GAAUI,KAAK,SAAAC,GAC1BA,EAAkBC,QAAUD,EAAkBC,OAAOC,QAAQ,SAAAC,GAAOvD,QAAQC,IAAKsD,KACrF,IAAMC,EAAQ,IAAIC,MAAMV,EAASW,YAGjC,MAFAF,EAAMT,SAAWA,EACjBS,EAAMT,SAASY,QAAUP,EACnBI,IAwBK,SAASI,EACtBC,GAGA,IAFAC,EAEAnE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFU,GACVuC,IACAvC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GAEIuC,IAEF4B,EAAQtC,QAAUuC,OAAOC,OACvB,CACEtC,eAAgB,oBAElBoC,EAAQtC,QACR,KAIJ,IAAMyC,EAAQnD,IAWd,GATImD,IACFH,EAAQtC,QAAUuC,OAAOC,OACvB,CACErC,cAAa,UAAAuC,OAAYD,IAE3BH,EAAQtC,UAIRsC,GAAWA,EAAQK,OAAQ,CAC7B,IAAMA,EA3CV,SAA2BA,GACzB,OAAOJ,OAAOK,KAAKD,GAChBxD,IAAI,SAAA0D,GAAC,SAAAH,OAAOI,mBAAmBD,GAA1B,KAAAH,OAAgCI,mBAAmBH,EAAOE,OAC/DE,KAAK,KAwCSC,CAAkBV,EAAQK,QACzCN,EAAG,GAAAK,OAAML,EAAN,KAAAK,OAAaC,GAQlB,OAJIL,GAAWA,EAAQW,MAAQvC,IAC7B4B,EAAQW,KAAOvD,KAAKgB,UAAU4B,EAAQW,OAGjCC,MAAMC,6BAAgCd,EAAKC,GAC/CX,KAAKF,GACLE,KAAKL,uBCnEH,SAAS8B,EAAWjB,GACvB,MAAO,CACHrC,KAAMuB,EACNc,WAID,SAASkB,EAAalB,GACzB,MAAO,CACHrC,KAAMsB,EACNe,WAWD,IAAMmB,GAAgB,WACzB,OAAO,SAACC,GAEJ,OAAOnB,EAAQ,2BADAhC,KAAiBA,IAAcoD,SACK7B,KAAK,SAAAJ,GACpDgC,EAVD,CACHzD,KAAMa,EACNwB,QAQ4BZ,MAE3BkC,MAAM,SAAAzB,GACH0B,GAAc1B,EAAOuB,EAAU,gBAYpC,IAAMI,GAAY,WACrB,OAAO,SAACJ,GACJ,OAAOnB,EAAQ,aAAaT,KAAK,SAAAJ,GAC7BgC,EATD,CACHzD,KAAMmB,EACNkB,QAOwBZ,MAEvBkC,MAAM,SAAAzB,GACH0B,GAAc1B,EAAOuB,EAAU,YAYpC,IAAMK,GAAkB,WAC3B,OAAO,SAACL,GACJ,OAAOnB,EAAQpE,GCvFSE,EDuFWkC,ICtFhClC,EAAUsF,OAAV,iCAAAd,OACmBxE,EAAUsF,OAD7B,uOAeN,QDuEuD7B,KAAK,SAAAJ,GAT1D,IAA0BY,EAUrBoB,GAVqBpB,EAUKZ,EAASsC,KAAKC,KATzC,CACHhE,KAAMc,EACNuB,eASCsB,MAAM,SAAAzB,GACH0B,GAAc1B,EAAOuB,EAAU,gBC3FpC,IAAyBrF,IDuGzB,IAAM6F,GAAU,WAAoB,IAAnBC,EAAmB7F,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb8F,MAC1B,OAAO,SAACV,GACJ,OAAOnB,EAAQpE,GCtFCE,EDsFW,CACpBsF,OAAQpD,IAAcoD,OACtBU,MAAOF,EAAIG,QAAQC,QAAQ,SAASC,MAAMC,SAC1CC,MAAOP,EAAIG,QAAQK,MAAM,SAASH,MAAMC,UCxF5CpG,EAAUsF,OAAV,sBAAAd,OACQxE,EAAUsF,OADlB,mTAAAd,OAeqDxE,EAAUqG,MAf/D,mBAAA7B,OAewFxE,EAAUgG,MAflG,iXAgCN,QDyDYvC,KAAK,SAAAJ,GAbf,IAAkBY,EAcboB,GAdapB,EAcKZ,EAASsC,KAAKL,OAbjC,CACH1D,KAAMe,EACNsB,eAaCsB,MAAM,SAAAzB,GACH0B,GAAc1B,EAAOuB,EAAU,QC9FpC,IAAiBrF,ID0GjB,IAAMuG,GAAkB,WAC3B,OAAO,SAAClB,GACJ,OAAOnB,EAAQ,wBAAwBT,KAAK,SAAAJ,GACxCgC,EATD,CACHzD,KAAMgB,EACNqB,QAO8BZ,MAE7BkC,MAAM,SAAAzB,GACH0B,GAAc1B,EAAOuB,EAAU,kBAYpC,IAAMmB,GAAc,WACvB,OAAO,SAACnB,GACJ,OAAOnB,EAAQ,oBAAoBT,KAAK,SAAAJ,GACpCgC,EATD,CACHzD,KAAMiB,EACNoB,QAO0BZ,MAEzBkC,MAAM,SAAAzB,GACH0B,GAAc1B,EAAOuB,EAAU,cAYpC,IAAMoB,GAAW,WACpB,OAAO,SAACpB,GACJ,OAAOnB,EAAQ,iBAAiBT,KAAK,SAAAJ,GACjCgC,EATD,CACHzD,KAAMkB,EACNmB,QAOuBZ,MAEtBkC,MAAM,SAAAzB,GACH0B,GAAc1B,EAAOuB,EAAU,WAYpC,IAAMqB,GAAgB,WACzB,OAAO,SAACrB,GACJ,OAAOnB,EAAQpE,GC9HOE,ED8HWkC,IC7H9BlC,EAAUsF,OAAV,sCAAAd,OAEqBxE,EAAUsF,OAF/B,gMAaN,QDgHqD7B,KAAK,SAAAJ,GACnDgC,EATD,CACHzD,KAAMoB,EACNiB,QAO4BZ,MAE3BkC,MAAM,SAAAzB,GACH0B,GAAc1B,EAAOuB,EAAU,cClIpC,IAAuBrF,ICnDjB2G,GAAe,SAAAC,GAAG,OAAIA,EAAInG,QAAQ,QAAS,MACnDC,MAAM,KACNO,IAAI,SAAA4F,GAAC,OAAIA,EAAE7F,MAAM,EAAG,GAAG8F,cAAgBD,EAAE7F,MAAM,GAAG+F,gBAClDlG,OAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,GAAG,KAEhBiG,GAAY,SAACC,GAAD,IAAOC,EAAPjH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAW,EAAX,OACrBkH,SAASF,EAAOG,KAAKC,IAAI,GAAIH,GAAI,IAAME,KAAKC,IAAI,GAAIH,IAE3C1B,GAAgB,SAAC8B,EAAKjC,EAAUkC,GACzCjH,QAAQC,IAAI+G,EAAIjE,SAASY,QAAQH,MAAQ,MAAQwD,EAAIjE,SAASY,QAAQuD,SACvC,MAAxBF,EAAIjE,SAASG,QACZgE,IAAQ1D,MAAM,kDACduB,EAASH,EAAW,CAAEpB,MAAO,IAAK2D,WAAY,IAAKF,cAEvB,MAAxBD,EAAIjE,SAASG,SACjBgE,IAAQ1D,MAAM,4EACdxC,aAAaoG,QACbC,eAAeD,QACfrC,EAASH,EAAW,CAAEpB,MAAO,IAAK2D,WAAY,SAAUF,iCCX5DK,GAAmCC,IAAnCD,OAAQE,GAA2BD,IAA3BC,OAAQC,GAAmBF,IAAnBE,MAAOC,GAAYH,IAAZG,QACvBC,GAAqBC,IAArBD,MAAOE,GAAcD,IAAdC,UAETC,8MACFC,MAAQ,CACJlG,KAAM,CACFmG,SAAU,KAEdC,OAAO,EACPC,IAAK,GACLC,SAAS,KAGbC,OAASC,IAAMC,cAEfC,aAAe,WNGfxH,OAAOC,aAAawH,WAAW,OAC/BzH,OAAOC,aAAawH,WAAW,QMF3BtB,IAAQuB,KAAK,sBACbC,EAAKC,MAAMC,QAAQC,KAAK,aAoE5BC,OAAS,WACLC,IAAMC,QAAQ,CACVC,MAAK,GAAA/E,OAAMmC,GAAaqC,EAAKC,MAAMO,KAAKC,QAAnC,OAAAjF,OAAkDuB,MAASK,OAAO,QACvEsD,QAAO,qBAAAlF,OAAuBwE,EAAKX,MAAMG,IAAItI,OAAS,EAAI,SAAW,UAA9D,kBAAAsE,OACJwE,EAAKX,MAAMG,IAAItI,OAAS,EAAK,mBAAqB8I,EAAKX,MAAMG,IAAItI,OAAS,OAAmC,IAA1B8I,EAAKX,MAAMG,IAAItI,OAAe,IAAM,OAC3F,iCAC/ByJ,KAAM,WACFzF,EAAQ,aAAc,CAClB0F,OAAQ,OACR7E,KAAM,CACF8E,MAAO9D,MAASK,SAChBjE,KAAM6G,EAAKC,MAAMO,KAAKM,IACtBC,aAAcf,EAAKC,MAAMO,KAAKM,IAC9BE,UAAU,KAEfvG,KAAK,SAAAkC,GACJ6B,IAAQyC,QAAQ,mCAAqClE,MAASK,OAAO,YACtEb,MAAM,SAAA+B,GACLE,IAAQ1D,MAAM,4BACdxD,QAAQC,IAAI+G,WAM5B4C,YAAc,WACVlB,EAAKN,OAAOyB,QAAQC,IAAM,KAC1BpB,EAAKN,OAAOyB,QAAQC,IAAM,oPA3F1BC,KAAKpB,MAAMqB,OAAOC,GAAG,eAAgB,SAAAC,GAC9BA,EAAIC,GACHC,EAAKzB,MAAM5D,SAASQ,MAEhB2E,EAAIG,IACRD,EAAKzB,MAAM5D,SAASK,MAEhB8E,EAAIrI,MACRuI,EAAKzB,MAAM5D,SAASD,QAIzBiF,KAAKpB,MAAMwB,GAAGG,OAASP,KAAKpB,MAAMrD,OAC3BiF,EAAY,GAAGrG,OAAOsG,MAAM,GAAIT,KAAKpB,MAAMwB,GAAGG,MAAM3J,IAAI,SAAA8J,GAAC,OAAIA,EAAEF,aAAY5J,IAAI,SAAA+J,GAAC,OAAIA,EAAEhB,WACtFiB,KAAmBZ,KAAKpB,MAAMrD,KAAK3E,IAAI,SAAA8J,GAAC,OAAIA,EAAEf,WAAU5H,SAAS,QAASiI,KAAKpB,MAAMrD,KAAK3E,IAAI,SAAA8J,GAAC,OAAIA,EAAEf,WAAU5H,UAAS,IACxH8I,KAAwBL,EAAUzI,UAAS,KAAUyI,EAAUzI,SAAS,OACxE+I,IAAuBd,KAAKpB,MAAMmC,SAASnK,IAAI,SAAA8J,GAAC,OAAIA,EAAEM,YAAWjJ,UAAS,GAEhFiI,KAAKiB,SAAS,CACVL,mBACAC,wBACAC,0BAILd,KAAKpB,MAAMO,MAAQa,KAAKpB,MAAMO,KAAKqB,YAC5BrC,EAAM6B,KAAKpB,MAAMO,KAAKqB,UAAUlK,OAAO,SAAAqK,GAAC,OAAIjF,IAAOiF,EAAEnB,OAAO0B,OAAOxF,MAAU,SACnFsE,KAAKiB,SAAS,CAAE9C,sJAILgD,EAAWC,GAAU,IAC5BC,EAAerB,KAAKpB,MAApByC,WAMR,GALGA,EAAW5H,QACVuG,KAAKpB,MAAM5D,SAASH,EAAW,CAAEpB,OAAO,KACxCuG,KAAKpB,MAAMC,QAAQC,KAAKuC,EAAWjE,YAAc,WAGlD4C,KAAKpB,MAAMrD,OAAS4F,EAAU5F,MAAQyE,KAAKpB,MAAMrD,KAChDtF,QAAQC,IAAI8J,KAAKpB,MAAMrD,MACpByE,KAAKpB,MAAMrD,KAAK3E,IAAI,SAAA8J,GAAC,OAAIA,EAAEf,WAAU5H,SAAS,OAASiI,KAAKpB,MAAMrD,KAAK3E,IAAI,SAAA8J,GAAC,OAAIA,EAAEf,WAAU5H,UAAS,GACpGiI,KAAKiB,SAAS,CAAEL,kBAAkB,IAEhCZ,KAAKiB,SAAS,CAAEL,kBAAkB,SAEvC,GAAGZ,KAAKpB,MAAMwB,KAAOe,EAAUf,IAAMJ,KAAKpB,MAAMwB,GAAG,CACpD,IAAMI,EAAY,GAAGrG,OAAOsG,MAAM,GAAIT,KAAKpB,MAAMwB,GAAGG,MAAM3J,IAAI,SAAA8J,GAAC,OAAIA,EAAEF,aAAY5J,IAAI,SAAA+J,GAAC,OAAIA,EAAEhB,WACzFa,EAAUzI,UAAS,IAAUyI,EAAUzI,SAAS,MAC/CiI,KAAKiB,SAAS,CAAEJ,uBAAuB,IAErCb,KAAKiB,SAAS,CAAEJ,uBAAuB,SAE5C,GAAGb,KAAKpB,MAAMmC,WAAaI,EAAUJ,UAAYf,KAAKpB,MAAMmC,SAC1Df,KAAKpB,MAAMmC,SAASnK,IAAI,SAAA8J,GAAC,OAAIA,EAAEM,YAAWjJ,UAAS,GAClDiI,KAAKiB,SAAS,CAAEH,sBAAsB,IAEpCd,KAAKiB,SAAS,CAAEH,sBAAsB,SAE3C,GAAId,KAAKpB,MAAMO,OAASgC,EAAUhC,MAASa,KAAKpB,MAAMO,KAAK,CAC5D,IAAMhB,EAAM6B,KAAKpB,MAAMO,KAAKqB,UAAUlK,OAAO,SAAAqK,GAAC,OAAIjF,IAAOiF,EAAEnB,OAAO0B,OAAOxF,MAAU,SACnFsE,KAAKiB,SAAS,CAAE9C,0CAkChB,IAAAmD,EAAAtB,KACIlI,EAASkI,KAAKhC,MAAdlG,KADJyJ,EAEuBvB,KAAKpB,MAAxB4C,EAFJD,EAEIC,SAAUrC,EAFdoC,EAEcpC,KACZsC,EACFC,EAAAjL,EAAAkL,cAACC,EAAA,EAAD,KACIF,EAAAjL,EAAAkL,cAACC,EAAA,EAAKC,KAAN,KACIH,EAAAjL,EAAAkL,cAACG,EAAA,EAAD,CAAMC,GAAG,WAAT,WAEJL,EAAAjL,EAAAkL,cAACC,EAAA,EAAKC,KAAN,CAAWG,QAAShC,KAAKxB,cACrBkD,EAAAjL,EAAAkL,cAAA,iCAEFxC,GAAQA,EAAK8C,SACXP,EAAAjL,EAAAkL,cAACC,EAAA,EAAKC,KAAN,CAAWG,QAAS,kBAAMV,EAAK1C,MAAM5D,UHvHvBpB,GGuHmD0H,EAAK1C,MAAMsD,WHtHrF,CACH3K,KAAMqB,EACNgB,aAHD,IAA2BA,IGwHV8H,EAAAjL,EAAAkL,cAAA,YAAQ3B,KAAKpB,MAAMsD,WAAa,eAAiB,sBAKjE,OACIR,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEC,UAAW,QAASC,QAAS,OAAQC,cAAe,WAC9DZ,EAAAjL,EAAAkL,cAACpE,GAAD,CAAQgF,IAAI,SAASJ,MAAO,CAAEK,gBAAiB,QAASH,QAAS,OAAQI,WAAY,SAAUC,eAAgB,kBAC3GhB,EAAAjL,EAAAkL,cAACG,EAAA,EAAD,CAAMC,GAAG,KACLL,EAAAjL,EAAAkL,cAAC/D,GAAD,CAAOuE,MAAO,CAAEQ,MAAO,UAAWC,OAAQ,SAAUP,QAAS,OAAQI,WAAY,WAC7Ef,EAAAjL,EAAAkL,cAAA,OAAK5B,IAAKnF,sCAA6CiI,IAAI,mBAAmBV,MAAO,CAAE7L,OAAQ,YAAawM,OAAQ,GAAIC,YAAa,MADzI,8BAIFvB,GACEE,EAAAjL,EAAAkL,cAACqB,EAAA,EAAD,CAAUC,QAASxB,GACfC,EAAAjL,EAAAkL,cAACuB,EAAA,EAAD,CAAQf,MAAO,CAAEgB,UAAW,QAASC,UAAWpD,KAAKpB,MAAMsD,WAAa,yBAA2B,QAAUnC,IAAMZ,GAAQA,EAAK+D,QAAYtI,6BAAgCuE,EAAK+D,OAAOpJ,KAAQhC,GAAQA,EAAKmG,UAAYnG,EAAKmG,SAAS,GAAGxB,iBAItPiF,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAD,CAAQd,IAAI,SAASJ,MAAO,CAAEmB,KAAM,IAC9B9B,GACEE,EAAAjL,EAAAkL,cAACjE,GAAD,CAAOyE,MAAO,CAAEK,gBAAiB,YAC7Bd,EAAAjL,EAAAkL,cAACC,EAAA,EAAD,CACI2B,MAAM,OACNpB,MAAO,CAAEK,gBAAiB,UAAWM,OAAQ,OAAQU,SAAU,YAC/DC,KAAK,gBACLC,aAAc,CAAC1M,OAAO2M,SAASC,WAE/BlC,EAAAjL,EAAAkL,cAACC,EAAA,EAAKC,KAAN,CAAWU,IAAI,KAAIb,EAAAjL,EAAAkL,cAACG,EAAA,EAAD,CAAMC,GAAG,KAAT,SACnBL,EAAAjL,EAAAkL,cAACC,EAAA,EAAKC,KAAN,CAAWU,IAAI,cAAcJ,MAAO,CAAEE,QAAS,OAAQI,WAAY,WAC/Df,EAAAjL,EAAAkL,cAACG,EAAA,EAAD,CAAMC,GAAG,eAAT,cACG/B,KAAKhC,MAAM4C,kBAAqBzB,GAASA,EAAK8C,UAAYjC,KAAKpB,MAAMsD,YACpER,EAAAjL,EAAAkL,cAACkC,EAAA,EAAD,CAAO1B,MAAO,CAAE2B,UAAW,UAAWN,SAAU,SAAUO,WAAY,IAAMC,MAAOtC,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,OAAO4K,MAAO,CAAEQ,MAAO,gBAG7HjB,EAAAjL,EAAAkL,cAACC,EAAA,EAAKC,KAAN,CAAWU,IAAI,aAAYb,EAAAjL,EAAAkL,cAACG,EAAA,EAAD,CAAMC,GAAG,aAAT,eAC3BL,EAAAjL,EAAAkL,cAACC,EAAA,EAAKC,KAAN,CAAWU,IAAI,YAAYJ,MAAO,CAAEE,QAAS,OAAQI,WAAY,WAC7Df,EAAAjL,EAAAkL,cAACG,EAAA,EAAD,CAAMC,GAAG,aAAT,gBACG/B,KAAKhC,MAAM6C,uBAA0B1B,GAASA,EAAK8C,UAAYjC,KAAKpB,MAAMsD,YACzER,EAAAjL,EAAAkL,cAACkC,EAAA,EAAD,CAAO1B,MAAO,CAAE2B,UAAW,UAAWN,SAAU,SAAUO,WAAY,IAAMC,MAAOtC,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,OAAO4K,MAAO,CAAEQ,MAAO,gBAG7HjB,EAAAjL,EAAAkL,cAACC,EAAA,EAAKC,KAAN,CAAWU,IAAI,eAAeJ,MAAO,CAAEM,WAAY,SAAUJ,QAAUlD,GAASA,EAAK8C,UAAYjC,KAAKpB,MAAMsD,WAAe,OAAS,SAChIR,EAAAjL,EAAAkL,cAACG,EAAA,EAAD,CAAMC,GAAG,gBAAT,mBAEJL,EAAAjL,EAAAkL,cAACC,EAAA,EAAKC,KAAN,CAAWU,IAAI,YAAYJ,MAAO,CAAEM,WAAY,WAC5Cf,EAAAjL,EAAAkL,cAACG,EAAA,EAAD,CAAMC,GAAG,aAAT,YACG/B,KAAKhC,MAAM8C,sBAAyB3B,GAASA,EAAK8C,UAAYjC,KAAKpB,MAAMsD,YACxER,EAAAjL,EAAAkL,cAACkC,EAAA,EAAD,CAAO1B,MAAO,CAAE2B,UAAW,UAAWN,SAAU,SAAUO,WAAY,IAAMC,MAAOtC,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,OAAO4K,MAAO,CAAEQ,MAAO,gBAG7HjB,EAAAjL,EAAAkL,cAACC,EAAA,EAAKC,KAAN,CAAWU,IAAI,UAAUJ,MAAO,CAAEM,WAAY,SAAUJ,QAAUlD,GAASA,EAAK8C,UAAYjC,KAAKpB,MAAMsD,WAAe,OAAS,SAC3HR,EAAAjL,EAAAkL,cAACG,EAAA,EAAD,CAAMC,GAAG,WAAT,WAEJL,EAAAjL,EAAAkL,cAACC,EAAA,EAAKC,KAAN,CAAWU,IAAI,aAAaJ,MAAO,CAAEM,WAAY,WAC7Cf,EAAAjL,EAAAkL,cAACG,EAAA,EAAD,CAAMC,GAAG,cAAT,mBAEJL,EAAAjL,EAAAkL,cAACC,EAAA,EAAKC,KAAN,CAAWU,IAAI,iBAAiBJ,MAAO,CAAEM,WAAY,SAAUJ,QAAUlD,GAASA,EAAK8C,UAAYjC,KAAKpB,MAAMsD,WAAe,OAAS,SAClIR,EAAAjL,EAAAkL,cAACG,EAAA,EAAD,CAAMC,GAAG,kBAAT,qBAEJL,EAAAjL,EAAAkL,cAACC,EAAA,EAAKC,KAAN,CAAWU,IAAI,cAAc2B,UAAU,cAAc/B,MAAO,CAAEM,WAAY,SAAUJ,QAAS,OAAQK,eAAgB,kBACjHhB,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEgC,MAAO,OAAQ9B,QAAS,OAAQK,eAAgB,gBAAiBD,WAAY,WACvFf,EAAAjL,EAAAkL,cAAA,KAAGQ,MAAO,CAAEmB,KAAM,EAAGX,MAAO,6BAA+ByB,KAAK,4BAA4BC,OAAO,SAASC,IAAI,uBAAhH,gBACA5C,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAKhN,KAAK,UAAUyK,QAAS,kBAAMV,EAAKzB,gBAAxC,YAAkE6B,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAO9B,MAAO,CAAES,OAAQ,GAAKrL,KAAK,aAG5GmK,EAAAjL,EAAAkL,cAACC,EAAA,EAAKC,KAAN,CAAWU,IAAI,SAASJ,MAAO,CAAEqB,SAAU,WAAYgB,OAAQ,GAAIL,MAAO,OAAQ9B,QAAS,OAAQK,eAAgB,WAC/GhB,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQzC,QAAShC,KAAKjB,QAClB2C,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAMyI,KAAKhC,MAAMG,IAAItI,OAAS,EAAI,QAAU,QADtD,cAOhB6L,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAD,KACI3B,EAAAjL,EAAAkL,cAAChE,GAAD,CAASwE,MAAO,CAAEuC,QAAS,MAAOrC,QAAS,OAAQC,cAAe,WAC9DZ,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEmB,KAAM,IACdtD,KAAKpB,MAAM+F,UAEjBjD,EAAAjL,EAAAkL,cAAClE,GAAD,CAAQ0E,MAAO,CAACyC,cAAe,IAC3BlD,EAAAjL,EAAAkL,cAAC7D,GAAD,8BAAkC4D,EAAAjL,EAAAkL,cAAA,QAAMkD,KAAK,MAAMC,aAAW,SAA5B,gBAAlC,KAAiFpD,EAAAjL,EAAAkL,cAAA,QAAMkD,KAAK,MAAMC,aAAW,QAA5B,gBAAjF,QAAkIpD,EAAAjL,EAAAkL,cAAA,QAAMkD,KAAK,MAAMC,aAAW,OAA5B,gBAAlI,OAAiLpD,EAAAjL,EAAAkL,cAAA,KAAGyC,KAAK,0BAA0BC,OAAO,SAASC,IAAI,uBAAtD,eAAjL,MAA+Q5C,EAAAjL,EAAAkL,cAAA,KAAGyC,KAAK,yBAAyBC,OAAO,SAASC,IAAI,uBAArD,2BAK/R5C,EAAAjL,EAAAkL,cAAA,UAAQQ,MAAO,CAAEW,OAAQ,EAAGqB,MAAO,EAAGY,OAAQ,GAAKC,IAAKhF,KAAK3B,OAAQ0B,IAAI,aAnNrEkF,aAoOLC,4BAAcC,aAXL,SAAAnH,GACpB,MAAO,CACHkE,WAAYlE,EAAMkE,WAClB9B,GAAIpC,EAAMoC,GACVW,SAAU/C,EAAM+C,SAChBxF,KAAMyC,EAAMzC,KACZ4D,KAAMnB,EAAMmB,KACZkC,WAAYrD,EAAMqD,aAIG8D,CAAyBC,YAAWrH,2DCvO3DsH,eACF,SAAAA,EAAYzG,GAAM,IAAAD,EAAA,OAAA3E,OAAAsL,EAAA,EAAAtL,CAAAgG,KAAAqF,IACd1G,EAAA3E,OAAAuL,EAAA,EAAAvL,CAAAgG,KAAAhG,OAAAwL,EAAA,EAAAxL,CAAAqL,GAAAI,KAAAzF,KAAMpB,KAcV8G,aAAe,SAAClM,GACZA,EAAEmM,iBACFhH,EAAKC,MAAMgH,KAAKC,eAAe,SAAC5I,EAAK6I,GAC9B7I,GAEHtC,MAAMC,wCAA+C,CACjD2E,OAAQ,OACR9H,QAAS,CACLC,OAAU,mBACVC,eAAgB,oBAEpB+C,KAAMvD,KAAKgB,UAAU,CAAE4N,WAAYD,EAAOE,SAAUC,SAAUH,EAAOG,aACtE7M,KAAK,SAAA8M,GACJA,EAAKjN,OAAOG,KAAK,SAAAkC,GACbrF,QAAQC,IAAIoF,EAAKxD,MACM,MAApBwD,EAAK6K,WACJxH,EAAKsC,SAAS,CAAExH,OAAO,IAElB6B,EAAKxD,KAAKkJ,WAIfrC,EAAKsC,SAAS,CAAExH,OAAO,IACvBzB,EAAasD,GACbqD,EAAKC,MAAM5D,SAASI,MACpBuD,EAAKC,MAAM5D,SAASD,MACpB4D,EAAKC,MAAM5D,SAASK,MACpBsD,EAAKC,MAAM5D,SAASQ,MACpBmD,EAAKC,MAAMC,QAAQC,KAAK,MATxB3B,IAAQuB,KAAK,mEAWlBxD,MAAM,SAAA+B,GAAG,OAAIhH,QAAQC,IAAI+G,OAC7B/B,MAAM,SAAA+B,GAAG,OAAIhH,QAAQC,IAAI+G,QA5ChC0B,EAAKX,MAAQ,CACTvE,OAAO,GAHGkF,mFAOdqB,KAAKpB,MAAMgH,KAAKC,kBACZ7F,KAAKpB,MAAMyC,WAAW5H,OAASuG,KAAKpB,MAAMO,OAC1ClJ,QAAQC,IAAI8J,KAAKpB,MAAMO,MACvBlJ,QAAQC,IAAI8J,KAAKpB,MAAMyC,8CAyCvB,IAxDO+E,EAwDP/F,EAAAL,KAAAqG,EACyErG,KAAKpB,MAAMgH,KAAhFU,EADJD,EACIC,kBAAmBC,EADvBF,EACuBE,eAAgBC,EADvCH,EACuCG,cAAeC,EADtDJ,EACsDI,eACpDC,EAAgBD,EAAe,aAAeD,EAAc,YAC5DG,EAAgBF,EAAe,aAAeD,EAAc,YAElE,OACI9E,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAD,CAAQlB,MAAO,CAAEW,OAAQ,UACrBpB,EAAAjL,EAAAkL,cAACiF,GAAD,CAAOpF,WAAWzK,KACd2K,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAO1F,QAAR,CAAgBwE,MAAO,CAAEE,QAAS,OAAQK,eAAgB,SAAUD,WAAY,WAC5Ef,EAAAjL,EAAAkL,cAACkF,GAAA,EAAD,CAAM1E,MAAO,CAAEgC,MAAO,IAAK2C,SAAU,QACjCpF,EAAAjL,EAAAkL,cAACoF,GAAA,EAAD,CAAMC,SAAUhH,KAAK0F,cACjBhE,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CACIoF,eAAkBP,GAAiB1G,KAAKhC,MAAMvE,MAAU,QAAU,GAClEyN,KAAMR,GAAiB,IAErBJ,EAAkB,WAAY,CAAEa,MAAO,CAAC,CAAEC,UAAU,EAAMjK,QAAS,oCAAnEmJ,CACE5E,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CACAC,SAAU,SAAA9N,GAAC,OAAI6G,EAAKY,SAAS,CAAEnJ,KAAM0B,EAAE6K,OAAOkD,SAC9CC,OAAQ9F,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,OAAO4K,MAAO,CAAEQ,MAAO,qBAC1C8E,YAAY,wBAIpB/F,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CACIoF,eAAkBN,GAAiB3G,KAAKhC,MAAMvE,MAAU,QAAU,GAClEyN,KAAMP,GAAiB,IAErBL,EAAkB,WAAY,CAAEa,MAAO,CAAC,CAAEC,UAAU,EAAMjK,QAAS,gCAAnEmJ,CACE5E,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CACIC,SAAU,SAAA9N,GAAC,OAAI6G,EAAKY,SAAS,CAAEyG,GAAIlO,EAAE6K,OAAOkD,SAC5CC,OAAQ9F,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,OAAO4K,MAAO,CAAEQ,MAAO,qBAC1CpL,KAAK,WACLkQ,YAAY,oBAIxB/F,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,KACIH,EAAAjL,EAAAkL,cAACgG,GAAA,EAAD,KACIjG,EAAAjL,EAAAkL,cAACiG,GAAA,EAAD,CAAKC,KAAM,GAAI1F,MAAO,CAAEO,eAAgB,SAAUL,QAAS,SACvDX,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQlN,KAAK,UAAUyK,QAAS,kBAAM3B,EAAKzB,MAAMC,QAAQC,KAAK,eAA9D,gBAIJ4C,EAAAjL,EAAAkL,cAACiG,GAAA,EAAD,CAAKC,KAAM,GAAI1F,MAAO,CAAEO,eAAgB,SAAUL,QAAS,SACvDX,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CACIlN,KAAK,UACLuQ,SAAS,SACTC,UAvG7B3B,EAuGiDG,IAtGzDvM,OAAOK,KAAK+L,GAAa4B,KAAK,SAAAC,GAAK,OAAI7B,EAAY6B,OAmGlB,0BAhGxBhD,aAwHLiD,QAAKC,OAAO,CAAEC,KAAM,cAApBF,CAAoC/C,aAL3B,SAAAnH,GAAK,MAAK,CAC9BqD,WAAYrD,EAAMqD,WAClBlC,KAAMnB,EAAMmB,OAGmCgG,CAAyBE,KC9HtEgD,eACF,SAAAA,EAAYzJ,GAAM,IAAAD,EAAA,OAAA3E,OAAAsL,EAAA,EAAAtL,CAAAgG,KAAAqI,IACd1J,EAAA3E,OAAAuL,EAAA,EAAAvL,CAAAgG,KAAAhG,OAAAwL,EAAA,EAAAxL,CAAAqO,GAAA5C,KAAAzF,KAAMpB,KAiBV8G,aAAe,SAAClM,GACZA,EAAEmM,iBACFhH,EAAKC,MAAMgH,KAAKC,eAAe,SAAC5I,EAAK6I,GAE5B7I,IACG6I,EAAOG,WAAaH,EAAOwC,UACxB3J,EAAK4J,cAAczC,EAAO0C,OACzB7N,MAAMC,iDAAwD,CAC1D2E,OAAQ,OACR9H,QAASJ,GAAW,GACpBqD,KAAMvD,KAAKgB,UAAU,CACjB8F,SAAU6H,EAAOE,SAAUC,SAAUH,EAAOG,SAAUuC,MAAO1C,EAAO0C,MAAOxH,WAAW,MAE3F5H,KAAK,SAAA8M,GACJA,EAAKjN,OAAOG,KAAK,SAAAkC,GACbtD,EAAasD,GACbqD,EAAKC,MAAMC,QAAQC,KAAK,mBACzB5D,MAAM,SAAA+B,GAAG,OAAIhH,QAAQC,IAAI+G,OAC7B/B,MAAM,SAAA+B,GAAG,OAAIhH,QAAQC,IAAI+G,KAG5B0B,EAAKsC,SAAS,CAAEwH,YAAY,IAIhC9J,EAAKsC,SAAS,CAAEyH,SAAS,QAzCrC/J,EAAKX,MAAQ,CACT2K,WAAW,EACXF,YAAY,EACZC,SAAS,GALC/J,mFAUdqB,KAAKpB,MAAMgH,KAAKC,uDAGN2C,GAEV,MADW,0JACDI,KAAKC,OAAOL,GAAO9L,gDAkCzB,IAAA2D,EAAAL,KAAAqG,EACyDrG,KAAKpB,MAAMgH,KAAhEU,EADJD,EACIC,kBAAmBE,EADvBH,EACuBG,cAAeC,EADtCJ,EACsCI,eACpCC,EAAgBD,EAAe,aAAeD,EAAc,YAC5DsC,EAAarC,EAAe,UAAYD,EAAc,SACtDG,EAAgBF,EAAe,aAAeD,EAAc,YAC5DuC,EAAiBtC,EAAe,cAAgBD,EAAc,aAEpE,OACI9E,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAD,CAAQlB,MAAO,CAAEW,OAAQ,UACrBpB,EAAAjL,EAAAkL,cAACiF,GAAD,CAAOpF,WAAWzK,KACd2K,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAO1F,QAAR,CAAgBwE,MAAO,CAAEE,QAAS,OAAQK,eAAgB,SAAUD,WAAY,WAC5Ef,EAAAjL,EAAAkL,cAACkF,GAAA,EAAD,CAAM1E,MAAO,CAAEgC,MAAO,IAAK2C,SAAU,QACjCpF,EAAAjL,EAAAkL,cAACoF,GAAA,EAAD,CAAMC,SAAUhH,KAAK0F,cACjBhE,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CACIoF,eAAkBP,GAAiB1G,KAAKhC,MAAM2K,UAAc,QAAU,GACtEzB,KAAMR,GAAiB,IAErBJ,EAAkB,WAAY,CAAEa,MAAO,CAAC,CAAEC,UAAU,EAAMjK,QAAS,oCAAnEmJ,CACE5E,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CACIC,SAAU,SAAA9N,GAAC,OAAI6G,EAAKY,SAAS,CAAEnJ,KAAM0B,EAAE6K,OAAOkD,SAC9CC,OAAQ9F,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,OAAO4K,MAAO,CAAEQ,MAAO,qBAC1C8E,YAAY,wBAIxB/F,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CACIoF,eAAkB6B,GAAc9I,KAAKhC,MAAMyK,WAAe,QAAU,GACpEvB,KAAM4B,GAAc,IAElBxC,EAAkB,QAAS,CAAEa,MAAO,CAAC,CAAEC,UAAU,EAAMjK,QAAS,wBAAhEmJ,CACE5E,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CACIC,SAAU,SAAA9N,GAAC,OAAI6G,EAAKY,SAAS,CAAEuH,MAAOhP,EAAE6K,OAAOkD,SAC/CC,OAAQ9F,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,OAAO4K,MAAO,CAAEQ,MAAO,qBAC1CpL,KAAK,QACLkQ,YAAY,YAIxB/F,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CACIoF,eAAkBN,GAAiB3G,KAAKhC,MAAM0K,QAAY,QAAU,GACpExB,KAAMP,GAAiB,IAErBL,EAAkB,WAAY,CAAEa,MAAO,CAAC,CAAEC,UAAU,EAAMjK,QAAS,gCAAnEmJ,CACE5E,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CACIC,SAAU,SAAA9N,GAAC,OAAI6G,EAAKY,SAAS,CAAEyG,GAAIlO,EAAE6K,OAAOkD,SAC5CC,OAAQ9F,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,OAAO4K,MAAO,CAAEQ,MAAO,qBAC1CpL,KAAK,WACLkQ,YAAY,oBAIxB/F,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CACIoF,eAAkB8B,GAAkB/I,KAAKhC,MAAM0K,QAAY,QAAU,GACrExB,KAAM6B,GAAkB,IAEtBzC,EAAkB,YAAa,CAAEa,MAAO,CAAC,CAAEC,UAAU,EAAMjK,QAAS,6BAApEmJ,CACE5E,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CACIC,SAAU,SAAA9N,GAAC,OAAI6G,EAAKY,SAAS,CAAEyG,GAAIlO,EAAE6K,OAAOkD,SAC5CC,OAAQ9F,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,OAAO4K,MAAO,CAAEQ,MAAO,qBAC1CpL,KAAK,WACLkQ,YAAY,4BAIxB/F,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,KACIH,EAAAjL,EAAAkL,cAACgG,GAAA,EAAD,KACIjG,EAAAjL,EAAAkL,cAACiG,GAAA,EAAD,CAAKzF,MAAO,CAAEO,eAAgB,SAAUL,QAAS,SAC7CX,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQlN,KAAK,UAAUyK,QAAShC,KAAK0F,cAArC,8BArHrBT,aAoIRiD,QAAKC,OAAO,CAAEC,KAAM,iBAApBF,CAAuCG,ICxHvCW,GAZI,kBACftH,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAD,CAAQlB,MAAO,CAAEW,OAAQ,UACrBpB,EAAAjL,EAAAkL,cAACiF,GAAD,CAAOpF,WAAWzK,KACd2K,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAO1F,QAAR,CAAgBwE,MAAO,CAAEE,QAAS,OAAQK,eAAgB,SAAUD,WAAY,WAC5Ef,EAAAjL,EAAAkL,cAACkF,GAAA,EAAD,CAAM1E,MAAO,CAAEgC,MAAO,IAAK2C,SAAU,QACjCpF,EAAAjL,EAAAkL,cAACsH,EAAA,EAAWrL,MAAZ,CAAkBuE,MAAO,CAAES,OAAQ,EAAGsG,UAAW,WAAjD,uGCNPC,GAAe,SAAAC,GAA4D,IAA9CnE,EAA8CmE,EAAzDC,UAAyDC,EAAAF,EAAnCG,mBAAmC,IAAAD,KAAXE,EAAWxP,OAAAyP,GAAA,EAAAzP,CAAAoP,EAAA,6BAC9EM,EAAW7R,IACjB,OACI6J,EAAAjL,EAAAkL,cAACgI,EAAA,EAAD3P,OAAAC,OAAA,GACQuP,EADR,CAEII,OAAQ,SAAAhL,GAAK,OACT8K,KAAcH,GAAiBA,GAAeG,EAASzH,SACnDP,EAAAjL,EAAAkL,cAACsD,EAAcrG,GAEf8C,EAAAjL,EAAAkL,cAACkI,GAAA,EAAD,CACI9H,GAAI,CACA6B,SAAU,SACV5F,MAAO,CAAE8L,KAAMlL,EAAM+E,gDCN3CoG,8MAEF/L,MAAQ,sFAEW,IAAAqC,EAAAL,KACfrF,MAAM,oYAAqY,CACvYlD,QAAQ,CAAEuS,gBAAiB,cAC5B5Q,KAAK,SAAA8M,GACJA,EAAKjN,OAAOG,KAAK,SAAAkC,GACbX,MAAMW,EAAK2O,OAAO7Q,KAAK,SAAA8M,GACnBA,EAAKjN,OAAOG,KAAK,SAAA8Q,GACb,IAAMC,EAAQD,EAAS,GAAGE,WAAW9J,IAAI1J,IAAI,SAAAyT,GACzC,IAAMC,EAAQD,EAAEE,YAAY3T,IAAI,SAAA4C,GAAC,OAAIA,EAAEgR,UACvC,OAAOxQ,OAAAyQ,GAAA,EAAAzQ,CAAA,GAAI0B,MAASwF,OAAOmJ,EAAE7K,MAAO,OAAS,MAAS9D,MAASgP,IAAI,EAAG,OAAOxJ,OAAOmJ,EAAE7K,MAAO,OAAS,YAAW,SAAY8K,EAAM1T,IAAI,SAAA+T,GAAC,MAAK,CACzIC,KAAMD,EACNJ,YAAaF,EAAEE,YAAYM,KAAK,SAAArR,GAAC,OAAIA,EAAEgR,UAAYG,IAAGpD,MACtDuD,YAAaT,EAAES,YAAYD,KAAK,SAAAE,GAAC,OAAIA,EAAEP,UAAYG,IAAGpD,YAE3DjR,OAAO,SAAAgK,GAAG,MAA4B,WAAxBtG,OAAOK,KAAKiG,GAAK,KAElCrK,QAAQC,IAAIiU,GACZ9J,EAAKY,SAAS,CAAEkJ,gBAGzBjP,MAAM,SAAA+B,GAAShH,QAAQC,IAAI+G,OAC/B/B,MAAM,SAAA+B,GAAShH,QAAQC,IAAI+G,sCAK1B,IACEkC,EAASa,KAAKpB,MAAdO,KAEN,OADIA,IAAOA,EAAO,IAEduC,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAD,CAAQlB,MAAO,CAACW,OAAO,UACnBpB,EAAAjL,EAAAkL,cAACiF,GAAD,CAAOpF,WAAWzK,KACd2K,EAAAjL,EAAAkL,cAAA,mBAAYrF,GAAazE,IAAcuH,SAEnC1D,IAAOyD,EAAK6L,gBAAkB7L,EAAK8L,YAAYC,SAASxP,MAASgP,IAAI,EAAG,QACpEhJ,EAAAjL,EAAAkL,cAAA,4BAAqBxC,EAAKlE,QAAUqB,GAAa6C,EAAKlE,OAAOmE,QAA7D,aAAiF1D,IAAOyD,EAAKgM,gBAAgBpP,OAAO,MAApH,SAAkIL,IAAOyD,EAAK6L,eAAejP,OAAO,MAApK,KAA8KL,IAAOyD,EAAK6L,eAAeI,KAAK1P,IAAOyD,EAAKgM,gBAAiB,QAA3O,YACAzJ,EAAAjL,EAAAkL,cAAA,WACID,EAAAjL,EAAAkL,cAAA,mCAA4BxC,EAAKlE,QAAUqB,GAAa6C,EAAKlE,OAAOmE,QAApE,aAAwF1D,IAAOyD,EAAKgM,gBAAgBpP,OAAO,MAA3H,UAA0IL,MAAS0P,KAAK1P,IAAOyD,EAAKgM,gBAAiB,QAArL,aACGhM,EAAK8L,YACJvJ,EAAAjL,EAAAkL,cAAA,qCAA8BjG,IAAOyD,EAAK6L,eAAejP,OAAO,MAAhE,QAA6EL,IAAOyD,EAAK6L,eAAeI,KAAK1P,MAAU,QAAvH,aAIhBgG,EAAAjL,EAAAkL,cAAA,WAEAD,EAAAjL,EAAAkL,cAAA,iCAEI3B,KAAKpB,MAAMyM,SAASzU,IAAI,SAAA4C,GAAC,OACrBkI,EAAAjL,EAAAkL,cAAA,OAAKY,IAAK/I,EAAEiG,IAAK0C,MAAO,CAAEgC,MAAO,OAAQ9B,QAAS,OAAQqC,QAAS,EAAGlC,gBAAiB,QAAS8I,aAAc,EAAGC,SAAU,SAAUC,aAAc,QAC/I9J,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEE,QAAS,OAAQC,cAAe,SAAUgB,KAAM,EAAGd,gBAAiB,OAAQE,eAAgB,SAAUD,WAAY,WAC5Hf,EAAAjL,EAAAkL,cAAA,OAAK5B,IAAKvG,EAAEiS,QAAU7Q,6BAAgCpB,EAAEiS,OAAO3R,IAAKqI,MAAO,CAAE2E,SAAU,OAAQ4E,UAAW,IAAKvI,UAAW,UAAWwI,eAAgB,oBAEzJjK,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEuC,QAAS,MAAOpB,KAAM,IAChC5B,EAAAjL,EAAAkL,cAAA,UAAKjG,IAAOlC,EAAEoS,WAAW7P,OAAO,cAAgB,KAAOvC,EAAEqS,QACxDC,KAAWtS,EAAEuS,aAM9BrK,EAAAjL,EAAAkL,cAAA,WAEAD,EAAAjL,EAAAkL,cAAA,uBAEI3B,KAAKhC,MAAMmM,OAASnK,KAAKhC,MAAMmM,MAAMvT,IAAI,SAACyT,EAAGvT,GACzC,OAAO4K,EAAAjL,EAAAkL,cAAA,OAAKY,IAAK,IAAMzL,GACnB4K,EAAAjL,EAAAkL,cAAA,UAAM3H,OAAOK,KAAKgQ,GAAG,IACrB3I,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CACRE,QAAS,cACT0C,OAAQ,sBACRuG,aAAc,EACdlI,UAAW,qCACX4I,UAAW,OACXR,aAAc,QAGVxR,OAAO8L,OAAOuE,GAAG,GAAGzT,IAAI,SAAC+J,EAAG7J,GAAJ,OACpB4K,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CACRE,QAAS,OACTiB,KAAM,EACNhB,cAAe,WAEfZ,EAAAjL,EAAAkL,cAAA,OAAKY,IAAK,IAAIzL,EAAGqL,MAAO,CACpBK,gBAAiB,OACjBG,MAAO,QACP+B,QAAS,EACTwE,UAAW,WACXvI,EAAEiK,KALN,OAMAlJ,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CACRuC,QAAS,EACTwE,UAAW,SACX+C,WAAY,OACZtJ,MAAOhC,EAAEmK,aAAe,GAAK,UAAanK,EAAEmK,aAAe,GAAK,UAAY,SAC5EnK,EAAEmK,YALN,QAMApJ,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CACRE,QAAS,OACTK,eAAgB,SAChBD,WAAY,WACbf,EAAAjL,EAAAkL,cAAA,OAAK5B,IAAG,GAAA5F,OAAKS,GAAL,WAAAT,OAAqCwG,EAAE4J,YAAvC,2BAtGxCtF,aAyHJE,gBALS,SAAAnH,GAAK,MAAK,CAC9BmB,KAAMnB,EAAMmB,KACZkM,SAAUrN,EAAMqN,WAGLlG,CAAyB4E,kFClHzBmC,oLAVX,IAAMxC,EAAW7R,IAMjB,OALsC,kBAAb6R,GAAsC,OAAbA,IAA0C,IAArBA,EAASyC,SAAsBnM,KAAKpB,MAAMwN,KAAmB,CAClIvH,KAAM,CACJuD,KAAM,mBAF+GsB,GAKzGzH,QAAUjC,KAAKpB,MAAM+F,SAAW,UATrBM,aCMzBoH,8MACFrO,MAAQ,CACJsO,eAAe,EACf/Q,KAAM,GACNgR,WAAY,GACZC,eAAgB,GAChBC,SAAU,GACVC,eAAgB,GAChBC,KAAM,SACNC,KAAM,YAgDVC,+BAAY,SAAAC,IAAA,OAAAC,EAAAtW,EAAAuW,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACFxO,EAAKC,MAAM5D,SAASK,MADlB,cAAA4R,EAAAE,KAAA,EAEFxO,EAAKC,MAAM5D,SAASI,MAFlB,OAGRuD,EAAKyO,gBAHG,wBAAAH,EAAAI,SAAAP,QAMZM,cAAgB,WAAM,IACV7R,EAASoD,EAAKC,MAAdrD,KACR,GAAGA,EAAK,CACJ,IAAMkR,EAAWlR,EAAKjF,OAAO,SAAA+T,GAAC,MAAe,YAAXA,EAAEiD,OAAoB1W,IAAI,SAAA2W,GAAC,OAAAvT,OAAAwT,GAAA,EAAAxT,CAAA,GACtDuT,EADsD,CAEzD/N,MAAO9D,IAAOI,IAAIyR,EAAE/N,OAAOiO,KAAK,GAAGC,OAAO,GAAGC,QAAQ,GAAGC,aAAa,GAAG7R,aAEtE2Q,EAAiBD,EAAS7V,IAAI,SAAA2W,GAAC,OAAI7R,IAAOI,IAAIyR,EAAE/N,OAAOiO,KAAK,GAAGC,OAAO,GAAGC,QAAQ,GAAGC,aAAa,GAAG7R,WAC1G4C,EAAKsC,SAAS,CACV1F,OACAkR,WACAC,iBACAH,WAAY5N,EAAKkP,YAAYtS,GAC7BiR,eAAejR,EAAKjF,OAAO,SAAA+T,GAAC,OAAKA,EAAE1K,WAAU/I,IAAI,SAAAyT,GAAC,OAAArQ,OAAAwT,GAAA,EAAAxT,CAAA,GAASqQ,EAAT,CAAY9H,IAAK8H,EAAE5K,cAKjFoO,YAAc,SAACtS,GACX,IAAMuS,EAAmC,WAApBnP,EAAKX,MAAM2O,KAAoBpR,EAAKjF,OAAO,SAAA+T,GAAC,MAAe,UAAXA,EAAEiD,OAAoB/R,EAAKjF,OAAO,SAAA+T,GAAC,MAAe,WAAXA,EAAEiD,OAE9G,MADuC,SAApB3O,EAAKX,MAAM4O,KAAkBkB,EAAaxX,OAAO,SAAA+T,GAAC,OAAIA,EAAEvS,KAAK2H,MAAQ5H,IAAc4H,MAAQqO,KAIlHC,mBAAqB,SAACzN,EAAK0N,GACpBA,EACCnU,EAAQ,SAAWyG,EAAIb,IAAK,CACxBF,OAAQ,MACR7E,KAAM,CAAEiF,UAAU,KACnBvG,KAAK,SAAA8M,GACJ/I,IAAQyC,QAAR,kCAAAzF,OAAkDmG,EAAIxI,KAAKmG,SAA3D,eAAA9D,OAA8EmG,EAAIgN,KAAlF,eAAAnT,OAAiGuB,IAAO4E,EAAId,OAAOzD,OAAO,gBAC1H4C,EAAKkO,cACN3R,MAAM,SAAA+B,GACLhH,QAAQwD,MAAMwD,GACdE,IAAQ1D,MAAR,gEAAAU,OAAwEmG,EAAIgN,KAA5E,kBAIJzT,EAAQ,SAAWyG,EAAIb,IAAK,CACxBF,OAAQ,WACTnG,KAAK,SAAA8M,GACJ/I,IAAQuB,KAAK,yCAAwC4B,EAAIgN,MACzD3O,EAAKkO,cACN3R,MAAM,SAAA+B,GACLE,IAAQ1D,MAAR,gEAAAU,OAAwEmG,EAAIgN,KAA5E,gBACArX,QAAQwD,MAAMwD,QAK1BgR,YAAc,SAAA1G,GAWV,OAViB5I,EAAKX,MAAMuO,WACvBjW,OAAO,SAAA+T,GAAC,OAAI3O,IAAO2O,EAAE7K,OAAOzD,OAAO,cAAgBL,IAAO6L,GAAOxL,OAAO,cACxEnF,IAAI,SAAAyT,GAAC,MAAK,CACPvS,KAAMuS,EAAEvS,KAAKmG,SACb0B,SAAU0K,EAAE1K,SACZ2N,KAAMjD,EAAEiD,KACR7N,IAAK4K,EAAE5K,IACPD,MAAO9D,IAAO2O,EAAE7K,OAChB0D,OAAQmH,EAAEvS,KAAKoL,QAAWtI,6BAAgCyP,EAAEvS,KAAKoL,OAAOpJ,QAE7D,MAGvBoU,mBAAqB,SAAA3G,GACjB,IAAM4G,EAAWxP,EAAKsP,YAAY1G,GAC5B6G,EAAW1S,IAAOI,IAAIyL,EAAMkG,KAAK,GAAGC,OAAO,GAAGC,QAAQ,GAAGC,aAAa,IAAI7R,SAE1EsS,EAAU1P,EAAKX,MAAMyO,SAAS5B,KAAK,SAAA0C,GAAO,OAAO7R,IAAOI,IAAIyR,EAAE/N,OAAOzD,WAAaqS,IAElFE,EAAK,CACPpP,MAAOmP,EAAUA,EAAQjP,OAASmI,EAAMxL,OAAO,MAC/C4G,MAAO0L,EAAU,yBAA6B,CAAC,EAAG,GAAGtW,SAASwP,EAAMgH,OAAS,2BAA6B,eAG9G,OACI7M,EAAAjL,EAAAkL,cAAA,OAAKuC,UAAU,wBAAwB/B,MAAO,CAAEK,gBAAiB8L,EAAG3L,MAAOC,OAAQ,SAAU0I,aAAc,GAAKpM,MAAOoP,EAAGpP,MAAO8C,QAAS,SAAAwM,GAAG,OAAI7P,EAAK8P,gBAAgBD,EAAKjH,KACvK7F,EAAAjL,EAAAkL,cAAA,OAAKuC,UAAU,0BAA2BqD,EAAMmH,QAChDhN,EAAAjL,EAAAkL,cAAA,OAAKuC,UAAU,4BACXxC,EAAAjL,EAAAkL,cAAA,MAAIuC,UAAU,SAAS/B,MAAO,CAAES,OAAQ,EAAG8B,QAAS,IAEhDyJ,EAASvX,IAAI,SAAA+X,GAAI,OACbjN,EAAAjL,EAAAkL,cAACiN,GAAA,EAAD,CACI1K,UAAYyK,EAAKhP,SAA0B,GAAf,aAC5B4C,IAAKoM,EAAK7W,KAAO6W,EAAKnP,MACtBH,QACIqC,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEE,QAAS,OAAQC,cAAe,SAAU4G,UAAW,WAC/DxH,EAAAjL,EAAAkL,cAAA,YAAOgN,EAAK7W,OACR6W,EAAKhP,UAAY9H,IAAcoK,SAC/BP,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEE,QAAS,OAAQwM,UAAW,QACtCnN,EAAAjL,EAAAkL,cAACmN,GAAA,EAAD,CAAY5P,MAAK,oEAAA/E,OAA6DwU,EAAKrB,KAAlE,oBAAAnT,OAAsFuB,IAAOiT,EAAKnP,OAAOzD,OAAO,cAAhH,OAAA5B,OAAmIwU,EAAK7W,KAAxI,KAAiJiX,UAAW,SAAAP,GAAG,OAAI7P,EAAKoP,mBAAmBY,GAAM,KAC9MjN,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,QAAQJ,IAAG,GAAApI,OAAKwU,EAAKlP,IAAV,aAAtB,YAEJiC,EAAAjL,EAAAkL,cAACmN,GAAA,EAAD,CAAY5P,MAAK,oEAAA/E,OAA6DwU,EAAKrB,KAAlE,oBAAAnT,OAAsFuB,IAAOiT,EAAKnP,OAAOzD,OAAO,cAAhH,OAAA5B,OAAmIwU,EAAK7W,KAAxI,KAAiJiX,UAAW,SAAAP,GAAG,OAAI7P,EAAKoP,mBAAmBY,GAAM,KAC9MjN,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,UAAUJ,IAAG,GAAApI,OAAKwU,EAAKlP,IAAV,aAAxB,eAOpBiC,EAAAjL,EAAAkL,cAACuB,EAAA,EAAD,CAAQf,MAAO,CAAES,OAAQ,GAAK7C,IAAK4O,EAAKzL,OAASyL,EAAKzL,OAAS,MAAQyL,EAAK7W,KAAK,GAAG2E,wBAUhHgS,gBAAkB,SAACD,EAAKjH,GACpBiH,EAAIQ,UACA,CAAC,OAAQ,MAAO,UAAUjX,SAASyW,EAAIS,YAAYC,cAAiBlV,OAAAmV,GAAA,EAAAnV,CAAIwU,EAAIS,YAAYG,UAAUC,WAAWtX,SAAS,YACtH4G,EAAK2Q,eAAe/H,MAI5BgI,aAAe,SAAC/P,EAAO8N,GAAS,IAAAkC,EACJ3X,IAAhB4H,EADoB+P,EACpB/P,IAAKxE,EADeuU,EACfvU,OACbhF,QAAQC,IAAI2B,KACZ5B,QAAQC,IAAIoX,GACZ3S,MAAMC,kCAAyC,CAC3C2E,OAAQ,OACR9H,QAASJ,IACTqD,KAAMvD,KAAKgB,UAAU,CACjBqH,QAAO8N,OACPxV,KAAM2H,EACNE,SAAU9H,IAAcoK,QACxBhH,aAEL7B,KAAK,SAAA8M,GACJA,EAAKjN,OAAOG,KAAK,SAAAkH,GACVA,EAAIX,SACHxC,IAAQuB,KAAR,+BAAAvE,OAAyCmT,EAAzC,QAAAnT,OAAoDuB,IAAOiD,EAAKX,MAAMsC,KAAKvE,OAAO,gBAGlFoB,IAAQuB,KAAR,8BAAAvE,OAAwCmT,EAAxC,QAAAnT,OAAmDuB,IAAOiD,EAAKX,MAAMsC,KAAKvE,OAAO,cAAjF,sDAEJ4C,EAAKkO,YACLlO,EAAKsC,SAAS,CAAEqL,eAAe,EAAO/Q,KAAI,GAAApB,OAAAH,OAAAmV,GAAA,EAAAnV,CAAM2E,EAAKX,MAAMzC,MAAjB,CAAuB+E,QAClEpF,MAAM,SAAA+B,GAAG,OAAIhH,QAAQC,IAAI+G,OAC7B/B,MAAM,SAAA+B,GAAG,OAAIhH,QAAQC,IAAI+G,QAGhCqS,eAAiB,SAAAhP,GACbrK,QAAQC,IAAIoK,GACZ,IAAMmP,EAAU9Q,EAAKX,MAAMzC,KAAKjF,OAAO,SAAA+T,GAAC,OAAIA,EAAEvS,MAASuS,EAAEvS,KAAK2H,MAAQ5H,IAAc4H,MACpF,GAAI/D,MAASgU,eAAepP,EAAK,OAC7B,QAA0ExK,IAAtE6I,EAAKX,MAAMyO,SAAS5B,KAAK,SAAA0C,GAAC,OAAI7R,IAAO6R,EAAE/N,OAAO0B,OAAOZ,EAAK,SAAuB,CACjF,IAAMqP,EAASF,EAAQ5E,KAAK,SAAAR,GAAC,OAAI3O,IAAO2O,EAAE7K,OAAO0B,OAAOZ,EAAK,SACzDqP,EAOIA,EAAOhQ,UACPxC,IAAQyS,QAAQ,iFAPpBjR,EAAKsC,SAAS,CACVX,MACAgM,eAAe,SASrBnP,IAAQyS,QAAQ,8CAEpBzS,IAAQyS,QAAQ,2CAG1BC,mBAAqB,WAAM,IACf1Q,EAASR,EAAKC,MAAdO,KACF2Q,EAAU,KAAOpU,MAASqU,aAAe,EAAI,GAC7CC,EAAyB7Q,EAAKgM,eAAiBzP,MAAS0P,KAAK1P,IAAOyD,EAAKgM,gBAAiB,aAAUrV,EACpG0G,EAAKmC,EAAKC,MAAMO,KAAK8Q,YAActR,EAAKC,MAAMO,KAAK8Q,WAAWpa,OAAS,EAAK8I,EAAKC,MAAMO,KAAK8Q,WAAWpF,KAAK,SAAArO,GAAC,OAAIM,SAASN,EAAE0T,IAAK,MAAQxU,MAASyU,SAAU,CAAEF,WAAY,GAC1KG,EAAcJ,EAA0BA,GAA0BF,EAAW/S,KAAKsT,MAAOL,EAAyBF,EAAW,KAAOhT,SAASN,EAAEyT,WAAY,KAAO,GAAO,IAAMnT,SAASN,EAAEyT,WAAY,KAAO,GAAO,MACpNK,EAAoB3R,EAAKC,MAAMO,KAAK5D,KAAOoD,EAAKC,MAAMO,KAAK5D,KAAKjF,OAAO,SAAA+T,GAAC,MAAe,UAAXA,EAAEiD,MAAoBjD,EAAE1K,UAAYjE,IAAO2O,EAAE7K,OAAO+Q,QAAQ7U,SAAW7F,OAAS,GAC5J2a,EAAoB7R,EAAKC,MAAMO,KAAK5D,KAAOoD,EAAKC,MAAMO,KAAK5D,KAAKjF,OAAO,SAAA+T,GAAC,MAAe,UAAXA,EAAEiD,MAAoBjD,EAAE1K,UAAYjE,IAAO2O,EAAE7K,OAAOiR,UAAU/U,MAASG,QAAQ,QAASH,MAAU,OAAQ,QAAO7F,OAAS,GACtM6a,EAAuB/R,EAAKC,MAAMO,KAAK5D,KAAOoD,EAAKC,MAAMO,KAAK5D,KAAKjF,OAAO,SAAA+T,GAAC,MAAe,UAAXA,EAAEiD,OAAqBjD,EAAE1K,UAAYjE,IAAO2O,EAAE7K,OAAO+Q,QAAQ7U,SAAW7F,OAAS,GACtK8I,EAAKsC,SAAS,CACVmP,cACAE,oBACAE,oBACAE,6GAxOW,IAAArQ,EAAAL,KAET2Q,EAAU,CAAC,CACbzR,MAAO,oBACPqD,IAAK,OACLqH,OAAQ,SAAAjJ,GAAC,OAAIA,EAAE7I,MAAQ6I,EAAE7I,KAAKmG,WAC/B,CACCiB,MAAO,OACP0R,UAAW,OACXrO,IAAK,QACN,CACCrD,MAAO,QACPqD,IAAK,QACLqH,OAAQ,SAAAiH,GAAG,OAAInV,IAAOmV,EAAIrR,OAAOzD,OAAO,gBACzC,CACCmD,MAAO,YACPqD,IAAK,SACLqH,OAAQ,SAACkH,EAAMC,GAAP,OACNrP,EAAAjL,EAAAkL,cAAA,YACED,EAAAjL,EAAAkL,cAACmN,GAAA,EAAD,CAAY5P,MAAK,oEAAA/E,OAA6D4W,EAAOzD,KAApE,oBAAAnT,OAAwFuB,IAAOqV,EAAOvR,OAAOzD,OAAO,cAApH,OAAA5B,OAAuI4W,EAAOjZ,MAAQiZ,EAAOjZ,KAAKmG,SAAlK,KAA+K8Q,UAAW,SAAAP,GAAG,OAAInO,EAAK0N,mBAAmBgD,GAAQ,KAC9OrP,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,QAAQJ,IAAG,GAAApI,OAAK4W,EAAOtR,IAAZ,aAAtB,YAEJiC,EAAAjL,EAAAkL,cAACmN,GAAA,EAAD,CAAY5P,MAAK,oEAAA/E,OAA6D4W,EAAOzD,KAApE,oBAAAnT,OAAwFuB,IAAOqV,EAAOvR,OAAOzD,OAAO,cAApH,OAAA5B,OAAuI4W,EAAOjZ,MAAQiZ,EAAOjZ,KAAKmG,SAAlK,KAA+K8Q,UAAW,SAAAP,GAAG,OAAInO,EAAK0N,mBAAmBgD,GAAQ,KAC9OrP,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,UAAUJ,IAAG,GAAApI,OAAK4W,EAAOtR,IAAZ,aAAxB,gBAKZO,KAAKiB,SAAS,CAAE0P,YACb3Q,KAAKpB,MAAMrD,OACVyE,KAAKoN,gBACLpN,KAAK6P,iEAIM1O,EAAWC,GACvBA,EAAUuL,OAAS3M,KAAKhC,MAAM2O,MAAQvL,EAAUwL,OAAS5M,KAAKhC,MAAM4O,KACnE5M,KAAKiB,SAAS,CAAEsL,WAAYvM,KAAK6N,YAAY7N,KAAKhC,MAAMzC,QAEpD4F,EAAU5F,OAASyE,KAAKpB,MAAMrD,OAClCyE,KAAKoN,gBACLpN,KAAK6P,uDAmML,IAAAvO,EAAAtB,KACJ,OACI0B,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAD,CAAQlB,MAAO,CAACW,OAAO,UACnBpB,EAAAjL,EAAAkL,cAACiF,GAAD,CAAOpF,WAAWzK,KACd2K,EAAAjL,EAAAkL,cAACgG,GAAA,EAAD,CAAKxF,MAAO,CAAEO,eAAgB,eAAgBL,QAAS,OAAQmJ,aAAc,KACzE9J,EAAAjL,EAAAkL,cAACqP,GAAA,EAAD,CAAW9R,MAAO,wBAAsBqI,MAAOvH,KAAKhC,MAAMoS,cAC1D1O,EAAAjL,EAAAkL,cAACqP,GAAA,EAAD,CAAW9R,MAAO,oCAAkCqI,MAAOvH,KAAKhC,MAAMwS,oBACtE9O,EAAAjL,EAAAkL,cAACqP,GAAA,EAAD,CAAW9R,MAAO,oCAAkCqI,MAAOvH,KAAKhC,MAAMsS,oBACtE5O,EAAAjL,EAAAkL,cAACqP,GAAA,EAAD,CAAW9R,MAAO,8CAA4CqI,MAAOvH,KAAKhC,MAAM0S,wBAEpFhP,EAAAjL,EAAAkL,cAACgG,GAAA,EAAD,CAAKxF,MAAO,CAAEO,eAAgB,eAAgBL,QAAS,SACnDX,EAAAjL,EAAAkL,cAACsP,GAAA,EAAMC,MAAP,CAAaC,aAAcnR,KAAKhC,MAAM2O,KAAMyE,YAAY,SACpD1P,EAAAjL,EAAAkL,cAACsP,GAAA,EAAMI,OAAP,CAAcrP,QAAS,kBAAMV,EAAKL,SAAS,CAAE0L,KAAM,YAAcpF,MAAM,UAAvE,UACA7F,EAAAjL,EAAAkL,cAACsP,GAAA,EAAMI,OAAP,CAAcrP,QAAS,kBAAMV,EAAKL,SAAS,CAAE0L,KAAM,aAAepF,MAAM,WAAxE,YAEJ7F,EAAAjL,EAAAkL,cAACsP,GAAA,EAAMC,MAAP,CAAaC,aAAcnR,KAAKhC,MAAM4O,KAAMwE,YAAY,SACpD1P,EAAAjL,EAAAkL,cAACsP,GAAA,EAAMI,OAAP,CAAcrP,QAAS,kBAAMV,EAAKL,SAAS,CAAE2L,KAAM,YAAcrF,MAAM,UAAvE,UACA7F,EAAAjL,EAAAkL,cAACsP,GAAA,EAAMI,OAAP,CAAcrP,QAAS,kBAAMV,EAAKL,SAAS,CAAE2L,KAAM,UAAYrF,MAAM,QAArE,iBAGR7F,EAAAjL,EAAAkL,cAAC2P,GAAA,EAAD,CACIpD,mBAAoBlO,KAAKkO,mBACzB/L,MAAO,CAAES,OAAQ,YAGrBlB,EAAAjL,EAAAkL,cAAC4P,GAAD,CAAkBnF,KAAMpM,KAAKpB,MAAMsD,YAC/BR,EAAAjL,EAAAkL,cAAA,+CACAD,EAAAjL,EAAAkL,cAAC6P,GAAA,EAAD,CAAOC,WAAYzR,KAAKhC,MAAMwO,eAAgBmE,QAAS3Q,KAAKhC,MAAM2S,SAAW,OAGrFjP,EAAAjL,EAAAkL,cAAC+P,EAAA,EAAD,CACIC,QAAS3R,KAAKhC,MAAMsO,cACpBsF,SAAU,kBAAMtQ,EAAKL,SAAS,CAAEqL,eAAe,KAC/CuF,OAAQ,CACJnQ,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQlC,IAAI,QAAQP,QAAS,kBAAMV,EAAKiO,aAAcjO,EAAKtD,MAAMsC,IAAK,WAAtE,gBACAoB,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQlC,IAAI,SAAShL,KAAK,UAAUyK,QAAS,kBAAMV,EAAKiO,aAAcjO,EAAKtD,MAAMsC,IAAK,YAAtF,mBAGJoB,EAAAjL,EAAAkL,cAAA,gCAAsBjG,IAAOsE,KAAKhC,MAAMsC,KAAKvE,OAAO,cAApD,sBA9RKkJ,aA6SVE,gBARS,SAAAnH,GACpB,MAAO,CACHzC,KAAMyC,EAAMzC,KACZ4D,KAAMnB,EAAMmB,KACZ+C,WAAYlE,EAAMkE,aAIXiD,CAAyBkH,IChThCzO,GAAUC,IAAVD,MAEFlI,GAAK,sEAKLoc,eACF,SAAAA,EAAYlT,GAAM,IAAAD,EAAA,OAAA3E,OAAAsL,EAAA,EAAAtL,CAAAgG,KAAA8R,IACdnT,EAAA3E,OAAAuL,EAAA,EAAAvL,CAAAgG,KAAAhG,OAAAwL,EAAA,EAAAxL,CAAA8X,GAAArM,KAAAzF,KAAMpB,KAYVmT,gBAAkB,SAAAvY,GACdA,EAAEmM,iBACFhH,EAAKC,MAAMgH,KAAKC,eAAe,SAAC5I,EAAK6I,GACjCnL,MAAMC,6BAAgCnF,EAAIC,GAAO,CAAE0J,OAAQ0G,EAAOkM,SAAW,CAAEva,QAASJ,MACnF+B,KAAK,SAAAJ,GACF/C,QAAQC,IAAI8C,GACZA,EAASC,OAAOG,KAAK,SAAAkC,GACjBrF,QAAQC,IAAIoF,GACTA,EAAKA,KAAK2W,QAAQ,GACjBtX,MAAMC,oCAA4C/C,IAAc4H,IAAK,CACjEF,OAAQ,MACR9H,QAASJ,IACTqD,KAAMvD,KAAKgB,UAAU,CACjB8C,OAAQK,EAAKA,KAAK2W,QAAQ,GAAGxS,IAC7BuB,WAAW,MAEhB5H,KAAK,SAAAkC,GACJrF,QAAQC,IAAIoF,GACTA,EAAK4W,IACJ/U,IAAQuB,KAAR,sDAAAvE,OAAgE2L,EAAOkM,OAAvE,QAKR7U,IAAQ1D,MAAR,yCAAAU,OAAoD2L,EAAOkM,OAA3D,QAEL9W,MAAM,SAAA+B,GAAG,OAAIhH,QAAQC,IAAI+G,OAC7B/B,MAAM,SAAA+B,GAAG,OAAIhH,QAAQC,IAAI+G,QAxCtB0B,EA4ClBwT,YAAc,SAAA3Y,GACVA,EAAEmM,iBACFhH,EAAKC,MAAMgH,KAAKC,eAAe,SAAC5I,EAAK6I,GACjCnL,MAAMC,qCAA4C,CAC9C2E,OAAQ,OACR9H,QAASJ,IACTqD,KAAMvD,KAAKgB,UAAU,CACjBiH,OAAQ0G,EAAOsM,MACf7R,MAAO,CAAC1I,IAAc4H,SAE3BrG,KAAK,SAAAJ,GACJA,EAASC,OAAOG,KAAK,SAAAkC,GACjBX,MAAMC,oCAA4C/C,IAAc4H,IAAK,CACjEF,OAAQ,MACR9H,QAASJ,IACTqD,KAAMvD,KAAKgB,UAAU,CACjB6I,WAAW,EACXiB,SAAS,MAEd7I,KAAK,WACJuF,EAAKC,MAAMC,QAAQC,KAAK,SAE7B5D,MAAM,SAAA+B,GAAShH,QAAQC,IAAI+G,GAAME,IAAQ1D,MAAM,8EACnDyB,MAAM,SAAA+B,GAAShH,QAAQC,IAAI+G,GAAME,IAAQ1D,MAAM,oDAjEtDkF,EAAKX,MAAQ,CACT2K,WAAW,EACXF,YAAY,EACZC,SAAS,GALC/J,wEAuEV,IAAA0B,EAAAL,KAAAqG,EACyDrG,KAAKpB,MAAMgH,KAAhEU,EADJD,EACIC,kBAAmBE,EADvBH,EACuBG,cAAeC,EADtCJ,EACsCI,eACpC4L,EAAc5L,EAAe,WAAaD,EAAc,UACxD8L,EAAa7L,EAAe,UAAYD,EAAc,SAE5D,OACI9E,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAD,CAAQlB,MAAO,CAAEW,OAAQ,UACrBpB,EAAAjL,EAAAkL,cAACiF,GAAD,CAAOpF,WAAWzK,KACd2K,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAO1F,QAAR,CAAgBwE,MAAO,CAAEE,QAAS,OAAQC,cAAe,SAAUI,eAAgB,SAAUD,WAAY,WACrGf,EAAAjL,EAAAkL,cAACoF,GAAA,EAAD,CAAMC,SAAUhH,KAAK0F,cACjBhE,EAAAjL,EAAAkL,cAACkF,GAAA,EAAD,CAAM1E,MAAO,CAAEgC,MAAO,IAAK2C,SAAU,MAAO0E,aAAc,QACtD9J,EAAAjL,EAAAkL,cAAC4Q,GAAD,CAAOC,MAAO,GAAd,sBACA9Q,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CACIoF,eAAkBoL,GAAerS,KAAKhC,MAAMyU,YAAgB,QAAU,GACtEvL,KAAMmL,GAAe,IAEnB/L,EAAkB,SAAU,CAAEa,MAAO,CAAC,CAAEC,UAAU,EAAMjK,QAAS,oCAAjEmJ,CACE5E,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CACIC,SAAU,SAAA9N,GAAC,OAAI6G,EAAKY,SAAS,CAAEyG,GAAIlO,EAAE6K,OAAOkD,SAC5CC,OAAQ9F,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,OAAO4K,MAAO,CAAEQ,MAAO,qBAC1CpL,KAAK,OACLkQ,YAAY,+CAIxB/F,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,KACIH,EAAAjL,EAAAkL,cAACgG,GAAA,EAAD,KACIjG,EAAAjL,EAAAkL,cAACiG,GAAA,EAAD,CAAKzF,MAAO,CAAEO,eAAgB,SAAUL,QAAS,SAC7CX,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQlN,KAAK,UAAUyK,QAAShC,KAAK+R,iBAArC,wBAOhBrQ,EAAAjL,EAAAkL,cAACkF,GAAA,EAAD,CAAM1E,MAAO,CAAEgC,MAAO,IAAK2C,SAAU,QACjCpF,EAAAjL,EAAAkL,cAAC4Q,GAAD,CAAOC,MAAO,GAAd,mBACA9Q,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CACIoF,eAAkBqL,GAActS,KAAKhC,MAAM0U,WAAe,QAAU,GACpExL,KAAMoL,GAAc,IAElBhM,EAAkB,QAAS,CAAEa,MAAO,CAAC,CAAEC,UAAU,EAAMjK,QAAS,oCAAhEmJ,CACE5E,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CACIC,SAAU,SAAA9N,GAAC,OAAI6G,EAAKY,SAAS,CAAEyG,GAAIlO,EAAE6K,OAAOkD,SAC5CC,OAAQ9F,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,gBAAgB4K,MAAO,CAAEQ,MAAO,qBACnDpL,KAAK,WACLkQ,YAAY,gCAIxB/F,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,KACIH,EAAAjL,EAAAkL,cAACgG,GAAA,EAAD,KACIjG,EAAAjL,EAAAkL,cAACiG,GAAA,EAAD,CAAKzF,MAAO,CAAEO,eAAgB,SAAUL,QAAS,SAC7CX,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQlN,KAAK,UAAUyK,QAAShC,KAAKmS,aAArC,+BA7HjBlN,aA4IZiD,QAAKC,OAAO,CAAEC,KAAM,qBAApBF,CAA2C4J,4CCjJpDpc,GAAK,mEAOLid,8MAEF3U,MAAQ,CACJ4U,SAAU,GACVC,SAAU,GACVnJ,SAAU7R,IACVib,aAAc,CAACC,WAAY,IAC3BC,qBAAqB,EACrBrC,QAAS,CAAC,CACNzR,MAAO,oBACP0R,UAAW,WACXrO,IAAK,YACN,CACCrD,MAAO,QACP0R,UAAW,QACXrO,IAAK,UAET0Q,eAAgB,CAAC,CACb/T,MAAO,oBACP0R,UAAW,OACXrO,IAAK,QACN,CACCA,IAAK,UACLqH,OAAQ,SAAAsJ,GAAI,OACRxR,EAAAjL,EAAAkL,cAAA,OAAKY,IAAK2Q,EAAKzT,IAAK0C,MAAO,CAAEE,QAAS,OAAQK,eAAgB,aAC1DhB,EAAAjL,EAAAkL,cAAA,KAAGyC,KAAMxJ,6BAAgCsY,EAAKpZ,IAAKuK,OAAO,SAASC,IAAI,uBACnE5C,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,WAAWJ,IAAG,GAAApI,OAAK+Y,EAAKzT,IAAV,UAAsBiC,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,cAA1D,YAEJmK,EAAAjL,EAAAkL,cAACmN,GAAA,EAAD,CACI5P,MAAK,iDAAA/E,OAA6C+Y,EAAK9K,KAAlD,QAAAjO,OAA6DwE,EAAKX,MAAM8U,aAAa7U,SAArF,KACL8Q,UAAW,kBAAMpQ,EAAKwU,mBAAmBD,EAAMvU,EAAKX,MAAM8U,gBAC1DpR,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,SAASJ,IAAG,GAAApI,OAAK+Y,EAAKzT,IAAV,UAAsBiC,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,eAAxD,iBAEJmK,EAAAjL,EAAAkL,cAACmN,GAAA,EAAD,CACI5P,MAAK,4CAAA/E,OAAwC+Y,EAAK9K,KAA7C,wDACL2G,UAAW,kBAAMpQ,EAAKyU,cAAcF,IACpCjP,KAAMvC,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,UAAU4K,MAAO,CAAEQ,MAAO,UAE3CjB,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,UAAUJ,IAAG,GAAApI,OAAK+Y,EAAKzT,IAAV,UAAsBiC,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,WAAzD,gBAKhB8b,gBAAiB,CAAC,CACdnU,MAAO,oBACP0R,UAAW,OACXrO,IAAK,QACN,CACCA,IAAK,UACLqH,OAAQ,SAAAsJ,GAAI,OACRxR,EAAAjL,EAAAkL,cAAA,OAAKY,IAAK2Q,EAAKzT,IAAK0C,MAAO,CAAEE,QAAS,OAAQK,eAAgB,aAC1DhB,EAAAjL,EAAAkL,cAAA,KAAGyC,KAAMxJ,6BAAgCsY,EAAKpZ,IAAKuK,OAAO,SAASC,IAAI,uBACnE5C,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,WAAWJ,IAAG,GAAApI,OAAK+Y,EAAKzT,IAAV,UAAsBiC,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,cAA1D,YAEJmK,EAAAjL,EAAAkL,cAACmN,GAAA,EAAD,CACI5P,MAAK,4CAAA/E,OAAwC+Y,EAAK9K,KAA7C,wDACL2G,UAAW,kBAAMpQ,EAAKyU,cAAcF,IACpCjP,KAAMvC,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,UAAU4K,MAAO,CAAEQ,MAAO,UAE3CjB,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,UAAUJ,IAAG,GAAApI,OAAK+Y,EAAKzT,IAAV,UAAsBiC,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,WAAzD,gBAKhB+b,gBAAiB,CAAC,CACdpU,MAAO,oBACP0R,UAAW,OACXrO,IAAK,QACN,CACCA,IAAK,UACLqH,OAAQ,SAAAsJ,GAAI,OACRxR,EAAAjL,EAAAkL,cAAA,OAAKY,IAAK2Q,EAAKzT,IAAK0C,MAAO,CAAEE,QAAS,OAAQK,eAAgB,aAC1DhB,EAAAjL,EAAAkL,cAAA,KAAGyC,KAAMxJ,6BAAgCsY,EAAKpZ,IAAKuK,OAAO,SAASC,IAAI,uBACnE5C,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,WAAWJ,IAAG,GAAApI,OAAK+Y,EAAKzT,IAAV,UAAsBiC,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,cAA1D,mBAiBpBgc,aAAe,CACXjM,SAAU,SAACkM,EAAiBC,GACxB9U,EAAKsC,SAAS,CAAE4R,SAAUY,EAAa7c,IAAI,SAAA8J,GAAC,OAAIA,EAAEjB,SAEtDiU,iBAAkB,SAAA3C,GAAM,MAAK,CACzBhJ,SAA0B,kBAAhBgJ,EAAO3I,KACjBA,KAAM2I,EAAO3I,UAIrB+K,yDAAqB,SAAArG,EAAOoG,EAAMpb,GAAb,IAAA6b,EAAAC,EAAArT,EAAA,OAAAwM,EAAAtW,EAAAuW,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACXwG,EAAQhV,EAAKX,MAAM8U,aAAaC,WAAWlI,KAAK,SAAAR,GAAC,OAAIA,EAAEwJ,QAAQpU,MAAQyT,EAAKzT,MAAKA,IADtEwN,EAAAE,KAAA,EAEOtT,EAAQ,eAAiB8Z,GAFhC,OAEXC,EAFW3G,EAAA6G,KAGXvT,EAAQqT,EAAUrT,MAAMjK,OAAO,SAAAoK,GAAC,OAAIA,EAAEjB,MAAQ3H,EAAK2H,MACzD5F,EAAQ,eAAiB8Z,EAAO,CAC5BpU,OAAQ,MACR7E,KAAM,CAAE6F,WACTnH,KAAK,SAAAkC,GACJ6B,IAAQuB,KAAK,6CACbC,EAAKC,MAAM5D,SAASkB,QACrBhB,MAAM,SAAA+B,GACLhH,QAAQC,IAAI+G,GACZE,IAAQ1D,MAAM,oEAZD,wBAAAwT,EAAAI,SAAAP,gEAgBrBsG,oDAAgB,SAAAW,EAAMb,GAAN,IAAAS,EAAA,OAAA5G,EAAAtW,EAAAuW,KAAA,SAAAgH,GAAA,cAAAA,EAAA9G,KAAA8G,EAAA7G,MAAA,OACNwG,EAAQhV,EAAKC,MAAMmU,WAAWlI,KAAK,SAAAR,GAAC,OAAIA,EAAEwJ,QAAQpU,MAAQyT,EAAKzT,MAAKA,IAC1E5F,EAAQ,iBAAmBqZ,EAAKzT,IAAK,CACjCF,OAAQ,WACTnG,KAAK,SAAAkC,GACJzB,EAAQ,eAAiB8Z,EAAO,CAC5BpU,OAAQ,WACTnG,KAAK,SAAAkC,GACJ6B,IAAQuB,KAAK,wCACbC,EAAKC,MAAM5D,SAASkB,QACrBhB,MAAM,SAAA+B,GACLhH,QAAQC,IAAI+G,GACZE,IAAQ1D,MAAM,4DAGnByB,MAAM,SAAA+B,GACLhH,QAAQC,IAAI+G,GACZE,IAAQ1D,MAAM,0DAjBN,wBAAAua,EAAA3G,SAAA0G,8DAqBhBE,kCAAe,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAtH,EAAAtW,EAAAuW,KAAA,SAAAsH,GAAA,cAAAA,EAAApH,KAAAoH,EAAAnH,MAAA,cAAAmH,EAAApH,KAAA,EAEDiH,EAAoBxV,EAAKX,MAAM4U,SAAShc,IAApB,eAAA2d,EAAAva,OAAAwa,EAAA,EAAAxa,CAAA+S,EAAAtW,EAAAge,KAAwB,SAAAC,EAAMxB,GAAN,IAAAyB,EAAAja,EAAA,OAAAqS,EAAAtW,EAAAuW,KAAA,SAAA4H,GAAA,cAAAA,EAAA1H,KAAA0H,EAAAzH,MAAA,cAC9ClX,QAAQC,MADsC0e,EAAAzH,KAAA,EAE5BtT,EAAQ,cAAe,CAAE0F,OAAQ,OAAQ7E,KAAM,CAAEma,OAAQlW,EAAKX,MAAMgV,uBAFxC,cAExC2B,EAFwCC,EAAAd,MAGxCpZ,EAAO,IAAIoa,UACZC,OAAO,MAAO,aACnBra,EAAKqa,OAAO,QAASJ,EAAIlV,KACzB/E,EAAKqa,OAAO,QAAS,WACrBra,EAAKqa,OAAO,QAAS7B,GACrBrZ,EAAQ,UAAW,CACf0F,OAAQ,OACR9H,QAAS,CAACG,cAAiB,UAAYb,KACvC2D,SACD,GAZ2Cka,EAAAI,OAAA,SAavCL,EAAIlV,KAbmC,yBAAAmV,EAAAvH,SAAAqH,MAAxB,gBAAAO,GAAA,OAAAV,EAAA9T,MAAAT,KAAApK,YAAA,IAFnB0e,EAAAnH,KAAA,EAiBqB+H,QAAQC,IAAIhB,GAjBjC,OAiBDC,EAjBCE,EAAAR,KAkBP7d,QAAQC,IAAIke,GACsB,IAA/BzV,EAAKX,MAAM6U,SAAShd,QAAiB8I,EAAKX,MAAMgV,oBAG1CrU,EAAKX,MAAMgV,qBAoBhB7V,IAAQuB,KAAK,8CACbC,EAAKC,MAAM5D,SAASkB,MACpByC,EAAKsC,SAAS,CACVmU,sBAAsB,EACtBxC,SAAU,OAvBRyB,EAAa1V,EAAKX,MAAM6U,SAASjc,IAApB,eAAAye,EAAArb,OAAAwa,EAAA,EAAAxa,CAAA+S,EAAAtW,EAAAge,KAAwB,SAAAa,EAAMC,GAAN,IAAAC,EAAA,OAAAzI,EAAAtW,EAAAuW,KAAA,SAAAyI,GAAA,cAAAA,EAAAvI,KAAAuI,EAAAtI,MAAA,cAAAsI,EAAAtI,KAAA,EACftT,EAAQpE,EAAIC,GAAO,CAAE6f,YADN,cACjCC,EADiCC,EAAA3B,KACkBxY,KAAKxD,KAAKib,WAD5B0C,EAAAT,OAAA,SAEhCnb,EAAQ,UAAY0b,EAAQ,CAC/BhW,OAAQ,MACR7E,KAAM,CACFqY,WAAU,GAAA5Y,OAAAH,OAAAmV,GAAA,EAAAnV,CAAMwb,GAANxb,OAAAmV,GAAA,EAAAnV,CAAmBoa,QALE,wBAAAqB,EAAApI,SAAAiI,MAAxB,gBAAAI,GAAA,OAAAL,EAAA5U,MAAAT,KAAApK,YAAA,IASnBsf,QAAQC,IAAId,GAAYjb,KAAK,WACzB+D,IAAQuB,KAAK,8CACbC,EAAKC,MAAM5D,SAASkB,MACpByC,EAAKsC,SAAS,CACVmU,sBAAsB,EACtBxC,SAAU,QAjBlBzV,IAAQ1D,MAAM,wDApBX6a,EAAAnH,KAAA,gBAAAmH,EAAApH,KAAA,EAAAoH,EAAAqB,GAAArB,EAAA,SAmDPre,QAAQC,IAARoe,EAAAqB,IACAxY,IAAQ1D,MAAM,uDApDP,yBAAA6a,EAAAjH,SAAA6G,EAAA,oGAxDXlU,KAAKiB,SAAS,CAAE6R,aAAc9S,KAAKpB,MAAMmC,SAAS8J,KAAK,SAAAnK,GAAC,OAAIA,EAAEzC,WAAapG,IAAcoG,wDAG1EkD,GACZA,EAAUJ,WAAaf,KAAKpB,MAAMmC,UACjCf,KAAKiB,SAAS,CAAE6R,aAAc9S,KAAKpB,MAAMmC,SAAS8J,KAAK,SAAAnK,GAAC,OAAIA,EAAEzC,WAAapG,IAAcoG,8CA2GzF,IAAAoC,EAAAL,KACJ,OACI0B,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAD,CAAQlB,MAAO,CAACW,OAAO,UACnBpB,EAAAjL,EAAAkL,cAACiF,GAAD,CAAOpF,WAAWzK,KACd2K,EAAAjL,EAAAkL,cAAA,wBACE3B,KAAKhC,MAAM0L,SAASzH,UAAYjC,KAAKpB,MAAMsD,YAAgB,CACzDR,EAAAjL,EAAAkL,cAAA,OAAKY,IAAI,KAAKJ,MAAO,CAAEqJ,aAAc,KACjC9J,EAAAjL,EAAAkL,cAAA,2BACAD,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEgC,MAAO,QAASqH,aAAc,KACxC9J,EAAAjL,EAAAkL,cAACiU,GAAA,EAAOC,QAAR,CACIzN,KAAK,OACL0N,OAASlb,oCACTmb,UAAU,EACVzO,SAAU,SAAC5I,GACP,IAAMvF,EAASuF,EAAKwU,KAAK/Z,OACV,cAAXA,GAE4B,IAAzBuF,EAAKkU,SAAS/c,QACbwK,EAAKY,SAAS,CAAEmU,sBAAsB,IAG/B,SAAXjc,EACAgE,IAAQyC,QAAR,GAAAzF,OAAmBuE,EAAKwU,KAAK9K,KAA7B,iCACkB,UAAXjP,GACPgE,IAAQ1D,MAAR,gBAAAU,OAA8BuE,EAAKwU,KAAK9K,KAAxC,gBAGR4N,aAAc,SAAC9C,EAAMN,GAKjB,OAJAvS,EAAKY,SAAS,CACV2R,WACAwC,sBAAsB,KAEnB,GAEXxC,SAAU5S,KAAKhC,MAAM4U,SACrBqD,SAAU,SAAA/C,GACN,IAAMN,EAAWvS,EAAKrC,MAAM4U,SAAStc,OAAO,SAAAiX,GAAC,OAAIA,EAAE2I,MAAQhD,EAAKgD,MAChE7V,EAAKY,SAAS,CAAE2R,WAAUwC,qBAAsBxC,EAAS/c,OAAS,MAGtE6L,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,UACXmK,EAAAjL,EAAAkL,cAAA,0CAGN3B,KAAKhC,MAAMoX,sBACT1T,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEE,QAAS,OAAQC,cAAe,WAC1CZ,EAAAjL,EAAAkL,cAACwU,GAAA,EAAD,CAAUhU,MAAO,CAAEqJ,aAAc,IAAM4K,QAASpW,KAAKhC,MAAMgV,oBAAqB1L,SAAU,SAAA9N,GAAC,OAAI6G,EAAKY,SAAS,CAAE+R,oBAAqBxZ,EAAE6K,OAAO+R,YAA7I,sCACA1U,EAAAjL,EAAAkL,cAAC0U,GAAA,EAAD,CAAUnS,UAAU,cAAcoS,UAAU,EAAOC,UAAYvW,KAAKhC,MAAMgV,oBAAsB,IAAM,KAClGtR,EAAAjL,EAAAkL,cAAC0U,GAAA,EAASG,MAAV,CAAgBjU,IAAI,KAChBb,EAAAjL,EAAAkL,cAAA,MAAIY,IAAI,gBAAR,sBACAb,EAAAjL,EAAAkL,cAAC6P,GAAA,EAAD,CAAOjP,IAAI,eAAegR,aAAcvT,KAAKuT,aAAc9B,WAAYzR,KAAKpB,MAAMmC,SAAU4P,QAAS3Q,KAAKhC,MAAM2S,YAGxHjP,EAAAjL,EAAAkL,cAAA,WACID,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQzC,QAAShC,KAAKiU,cAAtB,uBAKhBvS,EAAAjL,EAAAkL,cAAA,OAAKY,IAAI,OACLb,EAAAjL,EAAAkL,cAAA,kCACAD,EAAAjL,EAAAkL,cAAC8U,GAAA,EAAD,CACIC,YAAU,EACVvU,MAAO,CAAEgC,MAAO,IAAKqH,aAAc,IACnC/D,YAAY,wBACZ0J,aAActZ,IAAcoG,SAC5B0Y,iBAAiB,WACjBrP,SAAU,SAAAsP,GACN,IAAM9D,EAAezS,EAAKzB,MAAMmC,SAAS8J,KAAK,SAAAnK,GAAC,OAAIA,EAAEzC,WAAa2Y,IAClEvW,EAAKY,SAAS,CAAE6R,kBAGpB+D,aAAc,SAACxP,EAAOyP,GAAR,OAAmBA,EAAOlY,MAAM+F,SAASjI,cAAcqa,QAAQ1P,EAAM3K,gBAAkB,IAEnGsD,KAAKpB,MAAMmC,SAASnK,IAAI,SAAA8J,GAAC,OACvBgB,EAAAjL,EAAAkL,cAAC8U,GAAA,EAAOO,OAAR,CAAezP,MAAO7G,EAAEzC,SAAUsE,IAAK7B,EAAEjB,KAAMiB,EAAEzC,aAIrD+B,KAAKhC,MAAM8U,cACPpR,EAAAjL,EAAAkL,cAAC6P,GAAA,EAAD,CAEIC,WAAYzR,KAAKpB,MAAMmU,WAAWzc,OAAO,SAAA+T,GAAC,OAAIA,EAAE9J,MAAM3J,IAAI,SAAA8J,GAAC,OAAIA,EAAEjB,MAAK1H,SAASsI,EAAKrC,MAAM8U,aAAarT,OAAM7I,IAAI,SAAAyT,GAAC,OAAIA,EAAEwJ,UACxHlD,QAAS3Q,KAAKhC,MAAMiV,eACpBgE,OAAO,QAInBvV,EAAAjL,EAAAkL,cAAA,MAAIQ,MAAO,CAAE0M,UAAW,KAAxB,qBACAnN,EAAAjL,EAAAkL,cAAC6P,GAAA,EAAD,CACIC,WAAYzR,KAAKpB,MAAMmU,WAAWzc,OAAO,SAAA+T,GAAC,OAAIA,EAAEwK,SAAQje,IAAI,SAAAyT,GAAC,OAAIA,EAAEwJ,UACnElD,QAAS3Q,KAAKhC,MAAMqV,gBACpB4D,OAAO,YAIfjX,KAAKhC,MAAM0L,SAASzH,SAAWjC,KAAKpB,MAAMsD,aAC1CR,EAAAjL,EAAAkL,cAAA,WACID,EAAAjL,EAAAkL,cAAA,0BACAD,EAAAjL,EAAAkL,cAAC6P,GAAA,EAAD,CACIC,WAAYzR,KAAKpB,MAAMmU,WAAWzc,OAAO,SAAA+T,GAAC,OAAIhK,EAAKrC,MAAM0L,SAASqJ,WAAWhb,SAASsS,EAAE5K,MAAQ4K,EAAEwK,SAAQje,IAAI,SAAAyT,GAAC,OAAIA,EAAEwJ,UACrHlD,QAAS3Q,KAAKhC,MAAMsV,gBACpB2D,OAAO,kBAvSdhS,aAyTVE,gBARS,SAAAnH,GACpB,MAAO,CACH+C,SAAU/C,EAAM+C,SAChBgS,WAAY/U,EAAM+U,WAClB7Q,WAAYlE,EAAMkE,aAIXiD,CAAyBwN,IC9TlCuE,8MAEFlZ,MAAQ,CACJ2S,QAAS,GACTwG,cAAe,GACfC,eAAgB,GAChBC,cAAe,MAgDnBC,cAAgB,WACZ,IAUMH,EAAiBtf,IAAcoK,UAAYtD,EAAKC,MAAMsD,WAAc,CAAC,CACvEhD,MAAO,UACP0R,UAAW,UACXhH,OAAQ,SAAAoE,GAAI,OAAIA,EAAOtM,EAAAjL,EAAAkL,cAACsC,EAAA,EAADjK,OAAAyQ,GAAA,EAAAzQ,CAAA,CAAMzC,KAAK,eAAegM,MAAM,UAAUgU,aAAa,WAAvD,eAA8E,YAAc7V,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,eAAegM,MAAM,UAAUgU,aAAa,cAC3K,CACCrY,MAAO,aACPqD,IAAK,SACLqH,OAAQ,SAACkH,EAAMC,GACX,OAAOA,EAAOyG,OACV9V,EAAAjL,EAAAkL,cAAA,WACID,EAAAjL,EAAAkL,cAAA,YAAOoP,EAAOyG,OAAd,YACA9V,EAAAjL,EAAAkL,cAACmN,GAAA,EAAD,CAAY5P,MAAK,8DAAA/E,OAA0D4W,EAAOvI,MAAjE,KAA2EuG,UAAW,SAAAP,GAAG,OAAI7P,EAAK8Y,kBAAkB1G,KACjIrP,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,UAAUJ,IAAG,GAAApI,OAAK4W,EAAOtR,IAAZ,aAA2BiC,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,cAGpEmK,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQlN,KAAK,UAAUyK,QAAS,kBAAMrD,EAAKsC,SAAS,CAAEyW,cAAc,EAAMC,eAAgB5G,EAAOtR,QAAjG,sBAET,GAEC2X,EAAiB,CAAC,CACpB7U,IAAK,MACLqH,OAAQ,SAACkH,EAAMC,GAAP,OACJrP,EAAAjL,EAAAkL,cAACG,EAAA,EAAD,CAAMC,GAAI,YAAcgP,EAAOtR,KAC3BiC,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAKhC,IAAG,GAAApI,OAAK4W,EAAOtR,IAAZ,aAA2BiC,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,SAA9C,eAKN8f,EAAgB,CAAC,CACnBnY,MAAO,YACPqD,IAAK,SACLqH,OAAQ,SAACkH,EAAMC,GAAP,OACNrP,EAAAjL,EAAAkL,cAAA,YACED,EAAAjL,EAAAkL,cAACmN,GAAA,EAAD,CAAY5P,MAAK,gDAAA/E,OAA4C4W,EAAO9V,QAAU8V,EAAO9V,OAAOmE,OAA3E,OAAAjF,OAAuF4W,EAAOvI,MAA9F,KAAwGuG,UAAW,SAAAP,GAAG,OAAI7P,EAAKoP,mBAAmBgD,GAAQ,KACvKrP,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,QAAQJ,IAAG,GAAApI,OAAK4W,EAAOtR,IAAZ,aAAtB,YAEJiC,EAAAjL,EAAAkL,cAACmN,GAAA,EAAD,CAAY5P,MAAK,6DAAA/E,OAAyD4W,EAAOvI,MAAhE,oBAAArO,OAAwF4W,EAAO9V,QAAU8V,EAAO9V,OAAOmE,OAAvH,KAAkI2P,UAAW,SAAAP,GAAG,OAAI7P,EAAKoP,mBAAmBgD,GAAQ,KACjMrP,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,UAAUJ,IAAG,GAAApI,OAAK4W,EAAOtR,IAAZ,aAAxB,gBAKZd,EAAKsC,SAAS,CAAE0P,QApDA,CAAC,CACbzR,MAAO,oBACP0R,UAAW,WACXrO,IAAK,YACN,CACCrD,MAAO,QACP0R,UAAW,QACXrO,IAAK,UA6CgB4U,gBAAeC,iBAAgBC,qBAG5DO,eAAiB,SAAA7W,GACb,IAAM8W,EAAUlZ,EAAKC,MAAMmC,SAASzK,OAAO,SAAAoK,GAAC,OAAIA,EAAEM,YAAWpK,IAAI,SAAA8J,GAAC,OAAA1G,OAAAwT,GAAA,EAAAxT,CAAA,GAAS0G,EAAT,CAAY6B,IAAK7B,EAAEjB,QAC/EqY,EAAanZ,EAAKC,MAAMmC,SAASzK,OAAO,SAAAoK,GAAC,OAAKA,EAAEM,YAAWpK,IAAI,SAAA8J,GAAC,OAAA1G,OAAAwT,GAAA,EAAAxT,CAAA,GAAS0G,EAAT,CAAY6B,IAAK7B,EAAEjB,QACzFd,EAAKsC,SAAS,CAAE4W,UAASC,kBAG7BC,gCAAa,SAAAjL,IAAA,OAAAC,EAAAtW,EAAAuW,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACHxO,EAAKC,MAAM5D,SAASD,MADjB,OAET4D,EAAKiZ,eAAejZ,EAAKC,MAAMmC,UAFtB,wBAAAkM,EAAAI,SAAAP,QAKbiB,mBAAqB,SAACiK,EAAShK,GACxBA,EACCnU,EAAQ,UAAYme,EAAQvY,IAAK,CAC7BF,OAAQ,MACR7E,KAAM,CAAEsG,WAAW,KACpB5H,KAAK,SAAA8M,GACJ/I,IAAQyC,QAAR,OAAAzF,OAAoB6d,EAAQxP,MAA5B,kCAAArO,OAAkE6d,EAAQ/c,OAAOmE,OAAjF,MACAT,EAAKoZ,eACN7c,MAAM,SAAA+B,GACLhH,QAAQwD,MAAMwD,GACdE,IAAQ1D,MAAM,qFAIlBI,EAAQ,UAAYme,EAAQvY,IAAK,CAC7BF,OAAQ,WACTnG,KAAK,SAAA8M,GACJ/I,IAAQuB,KAAK,6CACbC,EAAKoZ,eACN7c,MAAM,SAAA+B,GACLE,IAAQ1D,MAAM,iFACdxD,QAAQwD,MAAMwD,QAK1Bwa,kBAAoB,SAAAO,GAChB/hB,QAAQC,IAAI8hB,GACZne,EAAQ,UAAYme,EAAQvY,IAAK,CAC7BF,OAAQ,MACR7E,KAAM,CACF8c,OAAQ,MAEbpe,KAAK,kBAAMuF,EAAKoZ,mGAhJnB/X,KAAKsX,gBACFtX,KAAKpB,MAAMmC,UACVf,KAAK4X,eAAe5X,KAAKpB,MAAMmC,qDAIpBI,EAAWC,GAAU,IAAAf,EAAAL,KACjCmB,EAAUJ,WAAaf,KAAKpB,MAAMmC,SACjCf,KAAK4X,eAAe5X,KAAKpB,MAAMmC,UAE3BK,EAAUsW,eAAiB1X,KAAKhC,MAAM0Z,aACtC1X,KAAKhC,MAAM0Z,aACX1X,KAAKpB,MAAMqB,OAAOC,GAAG,eAAgB,SAAAC,GACjClK,QAAQC,IAAIiK,GACRE,EAAKzB,MAAMmC,SAASnK,IAAI,SAAA8J,GAAC,OAAIA,EAAE8W,SAAQzf,SAASoI,EAAIC,IAiBpDjD,IAAQ1D,MAAM,mFAhBdI,EAAQ,UAAYwG,EAAKrC,MAAM2Z,eAAgB,CAC3CpY,OAAQ,MACR7E,KAAM,CACF8c,OAAQrX,EAAIC,IAAMD,EAAIC,GAAGoX,UAE9Bpe,KAAK,SAAAkC,GACJ6B,IAAQuB,KAAK,6CACb2B,EAAK0X,aACL1X,EAAKY,SAAS,CAAEyW,cAAc,EAAOC,oBAAgB7hB,MACtDoF,MAAM,SAAA+B,GACLE,IAAQ1D,MAAM,yEACdxD,QAAQC,IAAI+G,GACZoD,EAAKY,SAAS,CAAEyW,cAAc,EAAOC,oBAAgB7hB,QASjEkK,KAAKpB,MAAMqB,OAAOgY,IAAI,gBAGtB9W,EAAUe,aAAelC,KAAKpB,MAAMsD,YACxClC,KAAKsX,iDA2GL,IAAAhW,EAAAtB,KAAAkY,EACmFlY,KAAKhC,MAApF6Z,EADJK,EACIL,QAASC,EADbI,EACaJ,WAAYnH,EADzBuH,EACyBvH,QAASwG,EADlCe,EACkCf,cAAeC,EADjDc,EACiDd,eAAgBC,EADjEa,EACiEb,cAErE,OACI3V,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAD,CAAQlB,MAAO,CAACW,OAAO,UACnBpB,EAAAjL,EAAAkL,cAACiF,GAAD,CAAOpF,WAAWzK,KACd2K,EAAAjL,EAAAkL,cAAA,8BACAD,EAAAjL,EAAAkL,cAAC6P,GAAA,EAAD,CAAOC,WAAYoG,EAASlH,QAAO,GAAAxW,OAAAH,OAAAmV,GAAA,EAAAnV,CAAM2W,GAAN3W,OAAAmV,GAAA,EAAAnV,CAAkBmd,GAAlBnd,OAAAmV,GAAA,EAAAnV,CAAoCod,MAElEvf,IAAcoK,UAAYjC,KAAKpB,MAAMsD,YAAe,CACjDR,EAAAjL,EAAAkL,cAAA,MAAIY,IAAI,kBAAR,wCACAb,EAAAjL,EAAAkL,cAAC6P,GAAA,EAAD,CAAOjP,IAAI,iBAAiBkP,WAAYqG,EAAYnH,QAAO,GAAAxW,OAAAH,OAAAmV,GAAA,EAAAnV,CAAM2W,GAAN3W,OAAAmV,GAAA,EAAAnV,CAAkBqd,QAIzF3V,EAAAjL,EAAAkL,cAAC+P,EAAA,EAAD,CACIC,QAAS3R,KAAKhC,MAAM0Z,aACpBpY,KAAM,SAAA9F,GAAC,OAAIA,GACXoY,SAAU,kBAAMtQ,EAAKL,SAAS,CAAEyW,cAAc,EAAOC,oBAAgB7hB,KACrE+b,OAAQ,CACJnQ,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQlC,IAAI,OAAOhL,KAAK,UAAUyK,QAAS,kBAAMV,EAAKL,SAAS,CAAEyW,cAAc,EAAOC,oBAAgB7hB,MAAtG,cAGJ4L,EAAAjL,EAAAkL,cAAA,mGApLGsD,aAkMRC,4BAAcC,aAPL,SAAAnH,GACpB,MAAO,CACH+C,SAAU/C,EAAM+C,SAChBmB,WAAYlE,EAAMkE,aAIGiD,CAAyB+R,mCCnMhDiB,8MAEFna,MAAQ,CACJga,QAAS,GACTI,gBAAiB,GACjBC,UAAW,GACXC,OAAQ,GACRC,QAAS,GACTC,YAAY,EACZvW,aAASnM,EACT2iB,eAAgB/c,MAChBuU,WAAY,MAgDhByI,cAAgB,WACZ7e,EAAQ,UAAY8E,EAAKX,MAAMga,QAAQvY,IAAK,CACxCF,OAAQ,MACR7E,KAAM,CACF4d,OAAQ3Z,EAAKX,MAAMsa,OAAOhiB,OAAO,SAAAiX,GAAC,OAAK,MAACzX,EAAW,KAAM,IAAIiC,SAASwV,KACtEoL,iBAAkBha,EAAKX,MAAMua,QAC7BK,oBAAqBja,EAAKX,MAAMwa,cAErCpf,KAAK,SAAAkC,GACJ6B,IAAQyC,QAAQ,0CAChBjB,EAAKC,MAAM5D,SAASD,QACrBG,MAAM,SAAA+B,GACLhH,QAAQC,IAAI+G,GACZE,IAAQ1D,MAAM,gDAItBof,mBAAqB,WACdla,EAAKX,MAAMoa,gBAAkB,GAAKzZ,EAAKX,MAAMoa,gBAAkB,GAC9Dve,EAAQ,UAAY8E,EAAKX,MAAMga,QAAQvY,IAAK,CACxCF,OAAQ,MACR7E,KAAM,CACFuH,QAAStD,EAAKX,MAAMiE,QACpBmW,gBAAiBzZ,EAAKX,MAAMoa,gBAC5BjN,eAAgBxM,EAAKX,MAAMya,eAAiB9Z,EAAKX,MAAMya,eAAe3c,MAAMC,cAAWjG,EACvFkV,cAAerM,EAAKX,MAAM8a,cAAgBna,EAAKX,MAAM8a,cAAchd,MAAMC,cAAWjG,EACpFmV,WAAYtM,EAAKX,MAAMiN,WACvB8N,aAAcpa,EAAKX,MAAM+a,aACzB9I,WAAYtR,EAAKX,MAAMiS,WAAW3Z,OAAO,SAAAkG,GAAC,YAAc1G,IAAV0G,EAAE0T,UAAsCpa,IAAjB0G,EAAEyT,gBAE5E7W,KAAK,SAAAkC,GAEJ6B,IAAQyC,QAAQ,0CAChBjB,EAAKC,MAAM5D,SAASQ,MACpBmD,EAAKC,MAAM5D,SAASD,MACpB4D,EAAKC,MAAM5D,SAASI,QACrBF,MAAM,SAAA+B,GACLhH,QAAQC,IAAI+G,GACZE,IAAQ1D,MAAM,6CAIlB0D,IAAQ1D,MAAM,kEAItBuf,iBAAmB,SAACC,EAAOniB,EAAGoiB,GAC1B,IAAIjJ,EAAUjW,OAAAmV,GAAA,EAAAnV,CAAO2E,EAAKX,MAAMiS,YAChCA,EAAWnZ,GAAGoiB,GAASD,EACvBta,EAAKsC,SAAS,CAAGgP,mGA9FF,IAAA5P,EAAAL,KACf,GAAGA,KAAKpB,MAAMmC,SAASlL,OAAS,EAAE,CAC9B,IAAMmiB,EAAUhY,KAAKpB,MAAMmC,SAAS8J,KAAK,SAAAnK,GAAC,OAAIA,EAAEjB,MAAQY,EAAKzB,MAAMua,MAAM/e,OAAOgf,KAChFnjB,QAAQC,IAAI8hB,GACZhY,KAAKiB,SAAS,CACVmX,gBAAiBJ,EAAQI,gBACzBC,UAAWL,EAAQM,OAAO9hB,OAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,EAAI,MAAM,IACzD4hB,OAAQN,EAAQM,OAChBC,QAASP,EAAQW,iBACjBH,WAAYR,EAAQY,oBACpB3I,WAAY+H,EAAQ/H,YAAc,GAClC8I,aAAcf,EAAQe,aACtBN,eAAgBT,EAAQ7M,eAAiBzP,IAAOsc,EAAQ7M,gBAAkB,KAC1E2N,cAAed,EAAQhN,cAAgBtP,IAAOsc,EAAQhN,eAAiB,KACvEC,WAAY+M,EAAQ/M,WACpBhJ,QAAS+V,EAAQ/V,QACjB+V,wDAKO7W,EAAWC,GAAU,IAAAE,EAAAtB,KACpC,GAAGA,KAAKpB,MAAMmC,UAAYf,KAAKpB,MAAMmC,WAAaI,EAAUJ,SAAS,CACjE,IAAMiX,EAAUhY,KAAKpB,MAAMmC,SAAS8J,KAAK,SAAAnK,GAAC,OAAIA,EAAEjB,MAAQ6B,EAAK1C,MAAMua,MAAM/e,OAAOgf,KAChFnjB,QAAQC,IAAI8hB,GACZhY,KAAKiB,SAAS,CACVmX,gBAAiBJ,EAAQI,gBACzBC,UAAWL,EAAQM,OAAO9hB,OAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,EAAI,MAAM,IACzD4hB,OAAQN,EAAQM,OAChBC,QAASP,EAAQW,iBACjBH,WAAYR,EAAQY,oBACpB3I,WAAY+H,EAAQ/H,YAAc,GAClC8I,aAAcf,EAAQe,aACtBN,eAAgBT,EAAQ7M,eAAiBzP,IAAOsc,EAAQ7M,gBAAkB,KAC1E2N,cAAed,EAAQhN,cAAgBtP,IAAOsc,EAAQhN,eAAiB,KACvEC,WAAY+M,EAAQ/M,WACpBhJ,QAAS+V,EAAQ/V,QACjB+V,iBAGChY,KAAKhC,MAAMqa,YAAcjX,EAAUiX,WACxCrY,KAAKiB,SAAS,CAAEqX,OAAQtY,KAAKhC,MAAMqa,UAAUhiB,MAAM,2CAwDnD,IAAAgjB,EAAArZ,KAAAkY,EAC4BlY,KAAKhC,MAA7Bga,EADJE,EACIF,QAAS/H,EADbiI,EACajI,WACjB,OACIvO,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAD,CAAQlB,MAAO,CAACW,OAAO,UACnBpB,EAAAjL,EAAAkL,cAACiF,GAAD,CAAOpF,WAAWzK,KACd2K,EAAAjL,EAAAkL,cAAA,UAAMqW,EAAQ/Z,UACdyD,EAAAjL,EAAAkL,cAAC4P,GAAD,CAAkBnF,KAAMpM,KAAKpB,MAAMsD,YAC/BR,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWU,IAAI,kBAAkB+W,MAAM,2CACnC5X,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CAAO9P,KAAK,SAASgQ,MAAOvH,KAAKhC,MAAMoa,gBAAiB9Q,SAAU,SAAA9N,GAAC,OAAI6f,EAAKpY,SAAS,CAAEmX,gBAAiB5e,EAAE6K,OAAOkD,YAErH7F,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWU,IAAI,eAAe+W,MAAM,oBAChC5X,EAAAjL,EAAAkL,cAAC8U,GAAA,EAAD,CAAQlP,MAAOvH,KAAKhC,MAAM+a,aAAczR,SAAU,SAAAyR,GAAY,OAAIM,EAAKpY,SAAS,CAAE8X,kBAAiB5W,MAAO,CAAEgC,MAAO,MAC/GzC,EAAAjL,EAAAkL,cAAC8U,GAAA,EAAOO,OAAR,CAAezP,MAAM,cAArB,cACA7F,EAAAjL,EAAAkL,cAAC8U,GAAA,EAAOO,OAAR,CAAezP,MAAM,aAArB,kBAGR7F,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWU,IAAI,iBAAiB+W,MAAM,+BAClC5X,EAAAjL,EAAAkL,cAAC4X,GAAA,EAAD,CAAYhS,MAAOvH,KAAKhC,MAAMya,eAAgBnR,SAAU,SAAAmR,GAAc,OAAIY,EAAKpY,SAAS,CAAEwX,uBAE9F/W,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWU,IAAI,gBAAgB+W,MAAM,+BAC9BtZ,KAAKhC,MAAMiN,YACVvJ,EAAAjL,EAAAkL,cAAA,WACID,EAAAjL,EAAAkL,cAAC4X,GAAA,EAAD,CAAYhS,MAAOvH,KAAKhC,MAAM8a,cAAexR,SAAU,SAAAwR,GAAa,OAAIO,EAAKpY,SAAS,CAAE6X,qBACxFpX,EAAAjL,EAAAkL,cAAA,YAGRD,EAAAjL,EAAAkL,cAAA,6BAAsBD,EAAAjL,EAAAkL,cAAC6X,GAAA,EAAD,CAAQpD,QAASpW,KAAKhC,MAAMiN,WAAY3D,SAAU,SAAA9N,GAAC,OAAI6f,EAAKpY,SAAS,CAAEgK,WAAYzR,SAE7GkI,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWU,IAAI,mBAAmB+W,MAAM,0CAClCrJ,EAAWrZ,IAAI,SAAC4F,EAAG1F,GAAJ,OACb4K,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEE,QAAS,SACnBX,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CACI9P,KAAK,SACLkQ,YAAY,SACZtF,MAAO,CAAEY,YAAa,IACtBwE,MAAQ8R,EAAKrb,MAAMiS,WAAWnZ,GAAGoZ,IACjC5I,SAAU,SAAAkH,GAAG,OAAI6K,EAAKL,iBAAiBxK,EAAInK,OAAOkD,MAAOzQ,EAAG,UAEhE4K,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CACI9P,KAAK,SACLkQ,YAAY,gBACZtF,MAAO,CAAEY,YAAa,IACtBwE,MAAQ8R,EAAKrb,MAAMiS,WAAWnZ,GAAGmZ,WACjC3I,SAAU,SAAAkH,GAAG,OAAI6K,EAAKL,iBAAiBxK,EAAInK,OAAOkD,MAAOzQ,EAAG,iBAEhE4K,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEE,QAAS,OAAQI,WAAY,WACvCf,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,UAAUX,QAAS,kBAAMqX,EAAKpY,SAAS,CAAEgP,WAAYA,EAAW3Z,OAAO,SAACkG,EAAGid,GAAJ,OAAUA,IAAM3iB,QAC9F4K,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,gBAK3BmK,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQzC,QAAS,kBAAMqX,EAAKpY,SAAS,CAAEgP,WAAU,GAAA9V,OAAAH,OAAAmV,GAAA,EAAAnV,CAAMqf,EAAKrb,MAAMiS,YAAjB,CAA6B,SAA9E,qBAEJvO,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWU,IAAI,kBAAkB+W,MAAM,WACnC5X,EAAAjL,EAAAkL,cAACsP,GAAA,EAAMC,MAAP,CAAc3J,MAAQvH,KAAKhC,MAAMiE,SAC7BP,EAAAjL,EAAAkL,cAACsP,GAAA,EAAMI,OAAP,CAAc9J,OAAO,EAAMvF,QAAS,kBAAMqX,EAAKpY,SAAS,CAAEgB,SAAS,MAAnE,SACAP,EAAAjL,EAAAkL,cAACsP,GAAA,EAAMI,OAAP,CAAc9J,OAAO,EAAOvF,QAAS,kBAAMqX,EAAKpY,SAAS,CAAEgB,SAAS,MAApE,QAGRP,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQzC,QAAShC,KAAK6Y,oBAAtB,6BACAnX,EAAAjL,EAAAkL,cAAC+X,GAAA,EAAD,OAEJhY,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWyX,MAAM,6BACb5X,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAMsS,SAAP,CAAgBC,KAAM,EAAGrS,MAAOvH,KAAKhC,MAAMqa,UAAW/Q,SAAU,SAAA9N,GAAC,OAAI6f,EAAKpY,SAAS,CAAEoX,UAAW7e,EAAE6K,OAAOkD,YAE7G7F,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWyX,MAAM,qBACb5X,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CAAO9P,KAAK,OAAOgQ,MAAOvH,KAAKhC,MAAMua,QAASjR,SAAU,SAAA9N,GAAC,OAAI6f,EAAKpY,SAAS,CAAEsX,QAAS/e,EAAE6K,OAAOkD,WAC/F7F,EAAAjL,EAAAkL,cAACsP,GAAA,EAAMC,MAAP,CAAa3J,MAAQvH,KAAKhC,MAAMwa,YAC5B9W,EAAAjL,EAAAkL,cAACsP,GAAA,EAAMI,OAAP,CAAc9J,OAAO,EAAMvF,QAAS,kBAAMqX,EAAKpY,SAAS,CAAEuX,YAAY,MAAtE,YACA9W,EAAAjL,EAAAkL,cAACsP,GAAA,EAAMI,OAAP,CAAc9J,OAAO,EAAOvF,QAAS,kBAAMqX,EAAKpY,SAAS,CAAEuX,YAAY,MAAvE,iBAGR9W,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQzC,QAAShC,KAAK0Y,eAAtB,2BAxLMzT,aAsMXE,gBAPS,SAAAnH,GACpB,MAAO,CACH+C,SAAU/C,EAAM+C,SAChBmB,WAAYlE,EAAMkE,aAIXiD,CAAyBgT,IC9LzB0B,oLAVP,OACInY,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAD,CAAQlB,MAAO,CAACW,OAAO,UACnBpB,EAAAjL,EAAAkL,cAACiF,GAAD,CAAOpF,WAAWzK,KACd2K,EAAAjL,EAAAkL,cAAA,gCALIsD,iCCClB6U,8MAEFC,iCAAc,SAAAjN,IAAA,IAAAkN,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAxN,EAAAtW,EAAAuW,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACJ6M,EAASrb,EAAKC,MAAMoZ,SAAWrZ,EAAKX,MAAM8U,aAAarT,UAAO3J,EAChE,CAAC6I,EAAKX,MAAMwc,mBAAoB7b,EAAKX,MAAMyc,yBAA0B9b,EAAKX,MAAM0c,wBAAyBV,GAAQjiB,cAASjC,GAFpH,CAAAmX,EAAAE,KAAA,YAGA8M,EAAetb,EAAKX,MAAMwc,mBAAmB5e,QAAQ6R,KAAK9O,EAAKX,MAAMyc,yBAAyBhN,QAAQC,OAAO/O,EAAKX,MAAMyc,yBAAyB/M,UACjJwM,EAAcvb,EAAKX,MAAMwc,mBAAmB5e,QAAQ6R,KAAK9O,EAAKX,MAAM0c,wBAAwBjN,QAAQC,OAAO/O,EAAKX,MAAM0c,wBAAwBhN,UAE9IyM,EAAUF,EAAa/O,SAASxP,OAChC0e,EAAUF,EAAYhP,SAASxP,OAC/B2e,EAAYJ,EAAa/O,SAASgP,KAEpCC,GAAWC,GAAWC,GAVpB,CAAApN,EAAAE,KAAA,gBAWImN,EAAkB,CACpBxiB,KAAMkiB,EACNxa,MAAO9D,IAAOI,IAAIme,GAAcle,SAChC2D,aAAc7H,IAAc4H,IAC5BE,WAAU9H,IAAcoK,SAEtBsY,EAAiB,CACnBziB,KAAMkiB,EACNxa,MAAO9D,IAAOI,IAAIoe,GAAane,SAC/B2D,aAAc7H,IAAc4H,IAC5BE,WAAU9H,IAAcoK,SArB1BgL,EAAAC,KAAA,GAAAD,EAAAE,KAAA,GAyB4BtT,EAAQ,aAAc,CAAE0F,OAAQ,OAAQ7E,KAAM4f,IAzB1E,eAAArN,EAAA6G,KAAA7G,EAAAE,KAAA,GA0B2BtT,EAAQ,aAAc,CAAE0F,OAAQ,OAAQ7E,KAAM6f,IA1BzE,QAAAtN,EAAA6G,MA4BgC,IAA1Bjc,IAAcoK,QACd9E,IAAQyC,QAAQ,6CAGhBzC,IAAQyC,QAAQ,6FAEjBjB,EAAKC,MAAM+b,aAAchc,EAAKC,MAAM+b,cACvChc,EAAKsC,SAAS,CACVuZ,wBAAoB1kB,EACpB2kB,8BAA0B3kB,EAC1B4kB,6BAAyB5kB,IAtC/BmX,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAA0I,GAAA1I,EAAA,UA0CEhX,QAAQC,IAAR+W,EAAA0I,IACAxY,IAAQ1D,MAAM,wDA3ChB,QAAAwT,EAAAE,KAAA,iBA+CEgN,GAAUhd,IAAQ1D,MAAM,qCACxB2gB,GAAUjd,IAAQ1D,MAAM,oCACxB4gB,GAAald,IAAQ1D,MAAM,wDAjD7B,QAAAwT,EAAAE,KAAA,iBAoDJhQ,IAAQyS,QAAQ,+BApDZ,yBAAA3C,EAAAI,SAAAP,EAAA,2FAuDN,IAAAzM,EAAAL,KACEgX,EAAS4D,KAAO5D,OACtB,OACItV,EAAAjL,EAAAkL,cAAA,WACID,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEE,QAAS,OAAQK,eAAgB,gBAAiBmY,SAAU,UACpE7a,KAAKpB,MAAMoZ,SACTtW,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWyX,MAAM,WACb5X,EAAAjL,EAAAkL,cAAC8U,GAAA,EAADzc,OAAAyQ,GAAA,EAAAzQ,CAAA,CACI0c,YAAU,EACVvU,MAAO,CAAEgC,MAAO,IAAKqH,aAAc,IACnC/D,YAAY,wBACZkP,iBAAiB,WACjBrP,SAAU,SAAAsP,GACN,IAAM9D,EAAezS,EAAKzB,MAAMmC,SAAS8J,KAAK,SAAAnK,GAAC,OAAIA,EAAEzC,WAAa2Y,IAClEvW,EAAKY,SAAS,CAAE6R,kBAGpB+D,aAAc,SAACxP,EAAOyP,GAAR,OAAmBA,EAAOlY,MAAM+F,SAASjI,cAAcqa,QAAQ1P,EAAM3K,gBAAkB,IAVzG,QAWW,CAAEyH,MAAO,MAEdnE,KAAKpB,MAAMmC,SAASnK,IAAI,SAAA8J,GAAC,OACvBgB,EAAAjL,EAAAkL,cAACqV,EAAD,CAAQzP,MAAO7G,EAAEzC,SAAUsE,IAAK7B,EAAEjB,KAAMiB,EAAEzC,cAK1DyD,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWyX,MAAM,SACb5X,EAAAjL,EAAAkL,cAAC4X,GAAA,EAAD,CAAYjS,SAAU,SAAAkT,GAAkB,OAAIna,EAAKY,SAAS,CAAEuZ,wBAAuBrY,MAAO,CAAEgC,MAAO,QAEvGzC,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWyX,MAAM,mBACb5X,EAAAjL,EAAAkL,cAACmZ,GAAA,EAAD,CAAYxT,SAAU,SAAAmT,GAAwB,OAAIpa,EAAKY,SAAS,CAAEwZ,8BAA6BtY,MAAO,CAAEgC,MAAO,QAEnHzC,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWyX,MAAM,kBACb5X,EAAAjL,EAAAkL,cAACmZ,GAAA,EAAD,CAAYxT,SAAU,SAAAoT,GAAuB,OAAIra,EAAKY,SAAS,CAAEyZ,6BAA4BvY,MAAO,CAAEgC,MAAO,SAGrHzC,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQzC,QAAShC,KAAK+Z,aAAtB,8BA7Fc9U,aAyGfE,gBANS,SAAAnH,GACpB,MAAO,CACH+C,SAAU/C,EAAM+C,WAIToE,CAAyB2U,ICxGlCiB,8MACF/c,MAAQ,CACJiM,MAAO,GACP+Q,SAAU,GACVC,YAAY,EACZC,gBAAiB,GACjBtQ,KAAMlP,MACNiV,QAAS,GACTwK,aAAc,MAclB7D,cAAgB,WACZ,IAAM3G,EAAU,CACZ,CACIpO,IAAK,IACLrD,MAAO,OACP0K,OAAQ,SAAAiH,GAAG,OAAInV,IAAOmV,EAAIrR,OAAOzD,OAAO,WAE5C,CACIwG,IAAK,IACLrD,MAAO,SACP0K,OAAQ,SAACiH,EAAKuK,EAAQtkB,GAClB,OAAS,IAANA,EAAiB,UACZA,EAAI,EACLA,IAAM6H,EAAKX,MAAMgd,SAASxa,UAAU3K,OAAS,EAAW,SAC9C,uBAEJ,uBAInBslB,EAAexc,EAAKC,MAAMyc,YAAc,CAAC,CAC3C9Y,IAAK,IACLrD,MAAO,WACP0K,OAAQ,SAAAiH,GAAG,OACHA,EAAIlR,SAAW+B,EAAAjL,EAAAkL,cAACsC,EAAA,EAADjK,OAAAyQ,GAAA,EAAAzQ,CAAA,CAAMzC,KAAK,eAAegM,MAAM,UAAUgU,aAAa,WAAvD,eAA8E,YAAe1f,IAAcoK,UAAYtD,EAAKC,MAAMsD,WACjJR,EAAAjL,EAAAkL,cAAA,YACID,EAAAjL,EAAAkL,cAACmN,GAAA,EAAD,CAAY5P,MAAK,wDAAqD6P,UAAW,kBAAMpQ,EAAK2c,kBAAiB,EAAMzK,KAC/GnP,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,QAAQJ,IAAG,GAAApI,OAAK0W,EAAIpR,IAAT,aAAtB,YAEJiC,EAAAjL,EAAAkL,cAACmN,GAAA,EAAD,CAAY5P,MAAK,qDAAkD6P,UAAW,kBAAMpQ,EAAK2c,kBAAiB,EAAOzK,KAC7GnP,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,UAAUJ,IAAG,GAAApI,OAAK0W,EAAIpR,IAAT,aAAxB,aAEEiC,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,eAAegM,MAAM,UAAUgU,aAAa,eAExE,GACL5Y,EAAKsC,SAAS,CAAE0P,UAASwK,oBAG7BpB,YAAc,WACV,IAAMva,EAAQb,EAAKX,MAAM4M,KACpB8D,KAAKhT,IAAOiD,EAAKX,MAAMiM,MAAMsR,SAAS7M,QACtC8M,MAAM9f,IAAOiD,EAAKX,MAAMiM,MAAMsR,SAASC,SACvCrL,KAAKzU,IAAOiD,EAAKX,MAAMiM,MAAMsR,SAASpL,QAE3C,GAAG3Q,EAAMkQ,eAAehU,OAAU,CAC9B,IAAM8E,EAAY,GAAArG,OAAAH,OAAAmV,GAAA,EAAAnV,CACX2E,EAAKX,MAAMgd,SAASxa,WADT,CAEd,CAAEhB,MAAOA,EAAM1D,MAAMC,YACvB0f,KAAK,SAAChlB,EAAGC,GACP,OAAGgF,IAAOjF,EAAE+I,OAAO0L,SAASxP,IAAOhF,EAAE8I,SAAkB,EAC/C9D,IAAOjF,EAAE+I,OAAO+Q,QAAQ7U,IAAOhF,EAAE8I,QAAiB,EAC7C,IAIjBb,EAAKsC,SAAS,CACVga,YAAY,EACZD,SAAShhB,OAAAwT,GAAA,EAAAxT,CAAA,GACF2E,EAAKX,MAAMgd,SADV,CAEJxa,cAEJ0a,gBAAe,GAAA/gB,OAAAH,OAAAmV,GAAA,EAAAnV,CAAM2E,EAAKX,MAAMkd,iBAAjB,CAAkC,CAC7C1b,MAAOb,EAAKX,MAAM4M,KAAK9O,MAAMC,SAC7BjE,KAAM6G,EAAKX,MAAMiM,MAAMzJ,UAAU,GAAG1I,KAAK2H,IACzCC,aAAc7H,IAAc4H,IAC5BE,WAAU9H,IAAcoK,kBAKhC9E,IAAQyS,QAAQ,sDAIxB8L,uBAAyB,WACrB,IAAM7e,EAAI8B,EAAKX,MAAMkd,gBAAgBrlB,OAC/B2K,EAAY7B,EAAKX,MAAMkd,gBAC7Blc,IAAMC,QAAQ,CACVC,MAAK,8GAAA/E,OAAwG0C,EAAE,EAAIA,EAAI,KAAlH,UAAA1C,OAAiI0C,EAAE,EAAI,IAAM,GAA7I,aAAA1C,OAA4J0C,EAAE,EAAI,IAAM,GAAxK,KACLyC,KAAI,eAAAqc,EAAA3hB,OAAAwa,EAAA,EAAAxa,CAAA+S,EAAAtW,EAAAge,KAAE,SAAA3H,IAAA,IAAA8O,EAAA1V,EAAA,OAAA6G,EAAAtW,EAAAuW,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACIyO,EAAOpb,EAAU5J,IAAI,SAAA+J,GAAC,OACxBhG,MAAMC,uCAA8C,CAChD2E,OAAQ,OACR9H,QAAS,CACLG,cAAiB,UAAYb,IAC7BW,OAAU,mBACVC,eAAgB,oBAEpB+C,KAAMvD,KAAKgB,UAAUwI,KACtBzF,MAAM,SAAA+B,GAAG,OAAIA,MAVlBgQ,EAAAE,KAAA,EAYkB+H,QAAQC,IAAIyG,GAZ9B,OAAA3O,EAAA0I,GAYyC,SAAAhV,GAAC,OAAIA,EAAExH,SAA5C+M,EAZJ+G,EAAA6G,KAYqCld,IAZrCqW,EAAA0I,KAaM3N,KAAK,SAAArH,GAAC,OAAIA,GAAK,OACnBxD,IAAQ1D,MAAM,iEACdxD,QAAQC,IAAIgQ,KAGZ/I,IAAQyC,QAAQ,sDAChBjB,EAAKsC,SAAS,CAAEga,YAAY,EAAOC,gBAAiB,KACpDlc,IAAM6c,cApBR,wBAAA5O,EAAAI,SAAAP,MAAF,yBAAA6O,EAAAlb,MAAAT,KAAApK,YAAA,QA0BZ0lB,iBAAmB,SAACQ,EAAQlf,IACV,IAAXkf,EACCjiB,EAAQ,cAAgB+C,EAAK6C,IAAK,CAC9BF,OAAQ,MACR7E,KAAM,CACFiF,UAAU,KAEfvG,KAAK,SAAAkC,GAEJ6B,IAAQyC,QAAQ,4CAChBjB,EAAKC,MAAM5D,SAASQ,MACpBmD,EAAKsC,SAAS,CAAE+Z,SAAShhB,OAAAwT,GAAA,EAAAxT,CAAA,GAClB2E,EAAKX,MAAMgd,SADM,CAEpBxa,UAAW7B,EAAKX,MAAMgd,SAASxa,UAAU5J,IAAI,SAAA+J,GACzC,OAAGA,EAAElB,MAAQ7C,EAAK6C,IAAazF,OAAAwT,GAAA,EAAAxT,CAAA,GAAI2G,EAAX,CAAchB,UAAU,IACnCgB,UAGtBzF,MAAM,SAAA+B,GACLhH,QAAQC,IAAI+G,GACZE,IAAQ1D,MAAM,gEAIlBI,EAAQ,cAAgB+C,EAAK6C,IAAK,CAAEF,OAAQ,WAAYnG,KAAK,SAAAkC,GACzD6B,IAAQyC,QAAQ,4CAChBjB,EAAKC,MAAM5D,SAASQ,MACpBmD,EAAKsC,SAAS,CAAE+Z,SAAShhB,OAAAwT,GAAA,EAAAxT,CAAA,GAClB2E,EAAKX,MAAMgd,SADM,CAEpBxa,UAAW7B,EAAKX,MAAMgd,SAASxa,UAAUlK,OAAO,SAAAqK,GAAC,OAAIA,EAAElB,MAAQ7C,EAAK6C,YAEzEvE,MAAM,SAAA+B,GACLhH,QAAQC,IAAI+G,GACZE,IAAQ1D,MAAM,oJApJtBuG,KAAKsX,2DAGUnW,GACXA,EAAU8I,QAAUjK,KAAKpB,MAAMqL,OAAUjK,KAAKpB,MAAMqL,QACpDjK,KAAKiB,SAAS,CAAEgJ,MAAOjK,KAAKpB,MAAMqL,MAAO+Q,SAAUhb,KAAKpB,MAAMqL,QAC9DjK,KAAKsX,kDAmJL,IAAAjX,EAAAL,KAAAkY,EACwBlY,KAAKhC,MAAzBiM,EADJiO,EACIjO,MAAO+Q,EADX9C,EACW8C,SACf,OACItZ,EAAAjL,EAAAkL,cAAC+P,EAAA,EAAD,CACIC,QAAS3R,KAAKpB,MAAM+S,QACpBE,OAAQ,KACRD,SAAU,WACHvR,EAAKrC,MAAMid,WACVjc,IAAMC,QAAQ,CACVC,MAAO,mEACPI,KAAM,WACFe,EAAKY,SAAS,CAAE+Z,SAAU3a,EAAKrC,MAAMiM,MAAOgR,YAAY,EAAOC,gBAAiB,KAChF7a,EAAKzB,MAAMmd,QAInB1b,EAAKzB,MAAMmd,MAEnB5X,MAAM,QAENzC,EAAAjL,EAAAkL,cAAA,UAAMsI,EAAM+N,QAAU,MAAQtc,IAAOuO,EAAMsR,SAASxf,OAAO,eAC3D2F,EAAAjL,EAAAkL,cAAA,WACID,EAAAjL,EAAAkL,cAAC6P,GAAA,EAAD,CACIC,WAAYuJ,EAASxa,UACrByW,OAAO,MACP+E,YAAY,EACZ7Z,MAAO,CAAEqJ,aAAc,IACvBmF,QAAO,GAAAxW,OAAAH,OAAAmV,GAAA,EAAAnV,CAAMgG,KAAKhC,MAAM2S,SAAjB3W,OAAAmV,GAAA,EAAAnV,CAA6BgG,KAAKhC,MAAMmd,kBAGvDzZ,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEqJ,aAAc,KACxB9J,EAAAjL,EAAAkL,cAACmZ,GAAA,EAAD,CAAYrT,YAAY,kBAAkBF,MAAOvH,KAAKhC,MAAM4M,KAAKqR,UAAU,GAAI3U,SAAU,SAAAsD,GAAI,OAAIvK,EAAKY,SAAS,CAAE2J,UAAUzI,MAAO,CAAEY,YAAa,MACjJrB,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQzC,QAAShC,KAAK+Z,aAAtB,uBAEA/Z,KAAKhC,MAAMid,YACXvZ,EAAAjL,EAAAkL,cAAA,WACID,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQlN,KAAK,SAAS4K,MAAO,CAAEY,YAAa,IAAMf,QAAS,kBAAM3B,EAAKY,SAAS,CAAE+Z,SAAU3a,EAAKrC,MAAMiM,MAAOgR,YAAY,EAAOC,gBAAiB,OAAjJ,eACAxZ,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQlN,KAAK,UAAUyK,QAAS,kBAAM3B,EAAKqb,2BAA3C,oBA1MSzW,aAkNlBE,kBAAU4V,IC/MnBmB,8MAEFle,MAAQ,CACJ+C,SAAU,GACV2I,SAAU7R,IACVskB,cAAc,EACdC,cAAc,KAGlBzL,QAAU,CAAC,CACPzR,MAAO,UACP0R,UAAW,UACXrO,IAAK,UACL8Z,iBAAkB,UAClBC,OAAQ,SAAC7lB,EAAGC,GAAJ,OAAUgF,IAAOjF,EAAE8kB,SAASnQ,KAAK1P,IAAOhF,EAAE6kB,WAClD3R,OAAQ,SAAAgB,GAAI,OAAIlP,IAAOkP,GAAM7O,OAAO,uBACrC,CACCmD,MAAO,SACP0R,UAAW,SACXrO,IAAK,SACL+Z,OAAQ,SAAC7lB,EAAGC,GAAJ,OAAUgF,IAAOjF,EAAE8kB,SAASnQ,KAAK1P,IAAOhF,EAAE6kB,WAClD3R,OAAQ,SAAAgB,GAAI,MAAa,MAATA,EAAelP,IAAOkP,GAAM7O,OAAO,qBAAuB,MAC3E,CACCmD,MAAO,mBACP0R,UAAW,QACXrO,IAAK,QACL+Z,OAAQ,SAAC7lB,EAAGC,GAAJ,OAAUD,EAAE6T,MAAQ5T,EAAE4T,OAC9BV,OAAQ,SAAAU,GAAK,MAAc,MAAVA,EAAgBvN,KAAKsT,MAAM/F,EAAO,IAAM,KAAOvN,KAAKwf,MAAOjS,EAAQ,EAAK,IAAM,IAAM,MACtG,CACCpL,MAAO,qBACP0R,UAAW,iBACXrO,IAAK,iBACL+Z,OAAQ,SAAC7lB,EAAGC,GAAJ,OAAUD,EAAE+lB,eAAiB9lB,EAAE8lB,gBACvC5S,OAAQ,SAAA4S,GAAc,MAAuB,MAAnBA,EAAyBzf,KAAKsT,MAAMmM,EAAgB,IAAM,KAAOzf,KAAKwf,MAAOC,EAAiB,EAAK,IAAM,IAAM,MAC1I,CACCtd,MAAO,GACP0R,UAAW,WACXrO,IAAK,WACLqH,OAAQ,kBAAMlI,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,QAAX,iBAkBlB8Z,eAAiB,SAAClH,GAAiE,IAAzDiG,EAAyD5lB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAjD8F,MAAS8f,QAAU,EAAGrL,EAA2Bva,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAApB8F,MAASyU,OAC9DuM,EAAgB/d,EAAKC,MAAMrD,KAAKjF,OAAO,SAAA+T,GAAC,MAAe,YAAXA,EAAEiD,MAAsB5R,IAAO2O,EAAE7K,OAAOgc,UAAYA,IAAQ3lB,OAO9G,OANwB8mB,MAAMjhB,MAAS8f,MAAMA,GAAOrL,KAAKA,GAAMyM,eAAeC,KAAK,MAAMvmB,OAAO,SAACkD,EAAG1C,GAChG,OAAO4E,MAASyU,KAAKA,GAAMqL,MAAMA,GAAO9M,KAAK5X,EAAE,GAAGgmB,WAAa,IAChEjnB,OACiB8I,EAAKC,MAAMrD,KAAKjF,OAAO,SAAA+T,GACvC,OAAOA,EAAEvS,MAAUuS,EAAEvS,KAAK2H,MAAQ8V,IAAyB,IAAflL,EAAE1K,UAAgC,UAAX0K,EAAEiD,MAAoB5R,IAAO2O,EAAE7K,OAAOgc,UAAYA,IACrH3lB,OACkC6mB,KAG1CK,UAAY,WAA0D,IAAzDvB,EAAyD5lB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAjD8F,MAAS8f,QAAU,EAAGrL,EAA2Bva,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAApB8F,MAASyU,OAEjD6M,EAAethB,MAAS8f,MAAMA,EAAQ,GAAGrL,KAAKA,GAAMyM,cAC1D,GAAGD,MAAMM,QAAQte,EAAKC,MAAMwB,GAAGG,OAAO,CAClC,IAAMQ,EAAWpC,EAAKC,MAAMwB,GAAGG,MAAM3J,IAAI,SAAA8J,GACrC,IAAMwc,EAAkBxc,EAAE0X,iBAAmB,EACvCqE,EAAiB9d,EAAK8d,eAAe/b,EAAEjB,IAAK+b,EAAOrL,GAWnDgN,EAVOR,MAAMK,GAAcH,KAAK,MACjCjmB,IAAI,SAAC4C,EAAG1C,GAAJ,OAAU4E,MAAS0hB,SAAStmB,EAAG,QAAQiF,OAAO,gBAClDnF,IAAI,SAAAyT,GAAC,OAAI3J,EAAEF,UAAUlK,OAAO,SAAAqK,GAAC,OAAKjF,IAAOiF,EAAEnB,OAAO0B,OAAOxF,IAAO2O,GAAI,SAAW3O,IAAOiF,EAAEnB,OAAO0B,OAAOvC,EAAKC,MAAMye,MAAO,WACpH5B,KAAK,SAAChlB,EAAGC,GACN,OAAGgF,IAAOjF,EAAE+I,OAAO0L,SAASxP,IAAOhF,EAAE8I,SAAkB,EAC/C9D,IAAOhF,EAAE8I,OAAO0L,SAASxP,IAAOjF,EAAE+I,QAAiB,EAC9C,MAIH5I,IAAI,SAAC0J,EAAKxJ,GAC5B,IAAMwmB,EAAcX,MAAM5f,KAAKwgB,KAAKjd,EAAIzK,OAAS,IAAIgnB,KAAK,MAAMjmB,IAAI,SAAC4C,EAAGigB,GACpE,IAAMhjB,EAAIiF,IAAO4E,EAAK,EAAEmZ,GAAIja,OACtB9I,EAAI4J,EAAK,EAAEmZ,EAAG,GAAK/d,IAAO4E,EAAK,EAAEmZ,EAAG,GAAGja,YAAS1J,EAChD0nB,EAAI9mB,EAAIgF,IAAO+hB,SAAS/mB,EAAE0U,KAAK3U,IAAQA,EAAEyK,OAAOxF,MAAU,OAASA,IAAO+hB,SAAS/hB,MAAS0P,KAAK3U,IAAM,IACvG6T,EAAc,MAANkT,EAAYzgB,KAAKwf,MAAoB,IAAdiB,EAAEE,GAAG,UAAc,IAAM,IAC9D,MAAO,CACHnb,IAAK7B,EAAEjB,IAAM,IAAM3I,EAAI,IAAM2iB,EAC7B8B,QAAS9kB,EAAEsF,SACX4D,YAAWW,EAAK,EAAEmZ,GAAI9Z,UAAaW,EAAK,EAAEmZ,EAAG,KAAKnZ,EAAK,EAAEmZ,EAAG,GAAG9Z,UAC/Dge,OAAQjnB,EAAIA,EAAEqF,SAAW,IACzBuO,WAIFkS,EAAiBG,MAAMW,EAAYznB,OAAS,EAAIynB,EAAYznB,OAAS,EAAI,GAAGgnB,KAAK,MAAMjmB,IAAI,SAAC4C,EAAG1C,GACjG,IAAM8mB,EAAmBliB,IAAO4hB,EAAYxmB,GAAG6mB,QACzCE,EAAcniB,IAAO4hB,EAAYxmB,EAAE,GAAGykB,SAE5C,OADyBxe,KAAKwf,MAAsE,IAAhE7gB,IAAO+hB,SAASI,EAAYzS,KAAKwS,IAAmBF,GAAG,UAAc,MAE1GlnB,OAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,GAAG,GAErBonB,EAAaR,EAAY1mB,IAAI,SAAA4F,GAAC,OAAIA,EAAE8N,QAgB1C,OAfgBgT,EAAY,GAAK,CAC7B/a,IAAK+a,EAAY,GAAG/a,IACpBgZ,QAAS+B,EAAY,GAAG/B,QACxBoC,OAAQL,EAAY3mB,OAAO,GAAG,GAAGgnB,OACjChe,UAAU2d,EAAY1mB,IAAI,SAAAH,GAAC,OAAIA,EAAEkJ,WAAU5H,UAAS,GACpDuS,MAAQwT,EAAW/lB,SAAS,KAA+C,IAAxC+lB,EAAWtnB,OAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,GAAG,GACtEshB,QAAStX,EAAEzC,SACXuC,UAAWF,EACXyd,QAAS,CACL3e,OAAQT,EAAKC,MAAMwB,GAAGhB,OACtB4e,IAAKrf,EAAKC,MAAMwB,GAAG4d,IACnBC,IAAKtf,EAAKC,MAAMwB,GAAG6d,KAEvBzB,kBACA,KAIF0B,EAAkBnhB,KAAKwf,MAAgI,IAA1HY,EAAS7mB,OAAO,SAAAmjB,GAAC,OAAIA,EAAE9Z,WAAU/I,IAAI,SAAA6iB,GAAC,OAAIA,EAAEnP,QAAOhU,OAAO,SAAAqU,GAAC,MAAU,MAANA,QAAmB7U,IAAN6U,IAAiBnU,OAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,GAAG,IAAa,IAC/JynB,EAAW1B,EAAiBS,EAC5BkB,EAAkBrhB,KAAKwf,MAAO2B,GAAmBzB,EAAiBS,GAAoB,KAAS,IAC/FmB,EAAkBthB,KAAKwf,MAAqC,KAA9B4B,EAAWD,IAA2B,IACpEH,EAAU,CACZ3e,OAAQT,EAAKC,MAAMwB,GAAGke,YACtBN,IAAKrf,EAAKC,MAAMwB,GAAG4d,IACnBC,IAAKtf,EAAKC,MAAMwB,GAAG6d,KAEvB,OAAOjkB,OAAAwT,GAAA,EAAAxT,CAAA,GAAK0G,EAAZ,CAAeyc,WAAUe,kBAAiBG,kBAAiBD,kBAAiBlB,kBAAiBT,iBAAgBsB,cAGjHpf,EAAKsC,SAAS,CACVF,WACAwd,mBAAoB,GAAGpkB,OAAOsG,MAAM,GAAIM,EAASzK,OAAO,SAAAoK,GAAC,OAAIA,EAAEjB,MAAQ5H,IAAc4H,KAAQ5H,IAAcoK,UAAYtD,EAAKC,MAAMsD,aAAatL,IAAI,SAAA8J,GAAC,OAAIA,EAAEyc,YAAW7mB,OAAO,SAAAmjB,GAAC,OAAKkD,MAAMM,QAAQxD,KAAOA,EAAE9Z,iBAKrN6e,eAAiB,SAACC,EAAMC,GACpB/f,EAAKsC,SAAS,CAAE0d,UAAWF,EAAMG,WAAW,EAAMC,aAAcH,wFAvG7D1e,KAAKpB,MAAMwB,IACVJ,KAAK+c,UAAU/c,KAAKpB,MAAMye,MAAM7B,QAASxb,KAAKpB,MAAMye,MAAMlN,mDAI/ChP,EAAWC,GACvBD,EAAUf,KAAOJ,KAAKpB,MAAMwB,GAC3BJ,KAAK+c,UAAU/c,KAAKpB,MAAMye,MAAM7B,QAASxb,KAAKpB,MAAMye,MAAMlN,QAErDhP,EAAUkc,MAAMnc,OAAOlB,KAAKpB,MAAMye,MAAO,UAC9Crd,KAAKpB,MAAM5D,SAASQ,GAAQwE,KAAKpB,MAAMye,yCAiGvC,IAAAhd,EAAAL,KAAAkY,EACmClY,KAAKhC,MAApCme,EADJjE,EACIiE,aACF2C,GAFF5G,EACkBkE,aACF2C,KAAWD,aAC/B,OACIpd,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAD,CAAQlB,MAAO,CAACW,OAAO,UACnBpB,EAAAjL,EAAAkL,cAACiF,GAAD,CAAOpF,WAAWzK,KACd2K,EAAAjL,EAAAkL,cAAA,sBACAD,EAAAjL,EAAAkL,cAACmd,EAAD,CACIrX,YAAY,kBACZF,MAAOvH,KAAKpB,MAAMye,MAClB/V,SAAU,SAAA7L,GAEN4E,EAAKzB,MAAM5D,SAASF,EAAaW,KAErC0G,MAAO,CAAEqJ,aAAc,MAGvB9J,EAAAjL,EAAAkL,cAAA,WACID,EAAAjL,EAAAkL,cAAA,kDACAD,EAAAjL,EAAAkL,cAAC6P,GAAA,EAAD,CAAOrP,MAAO,CAAEqJ,aAAc,OAASiG,WAAYzR,KAAKhC,MAAMugB,mBAAoBS,OAAQ,CACtFC,UAAW,yCAEfC,MAAO,SAAArO,GAAG,MAAK,CACX7O,QAAS,kBAAM3B,EAAKme,eAAe3N,GAAK,MAE5CF,QAAS,CAAC,CACNzR,MAAO,UACP0R,UAAW,UACXrO,IAAK,WACP,CACErD,MAAO,SACP0R,UAAW,UACXrO,IAAK,MACLqH,OAAQ,SAAApQ,GAAC,OAAIkC,IAAOlC,GAAGuC,OAAO,gBAChC,CACEmD,MAAO,UACP0R,UAAW,UACXrO,IAAK,UACLqH,OAAQ,SAAApQ,GAAC,OAAIkC,IAAOlC,GAAGuC,OAAO,WAChC,CACEmD,MAAO,SACP0R,UAAW,SACXrO,IAAK,SACLqH,OAAQ,SAAApQ,GAAC,MAAkC,iBAA9BkC,IAAOlC,GAAGuC,OAAO,SAA8B,MAAQL,IAAOlC,GAAGuC,OAAO,WACvF,CACEmD,MAAO,QACP0R,UAAW,QACXrO,IAAK,SACN,CACCrD,MAAO,GACP0R,UAAW,WACXrO,IAAK,WACLqH,OAAQ,kBAAMlI,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,QAAX,kBAKtBjB,EAAAjL,EAAAkL,cAAC0U,GAAA,EAAD,CAAU8I,kBAAoBtnB,IAAcoK,SAAYjC,KAAKpB,MAAMsD,WAAcrK,IAAc4H,SAAM3J,GAEjGkK,KAAKhC,MAAM+C,UAAYf,KAAKhC,MAAM+C,SAASzK,OAAO,SAAAoK,GAC9C,OAAOL,EAAKrC,MAAM0L,SAASjK,MAAQiB,EAAEjB,KAAQY,EAAKrC,MAAM0L,SAASzH,UAAY5B,EAAKzB,MAAMsD,aAActL,IAAI,SAAC8J,EAAG5J,GAAJ,MAAU,CACpH4K,EAAAjL,EAAAkL,cAAC0U,GAAA,EAASG,MAAV,CAAgB4I,OAAQ1d,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEE,QAAS,OAAQK,eAAgB,gBAAiB2c,aAAc,SAClG3d,EAAAjL,EAAAkL,cAAA,YAAQjB,EAAEzC,UACVyD,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEgC,MAAO,UACjBzC,EAAAjL,EAAAkL,cAAC2d,GAAA,EAAD,CAAUC,QAAS7e,EAAE0d,oBAErB7b,IAAK7B,EAAEjB,KACXiC,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEE,QAAS,OAAQwY,SAAU,OAAQnY,eAAgB,iBAC7DhB,EAAAjL,EAAAkL,cAACqP,GAAA,EAAD,CAAW9R,MAAM,mBAAmBqI,MAAQxK,KAAKsT,MAAM3P,EAAEwd,gBAAiB,IAAM,KAAOnhB,KAAKwf,MAAO7b,EAAEwd,gBAAkB,EAAK,IAAM,MAClIxc,EAAAjL,EAAAkL,cAACqP,GAAA,EAAD,CACI9R,MAAK,SAAA/E,OAAWuG,EAAE2d,iBAAmB,EAAI,aAAe,SACxDmB,WAAY,CAAE7c,MAAOjC,EAAE2d,gBAAkB,EAAI,MAAQ,WACrD9W,MAAQ7G,EAAE2d,gBAAkB,EACxBthB,KAAKsT,MAAM3P,EAAE2d,gBAAiB,IAAM,KAAOthB,KAAKwf,MAAO7b,EAAE2d,gBAAkB,EAAK,IAAM,IACtFthB,KAAKsT,OAAO3P,EAAE2d,gBAAiB,IAAM,KAAOthB,KAAKwf,OAAQ7b,EAAE2d,gBAAkB,EAAK,IAAM,MAGhG3c,EAAAjL,EAAAkL,cAACqP,GAAA,EAAD,CAAW9R,MAAM,iCAA8BqI,MAAQ7G,EAAE+b,iBACzD/a,EAAAjL,EAAAkL,cAACqP,GAAA,EAAD,CAAW9R,MAAM,yBAAsBqI,MAAQ7G,EAAEwc,gBAAkB,OAEvExb,EAAAjL,EAAAkL,cAAA,MAAIQ,MAAO,CAAC0M,UAAW,KAAvB,wBACAnN,EAAAjL,EAAAkL,cAAC6P,GAAA,EAAD,CACIjP,IAAK,QAAQzL,EACb2a,WAAY,GAAGtX,OAAOsG,MAAM,GAAIC,EAAEyc,SAAS7mB,OAAO,SAAAmjB,GAAC,OAAIA,EAAE9Z,YACzDgR,QAAStQ,EAAKsQ,QACduO,MAAO,SAAArO,GAAG,MAAK,CACX7O,QAAS,kBAAM3B,EAAKme,eAAe3N,GAAK,SAG7CxQ,EAAKrC,MAAM0L,SAASjK,MAAQiB,EAAEjB,KAAQY,EAAKrC,MAAM0L,SAASzH,UAAY5B,EAAKzB,MAAMsD,aAChFR,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEE,QAAS,OAAQK,eAAgB,SAAUmM,UAAW,KAChEnN,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQzC,QAAS,kBAAM3B,EAAKY,SAAS,CAAEkb,cAAc,EAAMsD,UAAW/e,EAAEjB,QAAxE,4BAQ5BiC,EAAAjL,EAAAkL,cAAC+P,EAAA,EAAD,CACIC,QAASwK,EACTjd,MAAM,qBACNI,KAAMU,KAAK0f,oBACX9N,SAAU,WAAQvR,EAAKY,SAAS,CAAEkb,cAAc,KAChDha,MAAO,CAAE2E,SAAU,KACnB3C,MAAM,MACN0N,OAAQ,MAERnQ,EAAAjL,EAAAkL,cAACge,GAAD,CAAiB3H,QAAShY,KAAKhC,MAAMyhB,UAAW9E,YAAa,kBAAMta,EAAKY,SAAS,CAAEkb,cAAc,QAErGza,EAAAjL,EAAAkL,cAACie,GAAD,CACIjO,QAAS3R,KAAKhC,MAAM4gB,UACpBvD,YAAarb,KAAKhC,MAAM6gB,aACxB9C,GAAI,kBAAM1b,EAAKY,SAAS,CAAE2d,WAAW,KACrC3U,MAAOjK,KAAKhC,MAAM2gB,UAClBzc,WAAYlC,KAAKpB,MAAMsD,qBAxQpB+C,aAwRRC,4BAAcC,aATL,SAAAnH,GACpB,MAAO,CACHoC,GAAIpC,EAAMoC,GACVid,MAAOrf,EAAMqf,MACb9hB,KAAMyC,EAAMzC,KACZ2G,WAAYlE,EAAMkE,aAIGiD,CAAyB+W,KC1RhD2D,8MAEF7hB,MAAQ,CACJI,SAAS,EACTgB,OAAQvH,IAAcuH,QAAU,MAUpC6U,aAAe,SAAA7K,GAAkCA,EAA/B0W,UAA+B1W,EAApB2W,QAAoB,IAAX7M,EAAW9J,EAAX8J,KAC9B8M,EAAc,IAAIlL,SAEhBmL,EAAsB,eAAd/M,EAAK3b,MAAuC,cAAd2b,EAAK3b,KAC5C0oB,GACH9iB,IAAQ1D,MAAM,iDAEhB,IAAMymB,EAAShN,EAAKiN,KAAO,KAAO,KAAO,EACpCD,GACH/iB,IAAQ1D,MAAM,qDAGZwmB,GAASC,IACTF,EAAYjL,OAAO,QAAS7B,GAC5B8M,EAAYjL,OAAO,QAAS,UAC5BiL,EAAYjL,OAAO,QAASld,IAAc4H,KAC1CugB,EAAYjL,OAAO,MAAO,QAC1BiL,EAAYjL,OAAO,SAAU,qBAC7BpW,EAAKsC,SAAS,CAAE7C,SAAS,IACzBvE,EAAQ,UAAW,CACf0F,OAAQ,OACR7E,KAAMslB,IACP,GAAO5mB,KAAK,SAAAkC,GACXrF,QAAQC,IAAIoF,GACZqD,EAAKsC,SAAS,CAAE7C,SAAS,IACzBjB,IAAQyC,QAAQ,4CAChB,IAAI8J,EAAW7R,IACf6R,EAASxG,OAAS5H,EAAK,GACvBtE,OAAOC,aAAaiB,QAAQ,OAAQf,KAAKgB,UAAUuR,IACnD/K,EAAKC,MAAM5D,SAASI,QACrBF,MAAM,SAAA+B,GACL0B,EAAKsC,SAAS,CAAE7C,SAAS,IACzBnI,QAAQC,IAAI+G,GACZE,IAAQ1D,MAAM,gEAK1B2mB,WAAa,WACTvmB,EAAQ,UAAYhC,IAAc4H,IAAK,CACnCF,OAAQ,MACR7E,KAAM,CACF0E,OAAQT,EAAKX,MAAMoB,UAExBhG,KAAK,SAAAkC,GACJ,IAAIoO,EAAW7R,IACf6R,EAAStK,OAAST,EAAKX,MAAMoB,OAC7BpI,OAAOC,aAAaiB,QAAQ,OAAQf,KAAKgB,UAAUuR,IACnD/K,EAAKC,MAAM5D,SAASI,MACpB+B,IAAQyC,QAAQ,0CACjB1E,MAAM,SAAA+B,GACLE,IAAQ1D,MAAM,oDACdxD,QAAQC,IAAI+G,yFA1DhBhH,QAAQC,IAAI8J,KAAKpB,MAAMO,mDAGvBlJ,QAAQC,IAAI8J,KAAKpB,MAAMO,uCA2DnB,IAAAkB,EAAAL,KAEEqgB,EACF3e,EAAAjL,EAAAkL,cAAA,WACED,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAMyI,KAAKhC,MAAMI,QAAU,UAAY,SAC7CsD,EAAAjL,EAAAkL,cAAA,OAAKuC,UAAU,mBAAf,WAGAoc,EAAWtgB,KAAKpB,MAAMO,MAAQa,KAAKpB,MAAMO,KAAK+D,QAAUtI,6BAAgCoF,KAAKpB,MAAMO,KAAK+D,OAAOpJ,IACrH,OACI4H,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAD,CAAQlB,MAAO,CAACW,OAAO,UACnBpB,EAAAjL,EAAAkL,cAACiF,GAAD,CAAOpF,WAAWzK,KACd2K,EAAAjL,EAAAkL,cAAA,oBACAD,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEgC,MAAO,QAASqH,aAAc,KACxC9J,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWyX,MAAM,SAASnX,MAAO,CAAEY,YAAa,KAC5CrB,EAAAjL,EAAAkL,cAACiU,GAAA,EAAD,CACIxN,KAAK,SACLmY,gBAAiB,CAAEvgB,KAAKpB,MAAMO,MAAQa,KAAKpB,MAAMO,KAAK+D,QACtDsd,SAAS,eACTtc,UAAU,kBACVuc,gBAAgB,EAChBnZ,SAAUtH,KAAK0gB,aACfC,cAAe3gB,KAAKiU,cAGnBqM,EAAW5e,EAAAjL,EAAAkL,cAAA,OAAK5B,IAAKugB,EAAUne,MAAO,CAAEuJ,UAAW,IAAK5E,SAAU,IAAK3D,UAAW,SAAWN,IAAI,WAAcwd,IAIxH3e,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWyX,MAAM,SAASnX,MAAO,CAAEY,YAAa,KAC5CrB,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CAAO9P,KAAK,OAAOgQ,MAAQvH,KAAKhC,MAAMoB,OAASkI,SAAU,SAAA9N,GAAC,OAAI6G,EAAKY,SAAS,CAAE7B,OAAQ5F,EAAE6K,OAAOkD,YAGnG7F,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQzC,QAAShC,KAAKogB,YAAtB,qBAvGHnb,aAmHNE,gBAJS,SAAAnH,GAAK,MAAK,CAC9BmB,KAAMnB,EAAMmB,OAGDgG,CAAyB0a,ICnHlCe,GAAQ,CACVrgB,MAAO,IAGLsgB,8MAEF7iB,MAAQ,CACJ8iB,cAAe,GACfC,iBAAkB,GAClBC,YAAaJ,MAGjBK,gBAAkB,SAACvgB,EAAGwgB,GAClB,GAAGA,EAAQ,CACP,IAAMppB,EAAO6G,EAAKC,MAAMmC,SAAS8J,KAAK,SAAA/S,GAAI,OAAIA,EAAKmG,WAAayC,IAChE/B,EAAKsC,SAAS,CACV+f,YAAYhnB,OAAAwT,GAAA,EAAAxT,CAAA,GACL2E,EAAKX,MAAMgjB,YADP,CAEPzgB,MAAK,GAAApG,OAAAH,OAAAmV,GAAA,EAAAnV,CAAM2E,EAAKX,MAAMgjB,YAAYzgB,OAA7B,CAAoCzI,aAKjD6G,EAAKsC,SAAS,CAAE6f,cAAc9mB,OAAAmV,GAAA,EAAAnV,CAAK,IAAImnB,IAAJ,GAAAhnB,OAAAH,OAAAmV,GAAA,EAAAnV,CAAY2E,EAAKX,MAAM8iB,eAAvB,CAAsCpgB,WAIjF0gB,mBAAqB,SAACC,EAAGH,GAClBA,EACCviB,EAAKsC,SAAS,CACV+f,YAAYhnB,OAAAwT,GAAA,EAAAxT,CAAA,GACL2E,EAAKX,MAAMgjB,YADP,CAEPzgB,MAAO5B,EAAKX,MAAMgjB,YAAYzgB,MAAMjK,OAAO,SAAAgrB,GAAC,OAAIA,EAAE7hB,MAAQ4hB,EAAE5hB,UAKpEd,EAAKsC,SAAS,CAAE6f,cAAeniB,EAAKX,MAAM8iB,cAAcxqB,OAAO,SAAAirB,GAAG,OAAIF,IAAME,SAIpFC,WAAa,WACT,GAAmC,KAAhC7iB,EAAKX,MAAM+iB,iBAA0B5jB,IAAQyS,QAAQ,wDACnD,GAAuC,IAApCjR,EAAKX,MAAM8iB,cAAcjrB,OAAesH,IAAQyS,QAAQ,8CAC5D,CACA,IAAMrP,EAAQ5B,EAAKX,MAAM8iB,cAAclqB,IAAI,SAAA2qB,GAAG,OAAI5iB,EAAKC,MAAMmC,SAAS8J,KAAK,SAAAnK,GAAC,OAAIA,EAAEzC,WAAasjB,MAAM3qB,IAAI,SAAA8J,GAAC,OAAIA,EAAEjB,MAC1GxE,EAASpD,IAAcoD,OAE7BpB,EAAQ,UAAW,CACf0F,OAAQ,OACR7E,KAAM,CACF0E,OAAQT,EAAKX,MAAM+iB,iBACnBxgB,QACAtF,YAEL7B,KAAK,SAAAkC,GACJrF,QAAQC,IAAIoF,GACZ6B,IAAQyC,QAAQ,qCAChBjB,EAAKC,MAAM5D,SAASmB,QACrBjB,MAAM,SAAA+B,GACLhH,QAAQC,IAAI+G,GACZE,IAAQ1D,MAAM,8DAK1BgoB,YAAc,SAAAC,GACV7nB,EAAQ,WAAa6nB,EAAMjiB,IAAK,CAAEF,OAAQ,WACrCnG,KAAK,SAAAkC,GAAUqD,EAAKC,MAAM5D,SAASmB,MAAgBgB,IAAQyC,QAAQ,wCACnE1E,MAAM,SAAA+B,GAAShH,QAAQC,IAAI+G,GAAME,IAAQ1D,MAAM,yDAGxDkoB,YAAc,WAAM,IAAAC,EACejjB,EAAKX,MAAMgjB,YAAlC5hB,EADQwiB,EACRxiB,OAAQmB,EADAqhB,EACArhB,MAChB1G,EAAQ,WAFQ+nB,EACOniB,IACG,CACtBF,OAAQ,MACR7E,KAAM,CAAE0E,SAAQmB,WACjBnH,KAAK,SAAAkC,GACJqD,EAAKC,MAAM5D,SAASmB,MACpBgB,IAAQyC,QAAQ,sCAChBjB,EAAKsC,SAAS,CAAE4gB,cAAc,EAAOb,YAAaJ,OACnD1lB,MAAM,SAAA+B,GAAShH,QAAQC,IAAI+G,GAAME,IAAQ1D,MAAM,kIAG9C,IAAA4G,EAAAL,KACEwW,EAAQsL,KAAStL,MACvB,OACI9U,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAD,CAAQlB,MAAO,CAACW,OAAO,UACnBpB,EAAAjL,EAAAkL,cAACiF,GAAD,CAAOpF,WAAWzK,KACd2K,EAAAjL,EAAAkL,cAAA,oBACAD,EAAAjL,EAAAkL,cAAC6P,GAAA,EAAD,CAAOrP,MAAO,CAAEyC,cAAe,IAAMqS,OAAO,MAAMxF,WAAYzR,KAAKpB,MAAMmjB,OAAQpR,QAAS,CACtF,CACIzR,MAAO,QACP0R,UAAW,SACXrO,IAAK,UAET,CACIrD,MAAO,WACP0R,UAAW,QACXhH,OAAQ,SAACoY,GAAD,OAAQA,EAAGprB,IAAI,SAAA8J,GAAC,OAAIgB,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAKhC,IAAK,IAAM7B,EAAEjB,KAAMiB,EAAEzC,cAE1D,CACI2L,OAAQ,SAAAiH,GACJ,OACInP,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEE,QAAS,OAAQO,OAAQ,IACnClB,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,OAAOX,QAAS,kBAAM3B,EAAKY,SAAS,CAAE4gB,cAAc,EAAMb,YAAanQ,MAAQnP,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,UACrGmK,EAAAjL,EAAAkL,cAACmN,GAAA,EAAD,CACI5P,MAAK,0CAAA/E,OAAyC0W,EAAIzR,OAA7C,KACL2P,UAAW,kBAAM1O,EAAKohB,YAAY5Q,IAClCoR,OAAO,UACPC,WAAW,YAEXxgB,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,WAAUjB,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,mBAOxDmK,EAAAjL,EAAAkL,cAAC0U,GAAA,EAAD,KACI3U,EAAAjL,EAAAkL,cAAC6U,EAAD,CAAOjU,IAAI,aAAa6c,OAAO,2BAC3B1d,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWyX,MAAM,oBACb5X,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CAAO9P,KAAK,OAAOgQ,MAAOvH,KAAKhC,MAAM+iB,iBAAkBzZ,SAAU,SAAAkH,GAAG,OAAInO,EAAKY,SAAS,CAAE8f,iBAAkBvS,EAAInK,OAAOkD,YAEzH7F,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWyX,MAAM,eACb5X,EAAAjL,EAAAkL,cAAC8U,GAAA,EAAD,CAAQtU,MAAO,CAAEgC,MAAO,QAAUmD,SAAU,SAAAkH,GAAG,OAAInO,EAAK4gB,gBAAgBzS,GAAK,KAErExO,KAAKpB,MAAMmC,SAASnK,IAAI,SAAC8J,EAAG5J,GAAJ,OACpB4K,EAAAjL,EAAAkL,cAAC8U,GAAA,EAAOO,OAAR,CAAezU,IAAK,OAASzL,EAAIyQ,MAAO7G,EAAEzC,UAAYyC,EAAEzC,cAKxEyD,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEyC,cAAe,KAEnB5E,KAAKhC,MAAM8iB,cAAclqB,IAAI,SAACyqB,EAAGvqB,GAAJ,OACzB4K,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK4d,UAAQ,EAAC5f,IAAK8e,EAAGe,QAAS,kBAAM/hB,EAAK+gB,mBAAmBC,KAAKA,MAIhF3f,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQzC,QAAShC,KAAKwhB,YAAtB,wBAIZ9f,EAAAjL,EAAAkL,cAAC+P,EAAA,EAAD,CACIC,QAAS3R,KAAKhC,MAAM6jB,aACpBhQ,OAAQ,KACRD,SAAU,kBAAMvR,EAAKY,SAAS,CAAE4gB,cAAc,EAAOb,YAAaJ,OAElElf,EAAAjL,EAAAkL,cAAA,0BACAD,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWyX,MAAM,oBACb5X,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CAAO9P,KAAK,OAAOgQ,MAAOvH,KAAKhC,MAAMgjB,YAAY5hB,OAAQkI,SAAU,SAAAkH,GAAG,OAAInO,EAAKY,SAAS,CAAE+f,YAAYhnB,OAAAwT,GAAA,EAAAxT,CAAA,GAAKqG,EAAKrC,MAAMgjB,YAAjB,CAA8B5hB,OAAQoP,EAAInK,OAAOkD,cAE1J7F,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWyX,MAAM,eACb5X,EAAAjL,EAAAkL,cAAC8U,GAAA,EAAD,CAAQtU,MAAO,CAAEgC,MAAO,QAAUmD,SAAU,SAAAkH,GAAG,OAAInO,EAAK4gB,gBAAgBzS,GAAK,KAErExO,KAAKpB,MAAMmC,SAASnK,IAAI,SAAC8J,EAAG5J,GAAJ,OACpB4K,EAAAjL,EAAAkL,cAAC8U,GAAA,EAAOO,OAAR,CAAezU,IAAK,OAASzL,EAAIyQ,MAAO7G,EAAEzC,UAAYyC,EAAEzC,cAKxEyD,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEyC,cAAe,KAEjB5E,KAAKhC,MAAMgjB,YAAYzgB,MAAM3J,IAAI,SAACyqB,EAAGvqB,GAAJ,OAC7B4K,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK4d,UAAQ,EAAC5f,IAAK8e,EAAE5hB,IAAK2iB,QAAS,kBAAM/hB,EAAK+gB,mBAAmBC,GAAG,KAAQA,EAAEpjB,aAI9FyD,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEE,QAAS,OAAQK,eAAgB,aAC3ChB,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQtC,MAAO,CAAEkgB,YAAa,IAAMrgB,QAAShC,KAAK2hB,aAAlD,gBACAjgB,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQlN,KAAK,SAASyK,QAAS,kBAAM3B,EAAKY,SAAS,CAAE4gB,cAAc,EAAOb,YAAaJ,OAAvF,sBAvKH3b,aAoLNE,gBALS,SAAAnH,GAAK,MAAK,CAC9B+C,SAAU/C,EAAM+C,SAChBghB,OAAQ/jB,EAAM+jB,SAGH5c,CAAyB0b,IC1LlCyB,8MACFtkB,MAAQ,CACJukB,WAAY,GACZC,WAAY,CAAC,CAACC,GAAK,KACnBC,WAAY,GACZC,aAAc,MAGlBC,mBAAqB,SAACzhB,GACdA,EAAU0hB,WAAalkB,EAAKC,MAAMikB,UAAalkB,EAAKC,MAAMikB,WAC1D5sB,QAAQC,IAAIyI,EAAKC,MAAMikB,UACvBlkB,EAAKsC,SAAS,CACVshB,WAAY5jB,EAAKC,MAAMikB,SAASzjB,OAChCojB,WAAYxoB,OAAOK,KAAKsE,EAAKC,MAAMikB,SAAS5Y,OAAOrT,IAAI,SAAC0D,EAAGxD,GAAJ,OAAAkD,OAAAyQ,GAAA,EAAAzQ,CAAA,GAAaM,EAAIqE,EAAKC,MAAMikB,SAAS5Y,MAAM3P,MAClGooB,WAAY/jB,EAAKC,MAAMikB,SAASd,OAAOnrB,IAAI,SAAA0qB,GAAC,OAAIA,EAAEliB,SAClDujB,aAAchkB,EAAKC,MAAMikB,SAAStiB,MAAM3J,IAAI,SAAA8J,GAAC,OAAIA,EAAEzC,iBAK/D6kB,eAAiB,SAACC,EAAKjsB,EAAGksB,GACtB,IAAMC,EAAYtkB,EAAKX,MAAMwkB,WAAW1rB,GAClCosB,EAAUlpB,OAAOK,KAAK4oB,GAAW,GACjCE,EAAYnpB,OAAO8L,OAAOmd,GAAW,GAE/B,QAATD,GACCC,EAAUF,GAAOI,SACVF,EAAUC,IAEJ,UAATF,IACJC,EAAUjpB,OAAOK,KAAK4oB,GAAW,IAAMF,GAG3C,IAAMP,EAAa7jB,EAAKX,MAAMwkB,WAAW5rB,IAAI,SAAC4F,EAAGid,GAC7C,OAAG3iB,IAAM2iB,EAAWwJ,EACPzmB,IAGjBmC,EAAKsC,SAAS,CAAEuhB,kBAGpBY,cAAgB,WAEZ,IAAM7iB,EAAQ5B,EAAKX,MAAM2kB,aAAa/rB,IAAI,SAAAysB,GAAE,OAAI1kB,EAAKC,MAAMmC,SAAS8J,KAAK,SAAAnK,GAAC,OAAIA,EAAEzC,WAAaolB,IAAI5jB,MAC3FsiB,EAASpjB,EAAKX,MAAM0kB,WAAW9rB,IAAI,SAAA0sB,GAAE,OAAI3kB,EAAKC,MAAMmjB,OAAOlX,KAAK,SAAAyW,GAAC,OAAIA,EAAEliB,SAAWkkB,IAAI7jB,MACtFwK,EAAQtL,EAAKX,MAAMwkB,WAAWhsB,OAAO,SAACC,EAAGC,GAAJ,OAAAsD,OAAAwT,GAAA,EAAAxT,CAAA,GAAevD,EAAMC,IAAK,IAElEiI,EAAKX,MAAMwkB,WAAW3sB,OAASmE,OAAOK,KAAK4P,GAAOpU,OACjDsH,IAAQyS,QAAQ,yDAGM,IAAlBmS,EAAOlsB,QAAiC,IAAjB0K,EAAM1K,QAC7BsH,IAAQuB,KAAK,0FAEjB7E,EAAQ,QAAU8E,EAAKC,MAAMikB,SAASpjB,IAAK,CACvCF,OAAQ,MACR7E,KAAM,CACF0E,OAAQT,EAAKX,MAAMukB,WACnBtY,QACA1J,QACAwhB,YAEL3oB,KAAK,SAAAkC,GACJ6B,IAAQyC,QAAQ,wCAChBjB,EAAKC,MAAM5D,SAASoB,MACpBuC,EAAKsC,SAAS,CACVshB,WAAY,GACZC,WAAY,CAAC,CAACC,GAAK,KACnBC,WAAY,GACZC,aAAc,KAElBhkB,EAAKC,MAAMmd,OACZ7gB,MAAM,SAAA+B,GACLhH,QAAQC,IAAI+G,GACZE,IAAQ1D,MAAM,uIAKlB,IAAA4G,EAAAL,KACE6B,EAAOqG,KAAKrG,KACZmV,EAAS4D,KAAO5D,OACtB,OACItV,EAAAjL,EAAAkL,cAAC+P,EAAA,EAAD,CACIC,QAAS3R,KAAKpB,MAAM+S,QACpBE,OAAQ,KACRD,SAAU5R,KAAKpB,MAAMmd,GACrB5X,MAAM,QAENzC,EAAAjL,EAAAkL,cAAA,UAAM3B,KAAKpB,MAAMikB,SAASzjB,QAC1BsC,EAAAjL,EAAAkL,cAAA,WACID,EAAAjL,EAAAkL,cAACE,EAAD,CAAMyX,MAAM,wBACR5X,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CAAO9P,KAAK,OAAOgQ,MAAQvH,KAAKhC,MAAMukB,WAAajb,SAAU,SAAAkH,GAAG,OAAInO,EAAKY,SAAS,CAAEshB,WAAY/T,EAAInK,OAAOkD,YAE/G7F,EAAAjL,EAAAkL,cAACE,EAAD,CAAMyX,MAAM,UAEJtZ,KAAKhC,MAAMwkB,WAAW5rB,IAAI,SAAC4F,EAAG1F,GAC1B,OACI4K,EAAAjL,EAAAkL,cAAA,OAAKY,IAAK,QAAUzL,EAAGqL,MAAO,CAAEE,QAAS,SACrCX,EAAAjL,EAAAkL,cAACE,EAAD,CAAMyX,MAAM,gBAAgBnX,MAAO,CAAEmB,KAAM,EAAG+b,aAAc,QACxD3d,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CAAO9P,KAAK,OAAOgQ,MAAQvN,OAAOK,KAAKmC,GAAG,GAAK8K,SAAU,SAAAkH,GAAG,OAAInO,EAAKyiB,eAAetU,EAAInK,OAAOkD,MAAOzQ,EAAG,WAE7G4K,EAAAjL,EAAAkL,cAACE,EAAD,CAAMyX,MAAM,QAAQnX,MAAO,CAAEmB,KAAM,EAAG+b,aAAc,QAChD3d,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CAAO9P,KAAK,OAAOgQ,MAAQvN,OAAO8L,OAAOtJ,GAAG,GAAK8K,SAAU,SAAAkH,GAAG,OAAInO,EAAKyiB,eAAetU,EAAInK,OAAOkD,MAAOzQ,EAAG,aAE7GuJ,EAAKrC,MAAMwkB,WAAW3sB,OAAS,GAC7B6L,EAAAjL,EAAAkL,cAACE,EAAD,CAAMyX,MAAM,IAAIiK,OAAO,GACnB7hB,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,UAAUX,QAAS,kBAAM3B,EAAKY,SAAS,CAAEuhB,WAAYniB,EAAKrC,MAAMwkB,WAAWlsB,OAAO,SAACkD,EAAGgqB,GAAJ,OAAWA,IAAO1sB,QAC3G4K,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,gBAQvCmK,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAKvC,QAAS,kBAAM3B,EAAKY,SAAS,CAAEuhB,WAAU,GAAAroB,OAAAH,OAAAmV,GAAA,EAAAnV,CAAMqG,EAAKrC,MAAMwkB,YAAjB,CAA6B,CAACC,GAAK,UAAQ/gB,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,SAApG,iBAEJmK,EAAAjL,EAAAkL,cAAC4P,GAAD,CAAkBnF,KAAMpM,KAAKpB,MAAMwN,MAC/B1K,EAAAjL,EAAAkL,cAACE,EAAD,CAAMyX,MAAM,oBACR5X,EAAAjL,EAAAkL,cAAC8U,GAAA,EAAD,CAAQtU,MAAO,CAAEgC,MAAO,QAAUmD,SAAU,SAAAkH,GAAG,OAAInO,EAAKY,SAAS,CAAEyhB,WAAW1oB,OAAAmV,GAAA,EAAAnV,CAAK,IAAImnB,IAAJ,GAAAhnB,OAAAH,OAAAmV,GAAA,EAAAnV,CAAYqG,EAAKrC,MAAM0kB,YAAvB,CAAmClU,UAE9GxO,KAAKpB,MAAMmjB,OAAOnrB,IAAI,SAAC0qB,EAAGxqB,GAAJ,OAClB4K,EAAAjL,EAAAkL,cAACqV,EAAD,CAAQzU,IAAK,QAAUzL,EAAIyQ,MAAO+Z,EAAEliB,QAAUkiB,EAAEliB,WAI5DsC,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEyC,cAAe,KAErB5E,KAAKhC,MAAM0kB,WAAW9rB,IAAI,SAAC0qB,EAAGxqB,GAAJ,OACtB4K,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK4d,UAAQ,EAAC5f,IAAK,OAAS+e,EAAGc,QAAS,kBAAM/hB,EAAKY,SAAS,CAAEyhB,WAAYriB,EAAKrC,MAAM0kB,WAAWpsB,OAAO,SAAAqU,GAAC,OAAIA,IAAM2W,QAAQA,OAK1I5f,EAAAjL,EAAAkL,cAACE,EAAD,CAAMyX,MAAM,sBACR5X,EAAAjL,EAAAkL,cAAC8U,GAAA,EAAD,CAAQtU,MAAO,CAAEgC,MAAO,QAAUmD,SAAU,SAAAkH,GAAG,OAAInO,EAAKY,SAAS,CAAE0hB,aAAa3oB,OAAAmV,GAAA,EAAAnV,CAAK,IAAImnB,IAAJ,GAAAhnB,OAAAH,OAAAmV,GAAA,EAAAnV,CAAYqG,EAAKrC,MAAM2kB,cAAvB,CAAqCnU,UAElHxO,KAAKpB,MAAMmC,SAASnK,IAAI,SAAC8J,EAAG5J,GAAJ,OACpB4K,EAAAjL,EAAAkL,cAACqV,EAAD,CAAQzU,IAAK,OAASzL,EAAIyQ,MAAO7G,EAAEzC,UAAYyC,EAAEzC,aAI7DyD,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEyC,cAAe,KAErB5E,KAAKhC,MAAM2kB,aAAa/rB,IAAI,SAAC8J,EAAG5J,GAAJ,OACxB4K,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK4d,UAAQ,EAAC5f,IAAK,OAAS7B,EAAG0hB,QAAS,kBAAM/hB,EAAKY,SAAS,CAAE0hB,aAActiB,EAAKrC,MAAM2kB,aAAarsB,OAAO,SAAAmtB,GAAC,OAAIA,IAAM/iB,QAAQA,QAMlJgB,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQzC,QAAShC,KAAKojB,eAAtB,2BAxJSne,aA+JdE,kBAAUmd,IC5JnBoB,8MAEF1lB,MAAQ,CACJ2lB,YAAa,GACbC,YAAa,CAAC,CAAC3lB,SAAa,IAAK,CAACgI,SAAY,KAC9C4d,YAAa,GACbC,cAAe,GACfC,SAAS,EACTlB,SAAU,CACN5Y,MAAO,OAIf+Z,QAAU,KAaVC,SAAW,WASP,OARoBtlB,EAAKC,MAAMslB,IAAI5tB,OAAO,SAAAoR,GACtC,IAAMyc,EAAgBzc,EAAGqa,OAAOnrB,IAAI,SAAA0qB,GAAC,OAAIA,EAAE7hB,MACrC2kB,EAAkBzlB,EAAKC,MAAMO,KAAK4iB,OAAOnrB,IAAI,SAAA0qB,GAAC,OAAIA,EAAE7hB,MACpD4kB,EAAUF,EAAc7tB,OAAO,SAAAguB,GAAE,OAAIF,EAAgBrsB,SAASusB,KAAKzuB,OAAS,EAC5E0uB,EAAY7c,EAAGnH,MAAM3J,IAAI,SAAA8J,GAAC,OAAIA,EAAEjB,MAAK1H,SAAS4G,EAAKC,MAAMO,KAAKM,KAC9D+kB,EAAY7lB,EAAKC,MAAMO,KAAK8C,UAAYtD,EAAKC,MAAMsD,WACzD,OAAOmiB,GAAWE,GAAaC,OAKvC1B,eAAiB,SAACC,EAAKjsB,EAAGksB,GACtB,IAAMC,EAAYtkB,EAAKX,MAAM4lB,YAAY9sB,GACnCosB,EAAUlpB,OAAOK,KAAK4oB,GAAW,GACjCE,EAAYnpB,OAAO8L,OAAOmd,GAAW,GAE/B,QAATD,GACCC,EAAUF,GAAOI,SACVF,EAAUC,IAEJ,UAATF,IACJC,EAAUjpB,OAAOK,KAAK4oB,GAAW,IAAMF,GAG3C,IAAMa,EAAcjlB,EAAKX,MAAM4lB,YAAYhtB,IAAI,SAAC4F,EAAGid,GAC/C,OAAG3iB,IAAM2iB,EAAWwJ,EACPzmB,IAGjBmC,EAAKsC,SAAS,CAAE2iB,mBAGpBa,aAAe,WAEX,IAAMlkB,EAAQ5B,EAAKX,MAAM8lB,cAAcltB,IAAI,SAAA8tB,GAAE,OAAI/lB,EAAKC,MAAMmC,SAAS8J,KAAK,SAAAnK,GAAC,OAAIA,EAAEzC,WAAaymB,IAAIjlB,MAC5FsiB,EAASpjB,EAAKX,MAAM6lB,YAAYjtB,IAAI,SAAA+tB,GAAE,OAAIhmB,EAAKC,MAAMmjB,OAAOlX,KAAK,SAAAyW,GAAC,OAAIA,EAAEliB,SAAWulB,IAAIllB,MACvFwK,EAAQtL,EAAKX,MAAM4lB,YAAYptB,OAAO,SAACC,EAAGC,GAAJ,OAAAsD,OAAAwT,GAAA,EAAAxT,CAAA,GAAevD,EAAMC,IAAK,IAEnEiI,EAAKX,MAAM4lB,YAAY/tB,OAASmE,OAAOK,KAAK4P,GAAOpU,OAClDsH,IAAQyS,QAAQ,yDAGM,IAAlBmS,EAAOlsB,QAAiC,IAAjB0K,EAAM1K,QAC7BsH,IAAQuB,KAAK,gGAEjB7E,EAAQ,OAAQ,CACZ0F,OAAQ,OACR7E,KAAM,CACF0E,OAAQT,EAAKX,MAAM2lB,YACnB1Z,QACA1J,QACAwhB,SACA9mB,OAAQpD,IAAcoD,UAE3B7B,KAAK,SAAAkC,GACJ6B,IAAQyC,QAAQ,yCAChBjB,EAAKC,MAAM5D,SAASoB,MACpBuC,EAAKsC,SAAS,CACV0iB,YAAa,GACbC,YAAa,CAAC,CAAC3lB,SAAa,IAAK,CAACgI,SAAY,KAC9C4d,YAAa,GACbC,cAAe,OAEpB5oB,MAAM,SAAA+B,GACLhH,QAAQC,IAAI+G,GACZE,IAAQ1D,MAAM,+DAK1BmrB,cAAgB,SAAAld,GACZzR,QAAQC,IAAIwR,GACZ7N,EAAQ,QAAU6N,EAAGjI,IAAK,CAAEF,OAAQ,WAC/BnG,KAAK,SAAAkC,GACF6B,IAAQyC,QAAQ,0CAChBjB,EAAKC,MAAM5D,SAASoB,QACrBlB,MAAM,SAAA+B,GACLhH,QAAQC,IAAI+G,GACZE,IAAQ1D,MAAM,8IAzFnBuG,KAAKpB,MAAMslB,IAAIruB,OAAS,GAAKmK,KAAKpB,MAAMO,MACvCa,KAAKiB,SAAS,CAAEijB,IAAKlkB,KAAKikB,wDAGf9iB,GACXA,EAAU+iB,MAAQlkB,KAAKpB,MAAMslB,KAAOlkB,KAAKpB,MAAMsD,aAAef,EAAUe,aAAelC,KAAKpB,MAAMO,MAClGa,KAAKiB,SAAS,CAAEijB,IAAKlkB,KAAKikB,8CAuF1B,IAAA5jB,EAAAL,KACEwW,EAAQsL,KAAStL,MACjB3U,EAAOqG,KAAKrG,KACZmV,EAAS4D,KAAO5D,OACtB,OACItV,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAD,CAAQlB,MAAO,CAACW,OAAO,UACnBpB,EAAAjL,EAAAkL,cAACiF,GAAD,CAAOpF,WAAWzK,KACd2K,EAAAjL,EAAAkL,cAAA,4BACAD,EAAAjL,EAAAkL,cAAC6P,GAAA,EAAD,CACIrP,MAAO,CAAEyC,cAAe,IACxBqS,OAAO,MACPxF,WAAYzR,KAAKhC,MAAMkmB,IACvBhF,MAAO,SAAArO,GAAG,MAAK,CACX7O,QAAS,kBAAM3B,EAAKY,SAAS,CAAE8iB,SAAS,EAAMlB,SAAUhS,OAE5DF,QAAS,CACL,CACIzR,MAAO,UACP0R,UAAW,SACXrO,IAAK,UAET,CACIrD,MAAO,aACP0K,OAAQ,SAAAiH,GAAG,MAAI,GAAA1W,OAAAH,OAAAmV,GAAA,EAAAnV,CAAI6W,EAAIkR,QAAR/nB,OAAAmV,GAAA,EAAAnV,CAAmB6W,EAAItQ,QAAO3J,IAAI,SAAC4C,EAAG1C,GAAJ,OAAU4K,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAKhC,IAAK/I,EAAEiG,IAAM,IAAM3I,EAAGqL,MAAO,CAAES,OAAQ,QAAUpJ,EAAEyE,SAAWzE,EAAEyE,SAAWzE,EAAE4F,WAC7ImD,IAAK,aAET,CACIrD,MAAO,GACPqD,IAAK,cACLqH,OAAQ,SAAAiZ,GAAQ,OACZnhB,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEE,QAAS,OAAQK,eAAgB,aAC3ChB,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEE,QAAS,SACnBX,EAAAjL,EAAAkL,cAAC4P,GAAD,CAAkBnF,KAAM/L,EAAKzB,MAAMsD,YAC/BR,EAAAjL,EAAAkL,cAACmN,GAAA,EAAD,CAAY5P,MAAM,mDACd6P,UAAW,kBAAM1O,EAAKukB,cAAc/B,IACpCZ,OAAO,UACPC,WAAW,YAEXxgB,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,UAAUX,QAAS,kBAAM3B,EAAKY,SAAS,CAAE4hB,eAAanhB,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,WAA5E,eAGRmK,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,OAAOX,QAAS,kBAAM3B,EAAKY,SAAS,CAAE4jB,gBAAgB,EAAMhC,eAAanhB,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,SAA/F,YAEJmK,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,OAAOX,QAAS,kBAAM3B,EAAKY,SAAS,CAAE8iB,SAAS,EAAMlB,eAAanhB,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,WAAxF,oBAOpBmK,EAAAjL,EAAAkL,cAAC0U,GAAA,EAAD,KACI3U,EAAAjL,EAAAkL,cAAC6U,EAAD,CAAOjU,IAAI,QAAQ6c,OAAO,iBACtB1d,EAAAjL,EAAAkL,cAACE,EAAD,CAAMyX,MAAM,wBACR5X,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CAAO9P,KAAK,OAAOgQ,MAAQvH,KAAKhC,MAAM2lB,YAAcrc,SAAU,SAAAkH,GAAG,OAAInO,EAAKY,SAAS,CAAE0iB,YAAanV,EAAInK,OAAOkD,YAEjH7F,EAAAjL,EAAAkL,cAACE,EAAD,CAAMyX,MAAM,UAEJtZ,KAAKhC,MAAM4lB,YAAYhtB,IAAI,SAAC4F,EAAG1F,GAC3B,OACI4K,EAAAjL,EAAAkL,cAAA,OAAKY,IAAK,QAAUzL,EAAGqL,MAAO,CAAEE,QAAS,SACrCX,EAAAjL,EAAAkL,cAACE,EAAD,CAAMyX,MAAM,gBAAgBnX,MAAO,CAAEmB,KAAM,EAAG+b,aAAc,QACxD3d,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CAAO9P,KAAK,OAAOgQ,MAAQvN,OAAOK,KAAKmC,GAAG,GAAK8K,SAAU,SAAAkH,GAAG,OAAInO,EAAKyiB,eAAetU,EAAInK,OAAOkD,MAAOzQ,EAAG,WAE7G4K,EAAAjL,EAAAkL,cAACE,EAAD,CAAMyX,MAAM,QAAQnX,MAAO,CAAEmB,KAAM,EAAG+b,aAAc,QAChD3d,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CAAO9P,KAAK,OAAOgQ,MAAQvN,OAAO8L,OAAOtJ,GAAG,GAAK8K,SAAU,SAAAkH,GAAG,OAAInO,EAAKyiB,eAAetU,EAAInK,OAAOkD,MAAOzQ,EAAG,aAE7GuJ,EAAKrC,MAAM4lB,YAAY/tB,OAAS,GAC9B6L,EAAAjL,EAAAkL,cAACE,EAAD,CAAMyX,MAAM,IAAIiK,OAAO,GACnB7hB,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,UAAUX,QAAS,kBAAM3B,EAAKY,SAAS,CAAE2iB,YAAavjB,EAAKrC,MAAM4lB,YAAYttB,OAAO,SAACkD,EAAGgqB,GAAJ,OAAWA,IAAO1sB,QAC7G4K,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,gBAQvCmK,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAKvC,QAAS,kBAAM3B,EAAKY,SAAS,CAAE2iB,YAAW,GAAAzpB,OAAAH,OAAAmV,GAAA,EAAAnV,CAAMqG,EAAKrC,MAAM4lB,aAAjB,CAA8B,CAACnB,GAAK,UAAQ/gB,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,SAAtG,iBAEAmK,EAAAjL,EAAAkL,cAACE,EAAD,CAAMyX,MAAM,oBACR5X,EAAAjL,EAAAkL,cAAC8U,GAAA,EAAD,CAAQtU,MAAO,CAAEgC,MAAO,QAAUmD,SAAU,SAAAkH,GAAG,OAAInO,EAAKY,SAAS,CAAE4iB,YAAY7pB,OAAAmV,GAAA,EAAAnV,CAAK,IAAImnB,IAAJ,GAAAhnB,OAAAH,OAAAmV,GAAA,EAAAnV,CAAYqG,EAAKrC,MAAM6lB,aAAvB,CAAoCrV,UAEhHxO,KAAKpB,MAAMmjB,OAAOnrB,IAAI,SAAC0qB,EAAGxqB,GAAJ,OAClB4K,EAAAjL,EAAAkL,cAACqV,EAAD,CAAQzU,IAAK,QAAUzL,EAAIyQ,MAAO+Z,EAAEliB,QAAUkiB,EAAEliB,WAI5DsC,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEyC,cAAe,KAErB5E,KAAKhC,MAAM6lB,YAAYjtB,IAAI,SAAC0qB,EAAGxqB,GAAJ,OACvB4K,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK4d,UAAQ,EAAC5f,IAAK,OAAS+e,EAAGc,QAAS,kBAAM/hB,EAAKY,SAAS,CAAE4iB,YAAaxjB,EAAKrC,MAAM6lB,YAAYvtB,OAAO,SAAAqU,GAAC,OAAIA,IAAM2W,QAAQA,OAK5I5f,EAAAjL,EAAAkL,cAACE,EAAD,CAAMyX,MAAM,sBACR5X,EAAAjL,EAAAkL,cAAC8U,GAAA,EAAD,CAAQtU,MAAO,CAAEgC,MAAO,QAAUmD,SAAU,SAAAkH,GAAG,OAAInO,EAAKY,SAAS,CAAE6iB,cAAc9pB,OAAAmV,GAAA,EAAAnV,CAAK,IAAImnB,IAAJ,GAAAhnB,OAAAH,OAAAmV,GAAA,EAAAnV,CAAYqG,EAAKrC,MAAM8lB,eAAvB,CAAsCtV,UAEpHxO,KAAKpB,MAAMmC,SAASnK,IAAI,SAAC8J,EAAG5J,GAAJ,OACpB4K,EAAAjL,EAAAkL,cAACqV,EAAD,CAAQzU,IAAK,OAASzL,EAAIyQ,MAAO7G,EAAEzC,UAAYyC,EAAEzC,aAI7DyD,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEyC,cAAe,KAErB5E,KAAKhC,MAAM8lB,cAAcltB,IAAI,SAAC8J,EAAG5J,GAAJ,OACzB4K,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK4d,UAAQ,EAAC5f,IAAK,OAAS7B,EAAG0hB,QAAS,kBAAM/hB,EAAKY,SAAS,CAAE6iB,cAAezjB,EAAKrC,MAAM8lB,cAAcxtB,OAAO,SAAAmtB,GAAC,OAAIA,IAAM/iB,QAAQA,OAKpJgB,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQzC,QAAShC,KAAKykB,cAAtB,sBAIZ/iB,EAAAjL,EAAAkL,cAAC+P,EAAA,EAAD,CACIC,QAAS3R,KAAKhC,MAAM+lB,QACpBlS,OAAQ,KACRD,SAAU,kBAAMvR,EAAKY,SAAS,CAAE8iB,SAAS,MAEzCriB,EAAAjL,EAAAkL,cAAA,UAAM3B,KAAKhC,MAAM6kB,SAASzjB,QAC1BsC,EAAAjL,EAAAkL,cAAC6P,GAAA,EAAD,CACIsT,YAAY,EACZ9I,YAAY,EACZmE,KAAK,QACLlJ,OAAO,QACPxF,WAAYzX,OAAOK,KAAK2F,KAAKhC,MAAM6kB,SAAS5Y,OAAOrT,IAAI,SAAC0D,EAAGxD,GAAJ,IAAAsS,EAAA,OAAAA,EAAA,GAAApP,OAAAyQ,GAAA,EAAAzQ,CAAAoP,EAAa9O,EAAI+F,EAAKrC,MAAM6kB,SAAS5Y,MAAM3P,IAA3CN,OAAAyQ,GAAA,EAAAzQ,CAAAoP,EAAA,QAAsDtS,GAAtDsS,IACvDuH,QAAS,CACL,CACIzR,MAAO,gBACPqD,IAAK,SAAAsO,GAAG,OAAI7W,OAAOK,KAAKwW,GAAK,IAC7BjH,OAAQ,SAAAiH,GAAG,OAAI7W,OAAOK,KAAKwW,GAAK,KAEpC,CACI3R,MAAO,QACP0K,OAAQ,SAAAiH,GAAG,OAAI7W,OAAO8L,OAAO+K,GAAK,KAEtC,CACI3R,MAAO,GACP0K,OAAQ,SAAAiH,GAAG,OAAInP,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEE,QAAS,OAAQK,eAAgB,aAAchB,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQzC,QAAS,WACzF+iB,UAAUC,UAAUC,UAAUjrB,OAAO8L,OAAO+K,GAAK,IACjD1T,IAAQuB,KAAK,+CAF2D,iBAQ5FgD,EAAAjL,EAAAkL,cAACujB,GAAD,CACIvT,QAAS3R,KAAKhC,MAAM6mB,eACpB9I,GAAI,kBAAM1b,EAAKY,SAAS,CAAE4jB,gBAAgB,KAC1ChC,SAAU7iB,KAAKhC,MAAM6kB,SACrBd,OAAQ/hB,KAAKpB,MAAMmjB,OACnBhhB,SAAUf,KAAKpB,MAAMmC,SACrBqL,KAAMpM,KAAKpB,MAAMsD,qBAtQb+C,aAqRTE,gBARS,SAAAnH,GAAK,MAAK,CAC9B+jB,OAAQ/jB,EAAM+jB,OACdhhB,SAAU/C,EAAM+C,SAChBmjB,IAAKlmB,EAAMkmB,IACX/kB,KAAMnB,EAAMmB,KACZ+C,WAAYlE,EAAMkE,aAGPiD,CAAyBue,ICvRlCyB,8MAEFnnB,MAAQ,KAERonB,WAAa,WACLzmB,EAAKX,MAAMoB,OACNT,EAAKX,MAAMwB,MAEhB3F,EAAQ,QAAS,CACb0F,OAAQ,OACR7E,KAAM,CACF8E,MAAO9D,IAAOI,IAAI6C,EAAKX,MAAMwB,OAAOzD,SACpCuR,KAAM,UACNlO,OAAQT,EAAKX,MAAMoB,OACnBnE,OAAQpD,IAAcoD,OACtB0E,UAAU,KAEfvG,KAAK,SAAAkC,GAEJ6B,IAAQyC,QAAQ,mDAChBjB,EAAKC,MAAM5D,SAASK,MACpBsD,EAAKsC,SAAS,CAAE7B,YAAQtJ,EAAW0J,WAAO1J,MAC3CoF,MAAM,SAAA+B,GACLhH,QAAQC,IAAI+G,GACZE,IAAQ1D,MAAM,uEAlBM0D,IAAQyS,QAAQ,uCADpBzS,IAAQyS,QAAQ,0CAwB5CyV,cAAgB,SAAA/kB,GACZzG,EAAQ,SAAWyG,EAAIb,IAAK,CAAEF,OAAQ,WACjCnG,KAAK,SAAAkC,GAEF6B,IAAQyC,QAAQ,0CAChBjB,EAAKC,MAAM5D,SAASK,QACrBH,MAAM,SAAA+B,GACLhH,QAAQC,IAAI+G,GACZE,IAAQ1D,MAAM,kIAIlB,IAAA4G,EAAAL,KACJ,OACI0B,EAAAjL,EAAAkL,cAAA,WACID,EAAAjL,EAAAkL,cAAA,+BACAD,EAAAjL,EAAAkL,cAAC6P,GAAA,EAAD,CAAOC,WAAYzR,KAAKpB,MAAMrD,KAAKjF,OAAO,SAAA+T,GAAC,MAAe,YAAXA,EAAEiD,OAAqB2J,OAAO,MAAMtG,QAAS,CACxF,CACIzR,MAAO,SACP0R,UAAW,SACXrO,IAAK,UACN,CACCrD,MAAO,SACPqD,IAAK,QACLqH,OAAQ,SAAAtJ,GAAG,OAAI5E,IAAO4E,EAAId,OAAOzD,OAAO,gBACzC,CACCwG,IAAK,UACLqH,OAAQ,SAAAtJ,GAAG,OACPoB,EAAAjL,EAAAkL,cAAA,OAAKY,IAAKjC,EAAIb,IAAK0C,MAAO,CAAEE,QAAS,OAAQK,eAAgB,aACzDhB,EAAAjL,EAAAkL,cAACmN,GAAA,EAAD,CACI5P,MAAK,+DACL6P,UAAW,kBAAM1O,EAAKglB,cAAc/kB,IACpC2D,KAAMvC,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,UAAU4K,MAAO,CAAEQ,MAAO,UAE3CjB,EAAAjL,EAAAkL,cAAC4C,EAAA,EAAD,CAAK5B,MAAM,UAAUJ,IAAG,GAAApI,OAAKmG,EAAIb,IAAT,SAAoBiC,EAAAjL,EAAAkL,cAACsC,EAAA,EAAD,CAAM1M,KAAK,WAAvD,kBAOpBmK,EAAAjL,EAAAkL,cAAA,MAAIQ,MAAO,CAAEmjB,UAAW,KAAxB,qBACA5jB,EAAAjL,EAAAkL,cAAA,OAAKQ,MAAO,CAAEE,QAAS,OAAQwY,SAAU,SACrCnZ,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWyX,MAAM,SAASnX,MAAO,CAAEY,YAAa,KAC5CrB,EAAAjL,EAAAkL,cAAC0F,GAAA,EAAD,CAAO9P,KAAK,OAAO+P,SAAU,SAAA9N,GAAC,OAAI6G,EAAKY,SAAS,CAAE7B,OAAQ5F,EAAE6K,OAAOkD,YAEvE7F,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWyX,MAAM,QAAQnX,MAAO,CAAEY,YAAa,KAC3CrB,EAAAjL,EAAAkL,cAAC4X,GAAA,EAAD,CAAYjS,SAAU,SAAA9H,GAAK,OAAIa,EAAKY,SAAS,CAAEzB,WAAU2C,MAAO,CAAEgC,MAAO,QAE7EzC,EAAAjL,EAAAkL,cAACoF,GAAA,EAAKlF,KAAN,CAAWyX,MAAM,IAAIiK,OAAO,GACxB7hB,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,CAAQzC,QAAShC,KAAKolB,YAAtB,uBA/EKngB,aA6FdE,gBANS,SAAAnH,GACpB,MAAO,CACHzC,KAAMyC,EAAMzC,OAIL4J,CAAyBggB,ICnEzBI,8MAxBXvnB,MAAQ,2EAGJ,IAAMwY,EAAQsL,KAAStL,MACvB,OACI9U,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAD,CAAQlB,MAAO,CAACW,OAAO,UACnBpB,EAAAjL,EAAAkL,cAACiF,GAAD,CAAOpF,WAAWzK,KACd2K,EAAAjL,EAAAkL,cAAA,8BACAD,EAAAjL,EAAAkL,cAAC0U,GAAA,EAAD,KACI3U,EAAAjL,EAAAkL,cAAC6U,EAAD,CAAO4I,OAAO,uBACV1d,EAAAjL,EAAAkL,cAACge,GAAD,QAGRje,EAAAjL,EAAAkL,cAAC0U,GAAA,EAAD,KACI3U,EAAAjL,EAAAkL,cAAC6U,EAAD,CAAO4I,OAAO,sBACV1d,EAAAjL,EAAAkL,cAAC6jB,GAAD,iBAjBAvgB,uBCK5B,IAcewgB,GAdKC,2BAAgB,CAChC3kB,SCVW,WAA6C,IAApB/C,EAAoBpI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,GAAIkgB,EAAQlgB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACxD,OAAQggB,EAAOve,MACX,KAAKa,EAED,OADAnC,QAAQC,IAAI4f,GACLA,EAAOlc,QAClB,QACI,OAAOoE,IDKfzC,KEXW,WAAyC,IAApByC,EAAoBpI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,GAAIkgB,EAAQlgB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACpD,OAAQggB,EAAOve,MACX,KAAKc,EAED,OADApC,QAAQC,IAAI4f,GACLA,EAAOlc,QAClB,QACI,OAAOoE,IFMfoC,GGZW,WAAuC,IAApBpC,EAAoBpI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,GAAIkgB,EAAQlgB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAClD,OAAQggB,EAAOve,MACX,KAAKe,EAED,OADArC,QAAQC,IAAI4f,GACLA,EAAOlc,QAClB,QACI,OAAOoE,IHOf+U,WIbW,WAA+C,IAApB/U,EAAoBpI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,GAAIkgB,EAAQlgB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC1D,OAAQggB,EAAOve,MACX,KAAKgB,EAED,OADAtC,QAAQC,IAAI4f,GACLA,EAAOlc,QAClB,QACI,OAAOoE,IJQfkE,WKdW,WAAkD,IAAvBlE,EAAuBpI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAARkgB,EAAQlgB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC7D,OAAQggB,EAAOve,MACX,KAAKqB,EACD,OAAOkd,EAAOlc,QAClB,QACI,OAAOoE,ILUf+jB,OMfW,WAA2C,IAApB/jB,EAAoBpI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,GAAIkgB,EAAQlgB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACtD,OAAQggB,EAAOve,MACX,KAAKiB,EAED,OADAvC,QAAQC,IAAI4f,GACLA,EAAOlc,QAClB,QACI,OAAOoE,INUfkmB,IOhBW,WAAwC,IAApBlmB,EAAoBpI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,GAAIkgB,EAAQlgB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACnD,OAAQggB,EAAOve,MACX,KAAKkB,EAED,OADAxC,QAAQC,IAAI4f,GACLA,EAAOlc,QAClB,QACI,OAAOoE,IPWfmB,KQjBW,WAAyC,IAApBnB,EAAoBpI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,GAAIkgB,EAAQlgB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACpD,OAAQggB,EAAOve,MACX,KAAKmB,EAED,OADAzC,QAAQC,IAAI4f,GACLA,EAAOlc,QAClB,QACI,OAAOoE,IRYfqf,MSjBW,WAAgD,IAA1Brf,EAA0BpI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAlB8F,MAAUoa,EAAQlgB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC3D,OAAQggB,EAAOve,MACX,KAAKsB,EACD,OAAOid,EAAOlc,QAClB,QACI,OAAOoE,ITafqN,SUnBW,WAA6C,IAApBrN,EAAoBpI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,GAAIkgB,EAAQlgB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACxD,OAAQggB,EAAOve,MACX,KAAKoB,EAED,OADA1C,QAAQC,IAAI4f,GACLA,EAAOlc,QAAQ0B,KAAK+P,SAC/B,QACI,OAAOrN,IVcfqD,WWpBW,WAA6D,IAAlCrD,EAAkCpI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA1B,CAAE6D,OAAO,GAASqc,EAAQlgB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACxE,OAAQggB,EAAOve,MACX,KAAKuB,EACD,OAAOgd,EAAOlc,QAClB,QACI,OAAOoE,0BCEJ2nB,GANDC,uBACVH,GACA,GACAI,+BAAoBC,2BAAgBC,2BCGlCC,GAAc,SAAA5c,GAAA,IAAGa,EAAHb,EAAGa,MAAOxO,EAAV2N,EAAU3N,IAAV,OAChBiG,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,KACIvkB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9F,KAAK,KAAKhe,MAAO+jB,GAAOC,MAC1BzkB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,kBACAvkB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO,CAAE0M,UAAW,GAAIrD,aAAc,KAA5C,iCAAkF/P,GAAOa,GAAab,EAAIM,OAAO,eACjH2F,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOjc,OAChBvI,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOE,WAChB1kB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOG,WAChB3kB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOI,YAApB,mBACA5kB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOK,YAActc,EAAM7K,OAAS,IAAM6K,EAAMuc,YAEjE9kB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOG,WAChB3kB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOI,YAApB,YACA5kB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOK,YAActc,EAAMwc,MAE5C/kB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOG,WAChB3kB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOI,YAApB,gCACA5kB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOK,YAActc,EAAMyc,QAGhDhlB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOE,WAChB1kB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOG,WAChB3kB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOI,YAApB,gBACA5kB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOK,YAActc,EAAM8T,QAAQO,cAEpD5c,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOG,WAChB3kB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOI,YAApB,YACA5kB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOK,YAActc,EAAM8T,QAAQC,MAEpDtc,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOG,WAChB3kB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOI,YAApB,YACA5kB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOK,YAActc,EAAM8T,QAAQE,QAI5Dvc,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOS,OAChBjlB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAKnI,OAAAwT,GAAA,EAAAxT,CAAA,GAAMksB,GAAOzH,KAASyH,GAAOU,aACpCllB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAKnI,OAAAwT,GAAA,EAAAxT,CAAA,GAAMksB,GAAOW,MAAUX,GAAOY,kBAAzC,UACAplB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAKnI,OAAAwT,GAAA,EAAAxT,CAAA,GAAMksB,GAAOW,MAAUX,GAAOY,kBAAzC,mBACAplB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAKnI,OAAAwT,GAAA,EAAAxT,CAAA,GAAMksB,GAAOW,MAAUX,GAAOY,kBAAzC,kBACAplB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAKnI,OAAAwT,GAAA,EAAAxT,CAAA,GAAMksB,GAAOW,MAAUX,GAAOY,kBAAzC,sBACAplB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAKnI,OAAAwT,GAAA,EAAAxT,CAAA,GAAMksB,GAAOW,MAAUX,GAAOY,kBAAzC,UAGA,GAAG3sB,OAAOsG,MAAM,GAAIwJ,EAAMkT,SAAS7mB,OAAO,SAAAmjB,GAAC,OAAIA,EAAE9Z,YAAW/I,IAAI,SAAC0J,EAAKxJ,GAAN,OAC5D4K,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAKnI,OAAAwT,GAAA,EAAAxT,CAAA,GAAMksB,GAAOzH,KAAb,CAAmBjc,gBAAiB1L,EAAE,EAAI,QAAU,SAASyL,IAAKjC,EAAIiC,KAC7Eb,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOW,OAASnrB,IAAO4E,EAAIib,SAASxf,OAAO,eACxD2F,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOW,OAASnrB,IAAO4E,EAAIib,SAASxf,OAAO,UACxD2F,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOW,OAAwB,MAAfvmB,EAAIqd,OAAiBjiB,IAAO4E,EAAIqd,QAAQ5hB,OAAO,SAAW,OACvF2F,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOW,OAASlqB,GAAU2D,EAAIkc,eAAgB,GAA3D,KACA9a,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAKnI,OAAAwT,GAAA,EAAAxT,CAAA,GAAMksB,GAAOW,MAAUX,GAAOa,gBAAkBpqB,GAAU2D,EAAIgK,MAAO,GAAhF,SAMhB5I,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOc,KAChBtlB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAO1mB,OAApB,KAA8B9D,MAASK,OAAO,MAA9C,KACA2F,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOe,SAChBvlB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOgB,UAApB,wBACAxlB,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAM9jB,MAAO+jB,GAAOgB,UAApB,4CAMdC,8MAEFnpB,MAAQ,CACJ+C,SAAU,GACV2I,SAAU7R,OAkBd4kB,eAAiB,SAAClH,GAAiE,IAAzDiG,EAAyD5lB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAjD8F,MAAS8f,QAAU,EAAGrL,EAA2Bva,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAApB8F,MAASyU,OAC9DuM,EAAgB/d,EAAKC,MAAMrD,KAAKjF,OAAO,SAAA+T,GAAC,MAAe,YAAXA,EAAEiD,MAAsB5R,IAAO2O,EAAE7K,OAAOgc,UAAYA,IAAQ3lB,OAO9G,OANwB8mB,MAAMjhB,MAAS8f,MAAMA,GAAOrL,KAAKA,GAAMyM,eAAeC,KAAK,MAAMvmB,OAAO,SAACkD,EAAG1C,GAChG,OAAO4E,MAASyU,KAAKA,GAAMqL,MAAMA,GAAO9M,KAAK5X,EAAE,GAAGgmB,WAAa,IAChEjnB,OACiB8I,EAAKC,MAAMrD,KAAKjF,OAAO,SAAA+T,GACvC,OAAOA,EAAEvS,MAAUuS,EAAEvS,KAAK2H,MAAQ8V,IAAyB,IAAflL,EAAE1K,UAAqBjE,IAAO2O,EAAE7K,OAAOgc,UAAYA,IAC/F3lB,OACkC6mB,KAG1CK,UAAY,WAA0D,IAAzDvB,EAAyD5lB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAjD8F,MAAS8f,QAAU,EAAGrL,EAA2Bva,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAApB8F,MAASyU,OAEjD6M,EAAethB,MAAS8f,MAAMA,EAAQ,GAAGrL,KAAKA,GAAMyM,cAC1D,GAAGD,MAAMM,QAAQte,EAAKC,MAAMwB,GAAGG,OAAO,CAClC,IAAMQ,EAAWpC,EAAKC,MAAMwB,GAAGG,MAAM3J,IAAI,SAAA8J,GACrC,IAAMwc,EAAkBxc,EAAE0X,iBAAmB,EACvCqE,EAAiB9d,EAAK8d,eAAe/b,EAAEjB,IAAK+b,EAAOrL,GAWnDgN,EAVOR,MAAMK,GAAcH,KAAK,MACjCjmB,IAAI,SAAC4C,EAAG1C,GAAJ,OAAU4E,MAAS0hB,SAAStmB,EAAG,QAAQiF,OAAO,gBAClDnF,IAAI,SAAAyT,GAAC,OAAI3J,EAAEF,UAAUlK,OAAO,SAAAqK,GAAC,OAAKjF,IAAOiF,EAAEnB,OAAO0B,OAAOxF,IAAO2O,GAAI,SAAW3O,IAAOiF,EAAEnB,OAAO0B,OAAOvC,EAAKC,MAAMye,MAAO,WACpH5B,KAAK,SAAChlB,EAAGC,GACN,OAAGgF,IAAOjF,EAAE+I,OAAO0L,SAASxP,IAAOhF,EAAE8I,SAAkB,EAC/C9D,IAAOhF,EAAE8I,OAAO0L,SAASxP,IAAOjF,EAAE+I,QAAiB,EAC9C,MAIH5I,IAAI,SAAC0J,EAAKxJ,GAC5B,IAAMwmB,EAAcX,MAAM5f,KAAKwgB,KAAKjd,EAAIzK,OAAS,IAAIgnB,KAAK,MAAMjmB,IAAI,SAAC4C,EAAGigB,GACpE,IAAMhjB,EAAIiF,IAAO4E,EAAK,EAAEmZ,GAAIja,OACtB9I,EAAI4J,EAAK,EAAEmZ,EAAG,GAAK/d,IAAO4E,EAAK,EAAEmZ,EAAG,GAAGja,YAAS1J,EAChD0nB,EAAI9mB,EAAIgF,IAAO+hB,SAAS/mB,EAAE0U,KAAK3U,IAAQA,EAAEyK,OAAOxF,MAAU,OAASA,IAAO+hB,SAAS/hB,MAAS0P,KAAK3U,IAAM,IACvG6T,EAAc,MAANkT,EAAYzgB,KAAKwf,MAAoB,IAAdiB,EAAEE,GAAG,UAAc,IAAM,IAC9D,MAAO,CACHnb,IAAK7B,EAAEjB,IAAM,IAAM3I,EAAI,IAAM2iB,EAC7B8B,QAAS9kB,EAAEsF,SACX4D,YAAWW,EAAK,EAAEmZ,GAAI9Z,UAAaW,EAAK,EAAEmZ,EAAG,KAAKnZ,EAAK,EAAEmZ,EAAG,GAAG9Z,UAC/Dge,OAAQjnB,EAAIA,EAAEqF,SAAW,IACzBuO,WAIFkS,EAAiBG,MAAMW,EAAYznB,OAAS,EAAIynB,EAAYznB,OAAS,EAAI,GAAGgnB,KAAK,MAAMjmB,IAAI,SAAC4C,EAAG1C,GACjG,IAAM8mB,EAAmBliB,IAAO4hB,EAAYxmB,GAAG6mB,QACzCE,EAAcniB,IAAO4hB,EAAYxmB,EAAE,GAAGykB,SAE5C,OADyBxe,KAAKwf,MAAsE,IAAhE7gB,IAAO+hB,SAASI,EAAYzS,KAAKwS,IAAmBF,GAAG,UAAc,MAE1GlnB,OAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,GAAG,GAErBonB,EAAaR,EAAY1mB,IAAI,SAAA4F,GAAC,OAAIA,EAAE8N,QAW1C,OAVgBgT,EAAY,GAAK,CAC7B/a,IAAK+a,EAAY,GAAG/a,IACpBgZ,QAAS+B,EAAY,GAAG/B,QACxBoC,OAAQL,EAAY3mB,OAAO,GAAG,GAAGgnB,OACjChe,UAAU2d,EAAY1mB,IAAI,SAAAH,GAAC,OAAIA,EAAEkJ,WAAU5H,UAAS,GACpDuS,MAAQwT,EAAW/lB,SAAS,KAA+C,IAAxC+lB,EAAWtnB,OAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,GAAG,GACtEshB,QAAStX,EAAEzC,SACXuC,UAAWF,EACXkc,kBACA,KAIF0B,EAAkBnhB,KAAKwf,MAAgI,IAA1HY,EAAS7mB,OAAO,SAAAmjB,GAAC,OAAIA,EAAE9Z,WAAU/I,IAAI,SAAA6iB,GAAC,OAAIA,EAAEnP,QAAOhU,OAAO,SAAAqU,GAAC,MAAU,MAANA,QAAmB7U,IAAN6U,IAAiBnU,OAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,GAAG,IAAa,IAC/JynB,EAAW1B,EAAiBS,EAC5BkB,EAAkBrhB,KAAKwf,MAAO2B,GAAmBzB,EAAiBS,GAAoB,KAAS,IAC/FmB,EAAkBthB,KAAKwf,MAAqC,KAA9B4B,EAAWD,IAA2B,IACpEH,EAAU,CACZO,YAAa3f,EAAKC,MAAMwB,GAAGke,YAC3BN,IAAKrf,EAAKC,MAAMwB,GAAG4d,IACnBC,IAAKtf,EAAKC,MAAMwB,GAAG6d,KAEvB,OAAOjkB,OAAAwT,GAAA,EAAAxT,CAAA,GAAK0G,EAAZ,CAAeyc,WAAUe,kBAAiBG,kBAAiBD,kBAAiBlB,kBAAiBT,iBAAgBsB,cAGjHpf,EAAKsC,SAAS,CACVF,kGA3FLf,KAAKpB,MAAMwB,IAAMJ,KAAKpB,MAAMwB,GAAGG,OAC9BP,KAAK+c,UAAU/c,KAAKpB,MAAMye,MAAM7B,QAASxb,KAAKpB,MAAMye,MAAMlN,mDAI/ChP,EAAWC,GACvBD,EAAUf,KAAOJ,KAAKpB,MAAMwB,GAC3BJ,KAAK+c,UAAU/c,KAAKpB,MAAMye,MAAM7B,QAASxb,KAAKpB,MAAMye,MAAMlN,QAErDhP,EAAUkc,MAAMnc,OAAOlB,KAAKpB,MAAMye,MAAO,UAC9Crd,KAAKpB,MAAM5D,SAASQ,GAAQwE,KAAKpB,MAAMye,yCAsFvC,IAAAhd,EAAAL,KACE8e,EAAcC,KAAWD,YAC/B,OACIpd,EAAAjL,EAAAkL,cAAC0B,EAAA,EAAD,CAAQlB,MAAO,CAACW,OAAO,UACnBpB,EAAAjL,EAAAkL,cAACiF,GAAD,CAAOpF,WAAWzK,KACd2K,EAAAjL,EAAAkL,cAAA,sBACAD,EAAAjL,EAAAkL,cAACmd,EAAD,CACIrX,YAAY,kBACZF,MAAOvH,KAAKpB,MAAMye,MAClB/V,SAAU,SAAA7L,GACN4E,EAAKzB,MAAM5D,SAASF,EAAaW,KAErC0G,MAAO,CAAEqJ,aAAc,MAEvB9J,EAAAjL,EAAAkL,cAACylB,GAAA,EAAD,CAAM3V,WAAYzR,KAAKhC,MAAM+C,SAAUsmB,WAAY,SAAA3mB,GAAC,OAChDgB,EAAAjL,EAAAkL,cAACylB,GAAA,EAAKvlB,KAAN,KACIH,EAAAjL,EAAAkL,cAAA,QAAMQ,MAAO,CAAEY,YAAa,KAAQrC,EAAEzC,UACtCyD,EAAAjL,EAAAkL,cAAC8C,EAAA,EAAD,KACI/C,EAAAjL,EAAAkL,cAACskB,GAAA,EAAD,CAAiBqB,SAAU5lB,EAAAjL,EAAAkL,cAAC4lB,GAAD,CAAatd,MAAOvJ,EAAGjF,IAAK4E,EAAKzB,MAAMye,QAAWmK,SAAQ,eAAArtB,OAAiBuG,EAAEtB,OAAnB,KAAAjF,OAA6BuG,EAAE8lB,UAA/B,OAAArsB,OAA8CuB,IAAO2E,EAAKzB,MAAMye,OAAOthB,OAAO,UAA9E,iBAChF,SAAA0rB,KAAGC,KAAHD,EAAS3tB,IAAT,IAAcsE,EAAdqpB,EAAcrpB,QAAdqpB,EAAuBhuB,MAAvB,OAAoC2E,EAAU,wBAA0B,4BA3HvF6G,aAyIpBihB,GAASyB,KAAWxf,OAAO,CAC7Bge,KAAM,CACF9jB,QAAS,OACTI,WAAY,SACZiC,QAAS,IAEbiiB,MAAO,CACHtkB,QAAS,OACTC,cAAe,SACfslB,kBAAmB,OACnBC,kBAAmB,GAEvBpJ,KAAM,CACFpc,QAAS,OACTC,cAAe,MACf6B,MAAO,QAEX0iB,MAAO,CACHxkB,QAAS,OACT8B,MAAO,MACPzB,eAAgB,SAChBD,WAAY,SACZqlB,SAAU,OACVC,gBAAiB,OACjBC,gBAAiB,EACjBtjB,QAAS,GAEbqiB,cAAe,CACXkB,iBAAkB,OAClBC,iBAAkB,GAEtBtB,WAAY,CACR3a,WAAY,OACZzJ,gBAAiB,QACjBG,MAAO,SAEXmkB,gBAAiB,CACbiB,gBAAiB,QACjBE,iBAAkB,SAEtBhe,MAAO,CACH5H,QAAS,OACTC,cAAe,MACfI,eAAgB,gBAChB8I,aAAc,IAElB4a,UAAW,CACP/jB,QAAS,OACT8B,MAAO,OAEXkiB,UAAW,CACPhkB,QAAS,OACTC,cAAe,OAEnBgkB,WAAY,CACRwB,SAAU,OACV/kB,YAAa,OAEjBwjB,WAAY,CACRuB,SAAU,QAEdd,IAAK,CACD3kB,QAAS,OACTwM,UAAW,GACX1K,MAAO,OACPke,YAAa,GACbhD,aAAc,IAElB7f,MAAO,CACHsoB,SAAU,OACVtc,aAAc,GAElByb,QAAS,CACL5kB,QAAS,OACTC,cAAe,MACfI,eAAgB,iBAEpBwkB,SAAU,CACNY,SAAU,UAYH5iB,4BAAcC,aATL,SAAAnH,GACpB,MAAO,CACHoC,GAAIpC,EAAMoC,GACVid,MAAOrf,EAAMqf,MACb9hB,KAAMyC,EAAMzC,KACZ2G,WAAYlE,EAAMkE,aAIGiD,CAAyBgiB,KCjRtDzrB,IAAOsjB,OAAO,MAEd,IAAM/e,GAASkoB,KAAGhjB,QAAQvK,6BAA+B,CACvDwtB,WAAY,CAAE,eA8DDC,IA3DWC,gMAetB,IAAM5e,EAAW7R,IACb6R,GAAYA,EAASzO,SACvB0qB,GAAM3qB,SAASI,MACfuqB,GAAM3qB,SAASD,MACf4qB,GAAM3qB,SAASK,MACfsqB,GAAM3qB,SAASQ,MACfmqB,GAAM3qB,SAASqB,MACfspB,GAAM3qB,SAASkB,MACfypB,GAAM3qB,SAASmB,MACfwpB,GAAM3qB,SAASoB,wCAIjB,OACEsF,EAAAjL,EAAAkL,cAACvB,GAAA,EAAD,CAAUulB,MAAOA,IACfjkB,EAAAjL,EAAAkL,cAAC4mB,GAAA,EAAD,CAAgBvJ,OAAQwJ,MACtB9mB,EAAAjL,EAAAkL,cAAC8mB,GAAA,eAAD,CAAgBxoB,OAAQA,IACtByB,EAAAjL,EAAAkL,cAAC2mB,EAAA,EAAD,KACE5mB,EAAAjL,EAAAkL,cAAC+mB,EAAA,EAAD,KACEhnB,EAAAjL,EAAAkL,cAACgI,EAAA,EAAD,CAAOgf,OAAK,EAACC,KAAK,SAASvf,UAAWhE,KACtC3D,EAAAjL,EAAAkL,cAACgI,EAAA,EAAD,CAAOgf,OAAK,EAACC,KAAK,YAAYvf,UAAWhB,KACzC3G,EAAAjL,EAAAkL,cAACknB,GAAD,CAAcF,OAAK,EAACC,KAAK,cAAcvf,UAAWgD,KAClD3K,EAAAjL,EAAAkL,cAACknB,GAAD,CAAcF,OAAK,EAACC,KAAK,YAAYvf,UAAWsJ,KAChDjR,EAAAjL,EAAAkL,cAACknB,GAAD,CAAcF,OAAK,EAACC,KAAK,UAAUvf,UAAWwW,KAC9Cne,EAAAjL,EAAAkL,cAACknB,GAAD,CAAcF,OAAK,EAACC,KAAK,YAAYvf,UAAW6N,KAChDxV,EAAAjL,EAAAkL,cAACknB,GAAD,CAAcF,OAAK,EAACC,KAAK,aAAavf,UAAWqa,KACjDhiB,EAAAjL,EAAAkL,cAACknB,GAAD,CAActf,aAAa,EAAMof,OAAK,EAACC,KAAK,aAAavf,UAAWwQ,KACpEnY,EAAAjL,EAAAkL,cAACknB,GAAD,CAActf,aAAa,EAAMof,OAAK,EAACC,KAAK,UAAUvf,UAAWwX,KACjEnf,EAAAjL,EAAAkL,cAACknB,GAAD,CAActf,aAAa,EAAMof,OAAK,EAACC,KAAK,iBAAiBvf,UAAWkc,KACxE7jB,EAAAjL,EAAAkL,cAACknB,GAAD,CAActf,aAAa,EAAMof,OAAK,EAACC,KAAK,eAAevf,UAAW8d,KACtEzlB,EAAAjL,EAAAkL,cAACknB,GAAD,CAAcF,OAAK,EAACC,KAAK,eAAevf,UAAW8O,KACnDzW,EAAAjL,EAAAkL,cAACknB,GAAD,CAAcF,OAAK,EAACC,KAAK,YAAYvf,UAAW6S,KAChDxa,EAAAjL,EAAAkL,cAACknB,GAAD,CAAcF,OAAK,EAACC,KAAK,gBAAgBvf,UAAWyI,KACpDpQ,EAAAjL,EAAAkL,cAACknB,GAAD,CAAcF,OAAK,EAACC,KAAK,IAAIvf,UAAWU,KACxCrI,EAAAjL,EAAAkL,cAACgI,EAAA,EAAD,CAAOif,KAAK,GAAGvf,UAAWL,iBApCxB/D,cCtCE6jB,QACW,cAA7B9xB,OAAO2M,SAASolB,UAEe,UAA7B/xB,OAAO2M,SAASolB,UAEhB/xB,OAAO2M,SAASolB,SAAS5P,MACvB,2DCZN6P,IAASpf,OAAOlI,EAAAjL,EAAAkL,cAACsnB,GAAD,MAAS3B,SAAS4B,eAAe,SD2H3C,kBAAmBnE,WACrBA,UAAUoE,cAAcC,MAAMhwB,KAAK,SAAAiwB,GACjCA,EAAaC","file":"static/js/main.d06b3ff0.chunk.js","sourcesContent":["export default function gql(query, variables = {}, baseURL = \"\", debug = false){\n    if( query === undefined ){ console.log(\"El parámetro 'query' de la funcion gql está vacío\") }\n    const queryReplace = query\n                    .replace(/\\n/gi,   \"%0A\")\n                    .replace(/:/gi,    \"%3A\")\n                    .replace(/\\\\/gi,   \"%22\")\n                    .replace(/ {2}/gi, \"%09\")\n                    .replace(/ /gi,    \"%20\")\n                    .replace(/{/gi,    \"%7B\")\n                    .replace(/}/gi,    \"%7D\")\n                    .replace(/\\(/gi,   \"%28\")\n                    .replace(/\\)/gi,   \"%29\")\n\n    const queryClean = debug ? queryReplace : queryReplace\n        .replace(/\\t/gi, \"%09\")\n        .split(\"%09\")\n        .filter(ch => ch !== \"\")\n        .reduce((a, b) => a + \"%09\" + b, \"\")\n        .split(\"%0A%09\")\n        .filter(ch => ch !== \"\")\n        .reduce((a, b) => a + \"%09\" + b, \"\")\n        .replace(/%7B%09/gi, \"%7B\")\n        .replace(/%7D%09/gi, \"%7D\")\n        .replace(/%09%7B/gi, \"%7B\")\n        .replace(/%09%7D/gi, \"%7D\")\n        .slice(3)\n\n    const queryUgly = queryClean.split(\"$\").map((elem, i) => {\n        if(i%2){ //Es una variable\n            return variables[elem]\n        }\n        else{ //No es una variable\n            return elem\n        }\n    }).reduce((a, b) => a + b, \"\")\n                    \n    return baseURL + \"/graphql?query=\" + queryUgly\n}","import gql from './gql'\n\nexport function getToken(){\n    return window.localStorage.getItem('jwt') !== \"undefined\" ? JSON.parse(window.localStorage.getItem('jwt')) : undefined\n}\n\nexport function getHeaders(anonymous = false, type = \"application/json\"){\n    const jwt = getToken();\n    let headers = {\n        \"Accept\": type,\n        \"Content-Type\": type\n    }\n    if(jwt && !anonymous){ headers.Authorization = \"Bearer \" + jwt }\n    return headers\n}\n\nexport function getUserInfo(){\n    const user = window.localStorage.getItem('user')\n    const userObj = ![\"undefined\", \"\", undefined].includes(user) ? JSON.parse(window.localStorage.getItem('user')) : undefined\n    return userObj\n}\n\nexport function saveAuthData(authdata){\n    //authdata.avatar = getAvatar()\n    window.localStorage.setItem('jwt', JSON.stringify(authdata.jwt))\n    window.localStorage.setItem('user', JSON.stringify(authdata.user))\n}\n\nexport function clearData(){\n    window.localStorage.removeItem('jwt')\n    window.localStorage.removeItem('user')\n}","export const CARGAR_USUARIOS = \"CARGAR_USUARIOS\"\nexport const CARGAR_CALENDARIO = \"CARGAR_CALENDARIO\"\nexport const CARGAR_ES = \"CARGAR_ES\"\nexport const CARGAR_DOCUMENTOS = \"CARGAR_DOCUMENTOS\"\nexport const CARGAR_GRUPOS = \"CARGAR_GRUPOS\"\nexport const CARGAR_PWS = \"CARGAR_PWS\"\nexport const CARGAR_AUTH = \"CARGAR_AUTH\"\nexport const CARGAR_ENTRADAS = \"CARGAR_ENTRADAS\"\nexport const CAMBIAR_BLUE_COLLAR = \"CAMBIAR_BLUE_COLLAR\"\nexport const CAMBIAR_MES_ES = \"CAMBIAR_MES_ES\"\nexport const FALLO_CARGA = \"FALLO_CARGA\"","import 'whatwg-fetch';\nimport { getToken } from './auth';\n/**\n * Parses the JSON returned by a network request\n *\n * @param  {object} response A response from a network request\n *\n * @return {object}          The parsed JSON from the request\n */\nfunction parseJSON(response) {\n  return response.json ? response.json() : response;\n}\n\n/**\n * Checks if a network request came back fine, and throws an error if not\n *\n * @param  {object} response   A response from a network request\n *\n * @return {object|undefined} Returns either the response, or throws an error\n */\nfunction checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  }\n\n  return parseJSON(response).then(responseFormatted => {\n    if( responseFormatted.errors ){ responseFormatted.errors.forEach(e => { console.log( e ) }) }\n    const error = new Error(response.statusText);\n    error.response = response;\n    error.response.payload = responseFormatted;\n    throw error;\n  });\n}\n\n/**\n * Format query params\n *\n * @param params\n * @returns {string}\n */\nfunction formatQueryParams(params) {\n  return Object.keys(params)\n    .map(k => `${encodeURIComponent(k)}=${encodeURIComponent(params[k])}`)\n    .join('&');\n}\n\n/**\n * Requests a URL, returning a promise\n *\n * @param  {string} url       The URL we want to request\n * @param  {object} [options] The options we want to pass to \"fetch\"\n *\n * @return {object}           The response data\n */\nexport default function request(\n  url,\n  options = {},\n  stringify = true\n) {\n  // Set headers\n  if (stringify) {\n\n    options.headers = Object.assign(\n      {\n        'Content-Type': 'application/json',\n      },\n      options.headers,\n      {}\n    );\n  }\n\n  const token = getToken();\n\n  if (token) {\n    options.headers = Object.assign(\n      {\n        Authorization: `Bearer ${token}`,\n      },\n      options.headers\n    );\n  }\n\n  if (options && options.params) {\n    const params = formatQueryParams(options.params);\n    url = `${url}?${params}`;\n  }\n\n  // Stringify body object\n  if (options && options.body && stringify) {\n    options.body = JSON.stringify(options.body);\n  }\n\n  return fetch(process.env.REACT_APP_API_URL + url, options)\n    .then(checkStatus)\n    .then(parseJSON);\n}\n","import { \n    CARGAR_USUARIOS, \n    CARGAR_CALENDARIO, \n    CARGAR_ES, \n    CARGAR_DOCUMENTOS, \n    CARGAR_GRUPOS, \n    CARGAR_PWS, \n    CARGAR_AUTH, \n    CARGAR_ENTRADAS, \n    CAMBIAR_BLUE_COLLAR, \n    CAMBIAR_MES_ES, \n    FALLO_CARGA\n} from \"../constants/action-types\"\nimport request from \"../utils/request\"\nimport gql from \"../utils/gql\"\nimport { getUserInfo } from '../utils/auth'\nimport { gestionaError } from '../utils/func'\nimport { queryCalendario, queryES, queryEntradas } from '../queries'\nimport moment from 'moment'\n\nexport function cambiarBlueCollar(payload) {\n    return {\n        type: CAMBIAR_BLUE_COLLAR,\n        payload\n    }\n}\n\nexport function falloCarga(payload) {\n    return {\n        type: FALLO_CARGA,\n        payload\n    }\n}\n\nexport function cambiarMesES(payload) {\n    return {\n        type: CAMBIAR_MES_ES,\n        payload\n    }\n}\n\nexport function cargarUsuarios(payload) {\n    return {\n        type: CARGAR_USUARIOS,\n        payload\n    }\n}\n  \nexport const fetchUsuarios = () => {\n    return (dispatch) => {\n        const equipo = getUserInfo() && getUserInfo().equipo\n        return request(\"/users?_limit=0&equipo=\" + equipo).then(response => {\n            dispatch(cargarUsuarios(response))\n        })\n        .catch(error => {\n            gestionaError(error, dispatch, \"usuarios\");\n        });\n    };\n};\n\nexport function cargarAuth(payload) {\n    return {\n        type: CARGAR_AUTH,\n        payload\n    }\n}\n  \nexport const fetchAuth = () => {\n    return (dispatch) => {\n        return request(\"/users/me\").then(response => {\n            dispatch(cargarAuth(response))\n        })\n        .catch(error => {\n            gestionaError(error, dispatch, \"auth\");\n        });\n    };\n};\n\nexport function cargarCalendario(payload) {\n    return {\n        type: CARGAR_CALENDARIO,\n        payload\n    }\n}\n  \nexport const fetchCalendario = () => {\n    return (dispatch) => {\n        return request(gql(queryCalendario(getUserInfo()))).then(response => {\n            dispatch(cargarCalendario(response.data.dias))\n        })\n        .catch(error => {\n            gestionaError(error, dispatch, \"calendario\");\n        });\n    };\n};\n\nexport function cargarES(payload) {\n    return {\n        type: CARGAR_ES,\n        payload\n    }\n}\n  \nexport const fetchES = (mes = moment()) => {\n    return (dispatch) => {\n        return request(gql(queryES({\n               equipo: getUserInfo().equipo,\n               desde: mes.clone().startOf(\"month\").utc().format(),\n               hasta: mes.clone().endOf(\"month\").utc().format()\n            }))).then(response => {\n            dispatch(cargarES(response.data.equipo))\n        })\n        .catch(error => {\n            gestionaError(error, dispatch, \"es\");\n        });\n    };\n};\n\nexport function cargarDocumentos(payload) {\n    return {\n        type: CARGAR_DOCUMENTOS,\n        payload\n    }\n}\n  \nexport const fetchDocumentos = () => {\n    return (dispatch) => {\n        return request(\"/documentos?_limit=0\").then(response => {\n            dispatch(cargarDocumentos(response))\n        })\n        .catch(error => {\n            gestionaError(error, dispatch, \"documentos\");\n        });\n    };\n};\n\nexport function cargarGrupos(payload) {\n    return {\n        type: CARGAR_GRUPOS,\n        payload\n    }\n}\n  \nexport const fetchGrupos = () => {\n    return (dispatch) => {\n        return request(\"/grupos?_limit=0\").then(response => {\n            dispatch(cargarGrupos(response))\n        })\n        .catch(error => {\n            gestionaError(error, dispatch, \"grupos\");\n        });\n    };\n};\n\nexport function cargarPws(payload) {\n    return {\n        type: CARGAR_PWS,\n        payload\n    }\n}\n  \nexport const fetchPws = () => {\n    return (dispatch) => {\n        return request(\"/pws?_limit=0\").then(response => {\n            dispatch(cargarPws(response))\n        })\n        .catch(error => {\n            gestionaError(error, dispatch, \"pws\");\n        });\n    };\n};\n\nexport function cargarEntradas(payload) {\n    return {\n        type: CARGAR_ENTRADAS,\n        payload\n    }\n}\n  \nexport const fetchEntradas = () => {\n    return (dispatch) => {\n        return request(gql(queryEntradas(getUserInfo()))).then(response => {\n            dispatch(cargarEntradas(response))\n        })\n        .catch(error => {\n            gestionaError(error, dispatch, \"entradas\");\n        });\n    };\n};","export function queryCalendario(variables){\n    return variables.equipo ? `{\n    dias(where: { equipo: \"${ variables.equipo }\" }, limit: 10000){\n        _id\n        fecha\n        tipo\n        aprobado\n        nombre\n        user{\n            _id\n            username\n            avatar{\n                url\n            }\n        }\n    }\n}` : \"{}\"\n}\n\nexport function queryES(variables){\n    return variables.equipo ? `{\n    equipo(id: \"${ variables.equipo }\"){\n        razonSocial\n        cif\n        ccc\n        users{\n            _id\n            username\n            nombre\n            apellidos\n            nif\n            nuss\n            avatar{\n                url\n            }\n            registros(limit: 1000000000, where: {fecha_lte: \"${ variables.hasta }\", fecha_gte: \"${ variables.desde }\"}){\n                _id\n                fecha\n                idcard\n                aprobado\n                user{\n                    _id\n                    username\n                }\n                ultimoEditor{\n                    _id\n                    username\n                }\n            }\n            duracionjornada\n        }\n    }\n}` : \"{}\"\n}\n\nexport function queryEntradas(variables){\n    return variables.equipo ? `\n{\n    entradas(where: {equipo: \"${variables.equipo}\"}, sort: \"createdAt:desc\", limit: 3){\n        _id\n        createdAt\n        titulo\n        imagen{\n            url\n        }\n        resumen\n        cuerpo\n        slug\n    }\n}` : \"{}\"\n}","\nimport { message } from 'antd'\nimport { falloCarga } from '../actions'\n\nexport const mayusculizer = str => str.replace(/\\s|-/g, \" ,\")\n    .split(\",\")\n    .map(c => c.slice(0, 1).toUpperCase() + c.slice(1).toLowerCase())\n    .reduce((a, b) => a + b, \"\")\n\nexport const redondear = (dato, n = 0) => \n    parseInt(dato * Math.pow(10, n), 10) / Math.pow(10, n)\n\nexport const gestionaError = (err, dispatch, chivato) => {\n    console.log(err.response.payload.error + \" - \" + err.response.payload.message)\n        if(err.response.status === 403){\n            message.error(\"No tienes permiso para acceder a ese contenido\")\n            dispatch(falloCarga({ error: 403, redirectTo: \"/\", chivato }))\n        }\n        else if(err.response.status === 401){\n            message.error(\"La sesión ha caducado o los datos de autenticación son incorrectos\")\n            localStorage.clear()\n            sessionStorage.clear()\n            dispatch(falloCarga({ error: 401, redirectTo: \"/login\", chivato }))\n        }\n}","import React, { Component } from 'react'\nimport { Menu, Layout, Typography, Avatar, Badge, Dropdown, Icon, message, Button, Modal, Tag } from 'antd'\nimport { Link, withRouter } from 'react-router-dom'\nimport { getUserInfo, clearData } from './utils/auth';\nimport { mayusculizer } from './utils/func';\nimport request from './utils/request';\nimport { socketConnect } from 'socket.io-react';\nimport { connect } from 'react-redux';\nimport moment from 'moment'\nimport { fetchES, cambiarBlueCollar, fetchCalendario, fetchUsuarios, falloCarga } from './actions';\n\nconst { Header, Footer, Sider, Content } = Layout;\nconst { Title, Paragraph } = Typography;\n\nclass Frame extends Component{\n    state = {\n        user: {\n            username: \" \"\n        },\n        local: false,\n        hoy: [],\n        loading: true\n    }\n\n    iframe = React.createRef()\n\n    cerrarSesion = () => {\n        clearData();\n        message.info(\"¡Vuelve pronto!\")\n        this.props.history.push(\"/login\")\n    }\n\n    async componentDidMount(){\n        this.props.socket.on('notification', msg => {\n            if(msg.es){\n                this.props.dispatch(fetchES())\n            }\n            else if(msg.dia){\n                this.props.dispatch(fetchCalendario())\n            }\n            else if(msg.user){\n                this.props.dispatch(fetchUsuarios())\n            }\n        });\n\n        if(this.props.es.users && this.props.dias){\n            const registros = [].concat.apply([], this.props.es.users.map(u => u.registros)).map(r => r.aprobado)\n            const diasPorConfirmar = this.props.dias.map(u => u.aprobado).includes(null) || this.props.dias.map(u => u.aprobado).includes(false) ? true : false\n            const registrosPorConfirmar = registros.includes(false) || registros.includes(null) ? true : false\n            const usuariosPorConfirmar = this.props.usuarios.map(u => u.confirmed).includes(false) ? true : false\n\n            this.setState({ \n                diasPorConfirmar,\n                registrosPorConfirmar,\n                usuariosPorConfirmar\n            })\n        }\n\n        if(this.props.auth && this.props.auth.registros){\n            const hoy = this.props.auth.registros.filter(r => moment(r.fecha).isSame(moment(), \"day\"))\n            this.setState({ hoy })\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        const { errorCarga } = this.props\n        if(errorCarga.error){\n            this.props.dispatch(falloCarga({ error: false }))\n            this.props.history.push(errorCarga.redirectTo || \"/login\")\n        }\n\n        if(this.props.dias !== prevProps.dias && this.props.dias){\n            console.log(this.props.dias)\n            if(this.props.dias.map(u => u.aprobado).includes(null) || this.props.dias.map(u => u.aprobado).includes(false)){\n                this.setState({ diasPorConfirmar: true })\n            }\n            else{ this.setState({ diasPorConfirmar: false }) }\n        }\n        else if(this.props.es !== prevProps.es && this.props.es){\n            const registros = [].concat.apply([], this.props.es.users.map(u => u.registros)).map(r => r.aprobado)\n            if(registros.includes(false) || registros.includes(null)){\n                this.setState({ registrosPorConfirmar: true})\n            }\n            else{ this.setState({ registrosPorConfirmar: false }) }\n        }\n        else if(this.props.usuarios !== prevProps.usuarios && this.props.usuarios){\n            if(this.props.usuarios.map(u => u.confirmed).includes(false)){\n                this.setState({ usuariosPorConfirmar: true })\n            }\n            else{ this.setState({ usuariosPorConfirmar: false }) }\n        }\n        else if((this.props.auth !== prevProps.auth) && this.props.auth){\n            const hoy = this.props.auth.registros.filter(r => moment(r.fecha).isSame(moment(), \"day\"))\n            this.setState({ hoy })\n        }\n    }\n\n    fichar = () => {\n        Modal.confirm({\n            title: `${ mayusculizer(this.props.auth.nombre) } - ${ moment().format(\"LLL\")}`,\n            content: `Vas a fichar para ${this.state.hoy.length % 2 ? \"salir.\" : \"entrar.\"}\n            ${ this.state.hoy.length > 0 ? (\"Has fichado hoy \" + this.state.hoy.length + \" ve\" + (this.state.hoy.length === 1 ? \"z\" : \"ces\")) \n                                         : \"No has fichado todavía hoy\"}`,\n            onOk: () => {\n                request(\"/registros\", {\n                    method: \"POST\",\n                    body: {\n                        fecha: moment().format(),\n                        user: this.props.auth._id,\n                        ultimoEditor: this.props.auth._id,\n                        aprobado: true\n                    }\n                }).then(data => {\n                    message.success(\"Has fichado correctamente a las \" + moment().format(\"HH:mm\"))\n                }).catch(err => {\n                    message.error(\"Se ha producido un error\")\n                    console.log(err)\n                })\n            }\n        })\n    }\n\n    abrirPuerta = () => {\n        this.iframe.current.src = null\n        this.iframe.current.src = \"http://192.168.1.65:24491/puerta\"\n    }\n\n    render(){\n        const { user } = this.state\n        const { isLogged, auth } = this.props\n        const menuAvatar = (\n            <Menu>\n                <Menu.Item>\n                    <Link to=\"/perfil\">Perfil</Link>\n                </Menu.Item>\n                <Menu.Item onClick={this.cerrarSesion}>\n                    <span>Cerrar sesión</span>\n                </Menu.Item>\n                {(auth && auth.manager) && \n                    <Menu.Item onClick={() => this.props.dispatch(cambiarBlueCollar(!this.props.blueCollar))}>\n                        <span>{ this.props.blueCollar ? \"Modo Manager\" : \"Modo Blue Collar\" }</span>\n                    </Menu.Item>\n                }\n            </Menu>\n        );\n        return (\n            <div style={{ minHeight: \"100vh\", display: \"flex\", flexDirection: \"column\" }}>\n                <Header key=\"header\" style={{ backgroundColor: \"black\", display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\n                    <Link to=\"/\">\n                        <Title style={{ color: \"#f0f0f0\", margin: \"0.25em\", display: \"flex\", alignItems: \"center\" }}>\n                            <img src={process.env.REACT_APP_API_URL + \"/logo.png\"} alt=\"Blacknosaur Logo\" style={{ filter: \"invert(1)\", height: 45, marginRight: 20 }} /> Portal del Blacknosaurio\n                        </Title>\n                    </Link>\n                    { isLogged &&\n                        <Dropdown overlay={menuAvatar}>\n                            <Avatar style={{ objectFit: \"cover\", boxShadow: this.props.blueCollar ? \"inset 0 0 4px 1px blue\" : \"none\" }} src={(auth && auth.avatar) && (process.env.REACT_APP_API_URL + auth.avatar.url)}>{ user && user.username && user.username[0].toUpperCase() }</Avatar>\n                        </Dropdown>\n                    }\n                </Header>\n                <Layout key=\"layout\" style={{ flex: 1 }}>\n                    { isLogged &&\n                        <Sider style={{ backgroundColor: \"#191919\" }}>\n                            <Menu \n                                theme=\"dark\" \n                                style={{ backgroundColor: \"#191919\", height: \"100%\", position: \"relative\" }} \n                                mode=\"vertical-left\"\n                                selectedKeys={[window.location.pathname]}\n                            >\n                                <Menu.Item key=\"/\"><Link to=\"/\">Home</Link></Menu.Item>\n                                <Menu.Item key=\"/calendario\" style={{ display: \"flex\", alignItems: \"center\" }}>\n                                    <Link to=\"/calendario\">Calendario</Link>\n                                    {( this.state.diasPorConfirmar && (auth && (auth.manager && !this.props.blueCollar))) &&\n                                        <Badge style={{ transform: \"initial\", position: \"static\", marginLeft: 10 }} count={<Icon type=\"bell\" style={{ color: '#f5222d' }} />}></Badge>\n                                    }\n                                </Menu.Item>\n                                <Menu.Item key=\"/archivos\"><Link to=\"/archivos\">Documentos</Link></Menu.Item>\n                                <Menu.Item key=\"/registro\" style={{ display: \"flex\", alignItems: \"center\" }}>\n                                    <Link to=\"/registro\">Registro E/S</Link>\n                                    {( this.state.registrosPorConfirmar && (auth && (auth.manager && !this.props.blueCollar))) &&\n                                        <Badge style={{ transform: \"initial\", position: \"static\", marginLeft: 10 }} count={<Icon type=\"bell\" style={{ color: '#f5222d' }} />}></Badge>\n                                    }\n                                </Menu.Item>\n                                <Menu.Item key=\"/exportacion\" style={{ alignItems: \"center\", display: (auth && (auth.manager && !this.props.blueCollar)) ? \"flex\" : \"none\"}}>\n                                    <Link to=\"/exportacion\">Exportación</Link>\n                                </Menu.Item>\n                                <Menu.Item key=\"/usuarios\" style={{ alignItems: \"center\" }}>\n                                    <Link to=\"/usuarios\">Usuarios</Link>\n                                    {( this.state.usuariosPorConfirmar && (auth && (auth.manager && !this.props.blueCollar))) &&\n                                        <Badge style={{ transform: \"initial\", position: \"static\", marginLeft: 10 }} count={<Icon type=\"bell\" style={{ color: '#f5222d' }} />}></Badge>       \n                                    }\n                                </Menu.Item>\n                                <Menu.Item key=\"/grupos\" style={{ alignItems: \"center\", display: (auth && (auth.manager && !this.props.blueCollar)) ? \"flex\" : \"none\"}}>\n                                    <Link to=\"/grupos\">Grupos</Link>\n                                </Menu.Item>\n                                <Menu.Item key=\"/passwords\" style={{ alignItems: \"center\" }}>\n                                    <Link to=\"/passwords\">Contraseñas</Link>\n                                </Menu.Item>\n                                <Menu.Item key=\"/configuracion\" style={{ alignItems: \"center\", display: (auth && (auth.manager && !this.props.blueCollar)) ? \"flex\" : \"none\"}}>\n                                    <Link to=\"/configuracion\">Configuración</Link>\n                                </Menu.Item>\n                                <Menu.Item key=\"telefonillo\" className=\"telefonillo\" style={{ alignItems: \"center\", display: \"flex\", justifyContent: \"space-between\"  }}>\n                                    <div style={{ width: \"100%\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n                                        <a style={{ flex: 1, color: \"rgba(255, 255, 255, 0.65)\" }} href=\"http://192.168.1.65:24491\" target=\"_blank\" rel=\"noopener noreferrer\">Telefonillo </a>\n                                        <Tag type=\"primary\" onClick={() => this.abrirPuerta()}>Abrir&nbsp;<Icon  style={{ margin: 0 }} type=\"login\"/></Tag>\n                                    </div>\n                                </Menu.Item> \n                                <Menu.Item key=\"fichar\" style={{ position: \"absolute\", bottom: 10, width: \"100%\", display: \"flex\", justifyContent: \"center\" }}>\n                                    <Button onClick={this.fichar}>\n                                        <Icon type={this.state.hoy.length % 2 ? \"smile\" : \"meh\"} /> Fichar\n                                    </Button> \n                                </Menu.Item> \n                            </Menu>\n                        </Sider>\n                    }\n                    <Layout>\n                        <Content style={{ padding: \"2em\", display: \"flex\", flexDirection: \"column\" }}>\n                            <div style={{ flex: 1 }}>\n                                { this.props.children }\n                            </div>\n                            <Footer style={{paddingBottom: 0}}>\n                                <Paragraph>&reg; 2019 - Made with <span role=\"img\" aria-label=\"heart\">❤️</span>, <span role=\"img\" aria-label=\"beer\">🍺</span> and <span role=\"img\" aria-label=\"poo\">💩</span> by <a href=\"https://blacknosaur.com\" target=\"_blank\" rel=\"noopener noreferrer\">Blacknosaur</a> & <a href=\"https://www.alhill.dev\" target=\"_blank\" rel=\"noopener noreferrer\">AlHill Development</a></Paragraph>\n                            </Footer>\n                        </Content>\n                    </Layout>\n                </Layout>\n                <iframe style={{ height: 0, width: 0, border: 0 }} ref={this.iframe} src=\"\" ></iframe>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        blueCollar: state.blueCollar,\n        es: state.es,\n        usuarios: state.usuarios,\n        dias: state.dias,\n        auth: state.auth,\n        errorCarga: state.errorCarga\n    }\n}\n\nexport default socketConnect(connect(mapStateToProps)(withRouter(Frame)))","import React, { Component } from 'react'\nimport Frame from './Frame'\nimport { Form, Icon, Input, Button, Layout, Card, Row, Col, message } from 'antd';\nimport { saveAuthData, getToken } from './utils/auth';\nimport { connect } from 'react-redux'\nimport { fetchCalendario, fetchUsuarios, fetchES, fetchAuth } from './actions'\n\nfunction hasErrors(fieldsError) {\n    return Object.keys(fieldsError).some(field => fieldsError[field]);\n}\n\nclass Login extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            error: false\n        }\n    }\n    componentDidMount() {\n        this.props.form.validateFields();\n        if(!this.props.errorCarga.error && this.props.auth){ \n            console.log(this.props.auth)\n            console.log(this.props.errorCarga)\n            //this.props.history.push(\"/\") \n        }\n    }\n    \n    handleSubmit = (e) => {\n        e.preventDefault();\n        this.props.form.validateFields((err, values) => {\n          if (!err) {\n            //console.log('Received values of form: ', values);\n            fetch(process.env.REACT_APP_API_URL + \"/auth/local\", {\n                method: \"POST\",\n                headers: {\n                    \"Accept\": \"application/json\",\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({ identifier: values.userName, password: values.password })\n            }).then(resp => {\n                resp.json().then(data => {\n                    console.log(data.user)\n                    if(data.statusCode === 400){\n                        this.setState({ error: true })\n                    }\n                    else if(!data.user.confirmed){\n                        message.info(\"Tu acceso al equipo de trabajo todavía no ha sido aprobado\")\n                    }\n                    else{\n                        this.setState({ error: false })\n                        saveAuthData(data);\n                        this.props.dispatch(fetchAuth())\n                        this.props.dispatch(fetchUsuarios())\n                        this.props.dispatch(fetchCalendario())\n                        this.props.dispatch(fetchES())\n                        this.props.history.push(\"/\")\n                    }\n                }).catch(err => console.log(err))\n            }).catch(err => console.log(err))\n          }\n        });\n    }       \n\n    render(){\n        const { getFieldDecorator, getFieldsError, getFieldError, isFieldTouched } = this.props.form;\n        const userNameError = isFieldTouched('userName') && getFieldError('userName');\n        const passwordError = isFieldTouched('password') && getFieldError('password');\n\n        return (\n            <Layout style={{ height: \"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <Layout.Content style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n                        <Card style={{ width: 450, maxWidth: \"90%\" }}>\n                            <Form onSubmit={this.handleSubmit}>\n                                <Form.Item\n                                    validateStatus={( userNameError || this.state.error ) ? 'error' : ''}\n                                    help={userNameError || ''}\n                                    >\n                                    { getFieldDecorator('userName', { rules: [{ required: true, message: 'Introduce tu nombre de usuario' }] })(\n                                        <Input \n                                        onChange={e => this.setState({ user: e.target.value })}\n                                        prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />} \n                                        placeholder=\"Nombre de usuario\" \n                                        />\n                                    )}\n                                </Form.Item>\n                                <Form.Item\n                                    validateStatus={( passwordError || this.state.error ) ? 'error' : ''}\n                                    help={passwordError || ''}\n                                    >\n                                    { getFieldDecorator('password', { rules: [{ required: true, message: 'Introduce tu contraseña' }] })(\n                                        <Input \n                                            onChange={e => this.setState({ pw: e.target.value })} \n                                            prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />} \n                                            type=\"password\" \n                                            placeholder=\"Contraseña\" \n                                        />\n                                    )}\n                                </Form.Item>\n                                <Form.Item>\n                                    <Row>\n                                        <Col span={12} style={{ justifyContent: \"center\", display: \"flex\" }}>\n                                            <Button type=\"primary\" onClick={() => this.props.history.push(\"/register\")}>\n                                                Registrarse\n                                            </Button>\n                                        </Col>\n                                        <Col span={12} style={{ justifyContent: \"center\", display: \"flex\" }}>\n                                            <Button\n                                                type=\"primary\"\n                                                htmlType=\"submit\"\n                                                disabled={hasErrors(getFieldsError())}\n                                                >\n                                                Acceder\n                                            </Button>\n                                        </Col>\n                                    </Row>\n                                </Form.Item>\n                            </Form>\n                        </Card>\n                    </Layout.Content>\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    errorCarga: state.errorCarga,\n    auth: state.auth\n})\n\nexport default Form.create({ name: 'login_form' })(connect(mapStateToProps)(Login))\n\n\n\n","import React, { Component } from 'react'\nimport { Form, Icon, Input, Button, Layout, Card, Row, Col } from 'antd';\nimport { saveAuthData, getHeaders, getToken } from './utils/auth';\nimport Frame from './Frame';\n\nclass Register extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            errorUser: false,\n            errorEmail: false,\n            errorPw: false\n        }\n    }\n    componentDidMount() {\n        // To disabled submit button at the beginning.\n        this.props.form.validateFields();\n    }\n\n    validateEmail(email) {\n        const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return re.test(String(email).toLowerCase());\n    }\n    \n    handleSubmit = (e) => {\n        e.preventDefault();\n        this.props.form.validateFields((err, values) => {\n        // console.log('Received values of form: ', values);\n            if (!err) {\n                if( values.password === values.password2 ){\n                    if(this.validateEmail(values.email)){\n                        fetch(process.env.REACT_APP_API_URL + \"/auth/local/register\", {\n                            method: \"POST\",\n                            headers: getHeaders(true),\n                            body: JSON.stringify({ \n                                username: values.userName, password: values.password, email: values.email, confirmed: false \n                            })\n                        }).then(resp => {\n                            resp.json().then(data => {\n                                saveAuthData(data)\n                                this.props.history.push(\"/nuevousuario\")\n                            }).catch(err => console.log(err))\n                        }).catch(err => console.log(err))\n                    }\n                    else{\n                        this.setState({ errorEmail: true })\n                    }\n                }\n                else{\n                    this.setState({ errorPw: true })\n                }\n          }\n        });\n    }       \n\n    render(){\n        const { getFieldDecorator, getFieldError, isFieldTouched } = this.props.form;\n        const userNameError = isFieldTouched('userName') && getFieldError('userName');\n        const emailError = isFieldTouched('email') && getFieldError('email');\n        const passwordError = isFieldTouched('password') && getFieldError('password');\n        const password2Error = isFieldTouched('password2') && getFieldError('password2');\n\n        return (\n            <Layout style={{ height: \"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <Layout.Content style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n                        <Card style={{ width: 450, maxWidth: \"90%\" }}>\n                            <Form onSubmit={this.handleSubmit}>\n                                <Form.Item\n                                    validateStatus={( userNameError || this.state.errorUser ) ? 'error' : ''}\n                                    help={userNameError || ''}\n                                    >\n                                    { getFieldDecorator('userName', { rules: [{ required: true, message: 'Introduce tu nombre de usuario' }] })(\n                                        <Input \n                                            onChange={e => this.setState({ user: e.target.value })}\n                                            prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />} \n                                            placeholder=\"Nombre de usuario\" \n                                        />\n                                    )}\n                                </Form.Item>\n                                <Form.Item\n                                    validateStatus={( emailError || this.state.errorEmail ) ? 'error' : ''}\n                                    help={emailError || ''}\n                                    >\n                                    { getFieldDecorator('email', { rules: [{ required: true, message: 'Introduce tu email' }] })(\n                                        <Input \n                                            onChange={e => this.setState({ email: e.target.value })}\n                                            prefix={<Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />} \n                                            type=\"email\"\n                                            placeholder=\"Email\" \n                                        />\n                                    )}\n                                </Form.Item>\n                                <Form.Item\n                                    validateStatus={( passwordError || this.state.errorPw ) ? 'error' : ''}\n                                    help={passwordError || ''}\n                                    >\n                                    { getFieldDecorator('password', { rules: [{ required: true, message: 'Introduce tu contraseña' }] })(\n                                        <Input \n                                            onChange={e => this.setState({ pw: e.target.value })} \n                                            prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />} \n                                            type=\"password\" \n                                            placeholder=\"Contraseña\" \n                                        />\n                                    )}\n                                </Form.Item>\n                                <Form.Item\n                                    validateStatus={( password2Error || this.state.errorPw ) ? 'error' : ''}\n                                    help={password2Error || ''}\n                                    >\n                                    { getFieldDecorator('password2', { rules: [{ required: true, message: 'Repite la contraseña' }] })(\n                                        <Input \n                                            onChange={e => this.setState({ pw: e.target.value })} \n                                            prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />} \n                                            type=\"password\" \n                                            placeholder=\"Repetir contraseña\" \n                                        />\n                                    )}\n                                </Form.Item>\n                                <Form.Item>\n                                    <Row>\n                                        <Col style={{ justifyContent: \"center\", display: \"flex\" }}>\n                                            <Button type=\"primary\" onClick={this.handleSubmit}>\n                                                Registrarse\n                                            </Button>\n                                        </Col>\n                                    </Row>\n                                </Form.Item>\n                            </Form>\n                        </Card>\n                    </Layout.Content>\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nexport default Form.create({ name: 'register_form' })(Register)\n\n\n\n","import React from 'react'\nimport Frame from './Frame'\nimport { Typography, Layout, Card } from 'antd'\nimport { getToken } from './utils/auth'\n\nconst FourOhFour = () => (\n    <Layout style={{ height: \"100vh\"}}>\n        <Frame isLogged={ getToken() ? true : false }>\n            <Layout.Content style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n                <Card style={{ width: 450, maxWidth: \"90%\" }}>\n                    <Typography.Title style={{ margin: 0, textAlign: \"center\" }}>404!</Typography.Title>\n                </Card>\n            </Layout.Content>\n        </Frame>\n    </Layout>\n)\n\nexport default FourOhFour","import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { getUserInfo } from './utils/auth';\n\nexport const PrivateRoute = ({ component: Component, onlyManager = false, ...rest }) => {\n    const userInfo = getUserInfo();\n    return(\n        <Route\n            {...rest}\n            render={props => \n                userInfo && (!onlyManager || ( onlyManager && userInfo.manager )) ? (\n                    <Component {...props} />\n                ) : (\n                    <Redirect\n                        to={{\n                            pathname: \"/login\",\n                            state: { from: props.location }\n                        }}\n                    />\n                )\n            }\n        />\n    )\n}","import React, { Component } from 'react'\nimport { getToken, getUserInfo } from './utils/auth';\nimport { mayusculizer } from './utils/func'\nimport { Layout, Card } from 'antd'\nimport moment from 'moment'\nimport Frame from './Frame';\nimport { connect } from 'react-redux'\nimport renderHTML from 'react-render-html';\n\n\nclass Home extends Component{\n\n    state = {}\n\n    componentDidMount(){\n        fetch(\"https://opendata.aemet.es/opendata/api/prediccion/especifica/municipio/horaria/28079/?api_key=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhbHZhcm9naWxAYmxhY2tub3NhdXIuY29tIiwianRpIjoiNTQwNjQ0NzEtMzhiMC00MTRiLWE3MDktMGYxYTVmY2JkOGUyIiwiaXNzIjoiQUVNRVQiLCJpYXQiOjE1NjAyNTcyNTMsInVzZXJJZCI6IjU0MDY0NDcxLTM4YjAtNDE0Yi1hNzA5LTBmMWE1ZmNiZDhlMiIsInJvbGUiOiIifQ.ihZx3I_3987zhxRmM8oA8_-hSI9OTakxR6e-WmU5fjs\", {\n            headers:{ \"Cache-Control\": \"no-cache\" }\n        }).then(resp => {\n            resp.json().then(data => {\n                fetch(data.datos).then(resp => {\n                    resp.json().then(meteoRaw => {\n                        const meteo = meteoRaw[0].prediccion.dia.map(d => {\n                            const horas = d.estadoCielo.map(e => e.periodo)\n                            return ({ [moment().isSame(d.fecha, \"day\") ? \"Hoy\" : (moment().add(1, \"day\").isSame(d.fecha, \"day\") ? \"Mañana\" : \"borrar\")]: horas.map(h => ({  \n                                hora: h,\n                                estadoCielo: d.estadoCielo.find(e => e.periodo === h).value,\n                                temperatura: d.temperatura.find(t => t.periodo === h).value\n                            }))})\n                        }).filter(dia => Object.keys(dia)[0] !== \"borrar\")\n\n                        console.log(meteo)\n                        this.setState({ meteo })\n                    })\n                })\n            }).catch(err => { console.log(err) })\n        }).catch(err => { console.log(err) })\n    }\n\n    componentDidUpdate\n\n    render(){\n        let { auth } = this.props\n        if(!auth){ auth = {}}\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <h1>Hola, { mayusculizer(getUserInfo().nombre) }</h1>\n                    {\n                        moment(auth.finalcontrato && !auth.indefinido).isBefore(moment().add(1, \"day\")) ?\n                            <p>Trabajaste para { auth.equipo && mayusculizer(auth.equipo.nombre)} entre el { moment(auth.iniciocontrato).format(\"LL\")} y el { moment(auth.finalcontrato).format(\"LL\")}, { moment(auth.finalcontrato).diff(moment(auth.iniciocontrato), \"days\")} días</p> :\n                            <div>\n                                <p>Llevas trabajando para { auth.equipo && mayusculizer(auth.equipo.nombre)} desde el { moment(auth.iniciocontrato).format(\"LL\")}, hace { moment().diff(moment(auth.iniciocontrato), \"days\")} días</p>\n                                { !auth.indefinido &&\n                                    <p>Tienes contrato hasta el { moment(auth.finalcontrato).format(\"LL\")}, en { moment(auth.finalcontrato).diff(moment(), \"days\")} días</p>\n                                }\n                            </div>\n                    }\n                    <br />\n                    \n                    <h2>Últimas noticias</h2>\n                    {\n                        this.props.entradas.map(e => (\n                            <div key={e._id} style={{ width: \"100%\", display: \"flex\", padding: 0, backgroundColor: \"white\", borderRadius: 5, overflow: \"hidden\", marginBottom: \"2em\" }}>\n                                <div style={{ display: \"flex\", flexDirection: \"column\", flex: 2, backgroundColor: \"#333\", justifyContent: \"center\", alignItems: \"center\" }}>\n                                    <img src={e.imagen && process.env.REACT_APP_API_URL + e.imagen.url} style={{ maxWidth: \"100%\", maxHeight: 300, objectFit: \"contain\", objectPosition: \"center center\" }} />\n                                </div>\n                                <div style={{ padding: \"2em\", flex: 3}}>\n                                    <h2>{moment(e.createdAt).format(\"YYYY-MM-DD\") + \"  \" + e.titulo}</h2>\n                                    {renderHTML(e.resumen)}\n                                </div>\n                            </div>\n                        ))\n                    }\n\n                    <br />\n\n                    <h2>El tiempo</h2>\n                    {\n                        this.state.meteo && this.state.meteo.map((d, i) => {\n                            return <div key={\"d\" + i}>\n                                <h3>{ Object.keys(d)[0] }</h3>\n                                <div style={{\n                                    display: \"inline-flex\",\n                                    border: \"1px solid gainsboro\",\n                                    borderRadius: 3,\n                                    boxShadow: \"rgba(0, 0, 0, 0.1) 1px 1px 5px 0px\",\n                                    overflowX: \"auto\",\n                                    marginBottom: \"1em\"\n                                }}>\n                                    {\n                                        Object.values(d)[0].map((r, i) => (\n                                            <div style={{\n                                                display: \"flex\",\n                                                flex: 1,\n                                                flexDirection: \"column\",\n                                            }}>\n                                                <div key={\"c\"+i} style={{\n                                                    backgroundColor: \"#333\",\n                                                    color: \"white\",\n                                                    padding: 5,\n                                                    textAlign: \"center\"\n                                                }}>{r.hora}:00</div>\n                                                <div style={{\n                                                    padding: 5,\n                                                    textAlign: \"center\",\n                                                    fontWeight: \"bold\",\n                                                    color: r.temperatura <= 15 ? \"#2222cc\" : (r.temperatura >= 28 ? \"#cc0000\" : \"#333\")\n                                                }}>{r.temperatura}º</div>\n                                                <div style={{\n                                                    display: \"flex\",\n                                                    justifyContent: \"center\",\n                                                    alignItems: \"center\"\n                                                }}><img src={`${process.env.PUBLIC_URL}/meteo/${r.estadoCielo}.png`} /></div>\n                                            </div>\n                                        ))\n                                    }\n                                </div>\n                            </div>\n                        })\n                    }\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    auth: state.auth,\n    entradas: state.entradas\n})\n\nexport default connect(mapStateToProps)(Home)\n","import { Component } from 'react';\nimport { getUserInfo } from './utils/auth';\n//import { includes as lodashIncludes } from 'lodash';\n\nclass PrivateComponent extends Component {\n\n  render() {\n    const userInfo = getUserInfo()\n    const authData = (typeof userInfo === \"object\" && userInfo !== null && userInfo.blocked === false && !this.props.blue) ? userInfo : {\n      role: {\n        name: \"Not Authorised\"\n      }\n    };\n    return authData.manager ? this.props.children : \"\";\n  }\n}\n\nexport default PrivateComponent","import React, { Component } from 'react'\nimport { Layout, Typography, Calendar, Modal, message, Avatar, Button, Popover, Radio, Row, Table, Popconfirm, Tag, Statistic } from 'antd'\nimport moment from 'moment';\nimport { getHeaders, getUserInfo, getToken } from './utils/auth';\nimport request from './utils/request';\nimport Frame from './Frame';\nimport PrivateComponent from './PrivateComponent';\nimport { connect } from 'react-redux'\nimport { fetchCalendario, fetchAuth } from './actions';\n\nclass Calendario extends Component{\n    state = {\n        modalPedirDia: false,\n        dias: [],\n        diasFilter: [],\n        diasPorAprobar: [],\n        festivos: [],\n        festivosArrUTC: [],\n        sel1: \"libres\",\n        sel2: \"global\"\n    }\n\n    componentDidMount(){\n        \n        const columns = [{\n            title: 'Nombre de usuario',\n            key: 'user',\n            render: r => r.user && r.user.username\n        }, {\n            title: 'Tipo',\n            dataIndex: 'tipo',\n            key: 'tipo'\n        }, {\n            title: 'Fecha',\n            key: 'fecha',\n            render: row => moment(row.fecha).format(\"YYYY-MM-DD\")\n        }, {\n            title: 'Acción',\n            key: 'action',\n            render: (text, record) => (\n              <span>\n                <Popconfirm title={`¿Estás seguro de que deseas aceptar la solicitud de día ${record.tipo} para el día ${moment(record.fecha).format(\"YYYY-MM-DD\")} a ${record.user && record.user.username}?`} onConfirm={evt => this.responderSolicitud(record, true)}>\n                    <Tag color=\"green\" key={`${record._id}_aceptar`}>Aprobar</Tag>\n                </Popconfirm>\n                <Popconfirm title={`¿Estás seguro de que deseas denegar la solicitud de día ${record.tipo} para el día ${moment(record.fecha).format(\"YYYY-MM-DD\")} a ${record.user && record.user.username}?`} onConfirm={evt => this.responderSolicitud(record, false)}>\n                    <Tag color=\"volcano\" key={`${record._id}_denegar`}>Denegar</Tag>\n                </Popconfirm>\n              </span>\n            ),\n        }]\n        this.setState({ columns })\n        if(this.props.dias){\n            this.organizarDias()\n            this.calcularVacaciones()\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if(prevState.sel1 !== this.state.sel1 || prevState.sel2 !== this.state.sel2){\n            this.setState({ diasFilter: this.filtrarDias(this.state.dias) })\n        }\n        else if(prevProps.dias !== this.props.dias){\n            this.organizarDias()\n            this.calcularVacaciones()\n        }\n    }\n\n    fetchDias = async () => {         \n        await this.props.dispatch(fetchCalendario())\n        await this.props.dispatch(fetchAuth())\n        this.organizarDias()\n    }\n\n    organizarDias = () => {\n        const { dias } = this.props\n        if(dias){\n            const festivos = dias.filter(d => d.tipo === \"festivo\").map(f => ({\n                ...f,\n                fecha: moment.utc(f.fecha).hour(0).minute(0).seconds(0).milliseconds(0).format()\n            }))\n            const festivosArrUTC = festivos.map(f => moment.utc(f.fecha).hour(2).minute(0).seconds(0).milliseconds(0).format())\n            this.setState({ \n                dias, \n                festivos,\n                festivosArrUTC,\n                diasFilter: this.filtrarDias(dias), \n                diasPorAprobar:dias.filter(d => !d.aprobado).map(d => ({...d, key: d._id})) \n            })\n        }\n    }\n   \n    filtrarDias = (dias) => {\n        const primerFiltro = this.state.sel1 === \"libres\" ? dias.filter(d => d.tipo === \"libre\") : dias.filter(d => d.tipo === \"remoto\")\n        const diasFilter = this.state.sel2 === \"mios\" ? primerFiltro.filter(d => d.user._id === getUserInfo()._id ) : primerFiltro                                                 \n        return diasFilter\n    }\n\n    responderSolicitud = (dia, bool) => {\n        if(bool){ //Aceptar\n            request(\"/dias/\" + dia._id, {\n                method: \"PUT\",\n                body: { aprobado: true }\n            }).then(resp => {\n                message.success(`Se ha aprobado la solicitud de ${dia.user.username} de día ${dia.tipo} el día ${moment(dia.fecha).format(\"YYYY-MM-DD\")}`)\n                this.fetchDias()\n            }).catch(err => {\n                console.error(err)\n                message.error(`Se ha producido un error durante la aprobación del día ${dia.tipo} solicitado`)                    \n            })\n        }\n        else{ //Denegar\n            request(\"/dias/\" + dia._id, {\n                method: \"DELETE\",\n            }).then(resp => {\n                message.info(\"Se ha denegado la solicitud de día \" + dia.tipo)\n                this.fetchDias()    \n            }).catch(err => {\n                message.error(`Se ha producido un error durante la denegación del día ${dia.tipo} solicitado`)       \n                console.error(err)\n            })\n        }\n    }\n\n    getListData = value => {\n        const listData = this.state.diasFilter\n            .filter(d => moment(d.fecha).format(\"YYYYMMDD\") === moment(value).format(\"YYYYMMDD\"))\n            .map(d => ({\n                user: d.user.username,\n                aprobado: d.aprobado,\n                tipo: d.tipo,\n                _id: d._id,\n                fecha: moment(d.fecha),\n                avatar: d.user.avatar && (process.env.REACT_APP_API_URL + d.user.avatar.url)\n            }))\n        return listData || [];\n    }\n\n    dateFullCellRender = value => {\n        const listData = this.getListData(value);\n        const valueUTC = moment.utc(value.hour(2).minute(0).seconds(0).milliseconds(0)).format()\n        \n        const festivo = this.state.festivos.find(f => { return moment.utc(f.fecha).format() === valueUTC })\n\n        const tc = {\n            title: festivo ? festivo.nombre : value.format(\"LL\"),\n            color: festivo ? \"rgba(255, 40, 30, 0.5)\" : ( [0, 6].includes(value.day()) ? \"rgba(255, 200, 100, 0.5)\" : \"transparent\" )\n        }\n\n        return (\n            <div className=\"ant-fullcalendar-date\" style={{ backgroundColor: tc.color, margin: \"-1px 0\", borderRadius: 3 }} title={tc.title} onClick={evt => this.handleCellClick(evt, value)}>\n                <div className=\"ant-fullcalendar-value\">{ value.date() }</div>\n                <div className=\"ant-fullcalendar-content\">\n                    <ul className=\"events\" style={{ margin: 0, padding: 2 }}>\n                    {\n                        listData.map(item => (\n                            <Popover \n                                className={!item.aprobado ? \"sinactimel\" : \"\"} \n                                key={item.user + item.fecha} \n                                content={\n                                    <div style={{ display: \"flex\", flexDirection: \"column\", textAlign: \"center\" }}>\n                                        <span>{item.user}</span>\n                                        { (!item.aprobado && getUserInfo().manager) && \n                                            <div style={{ display: \"flex\", marginTop: \"1em\" }}>\n                                                <Popconfirm title={`¿Estás seguro de que deseas aceptar la solicitud de día ${item.tipo} para el día ${moment(item.fecha).format(\"YYYY-MM-DD\")} a ${item.user}?`} onConfirm={evt => this.responderSolicitud(item, true)}>\n                                                    <Tag color=\"green\" key={`${item._id}_aceptar`}>Aprobar</Tag>\n                                                </Popconfirm>\n                                                <Popconfirm title={`¿Estás seguro de que deseas denegar la solicitud de día ${item.tipo} para el día ${moment(item.fecha).format(\"YYYY-MM-DD\")} a ${item.user}?`} onConfirm={evt => this.responderSolicitud(item, false)}>\n                                                    <Tag color=\"volcano\" key={`${item._id}_denegar`}>Denegar</Tag>\n                                                </Popconfirm>\n                                            </div>\n                                        }\n                                    </div>\n                                }\n                            >\n                                <Avatar style={{ margin: 1 }} src={item.avatar ? item.avatar : null}>{ item.user[0].toUpperCase() }</Avatar>\n                            </Popover>\n                        ))\n                    }\n                    </ul>\n                </div>\n            </div>\n        );\n    }\n\n    handleCellClick = (evt, value) => {\n        evt.persist()\n        if(![\"span\", \"img\", \"button\"].includes(evt._targetInst.elementType) && ![...evt._targetInst.stateNode.classList].includes(\"ant-tag\")){\n            this.lanzarModalDia(value)\n        }\n    }\n\n    solicitarDia = (fecha, tipo) => {\n        const { _id, equipo } = getUserInfo()\n        console.log(getUserInfo())\n        console.log(tipo)\n        fetch(process.env.REACT_APP_API_URL + \"/dias\", {\n            method: \"POST\",\n            headers: getHeaders(),\n            body: JSON.stringify({\n                fecha, tipo, \n                user: _id, \n                aprobado: getUserInfo().manager,\n                equipo\n            })\n        }).then(resp => {\n            resp.json().then(dia => {\n                if(dia.aprobado){\n                    message.info(`Te has asignado como día ${tipo} el ${moment(this.state.dia).format(\"DD/MM/YYYY\")}`); \n                }\n                else{\n                    message.info(`Has solicitado como día ${tipo} el ${moment(this.state.dia).format(\"DD/MM/YYYY\")}. Tu solicitud está pendiente de aprobación`); \n                }\n                this.fetchDias()\n                this.setState({ modalPedirDia: false, dias: [...this.state.dias, dia] })\n            }).catch(err => console.log(err))\n        }).catch(err => console.log(err))\n    }\n\n    lanzarModalDia = dia => {\n        console.log(dia)\n        const misDias = this.state.dias.filter(d => d.user && (d.user._id === getUserInfo()._id ))\n        if( moment().isSameOrBefore(dia, \"day\") ){\n            if( this.state.festivos.find(f => moment(f.fecha).isSame(dia, \"day\")) === undefined ){\n                const pedido = misDias.find(d => moment(d.fecha).isSame(dia, \"day\"))\n                if(!pedido){\n                    this.setState({\n                        dia,\n                        modalPedirDia: true\n                    })\n                }\n                else{ \n                    if(!pedido.aprobado){\n                        message.warning(\"La solicitud de ese día todavía se encuentra pendiente de aprobación\") \n                    }\n                }\n            }\n            else{ message.warning(\"No puedes solicitar un día festivo\") }\n        }\n        else{ message.warning(\"No puedes solicitar un día pasado\") }\n    }\n\n    calcularVacaciones = () => {\n        const { auth } = this.props\n        const diasAno = 365 + (moment().isLeapYear() ? 1 : 0)\n        const duracionActualContrato = auth.iniciocontrato ? moment().diff(moment(auth.iniciocontrato), \"days\") : undefined\n        const c = (this.props.auth.correccion && this.props.auth.correccion.length > 0) ? this.props.auth.correccion.find(c => parseInt(c.ano, 10) === moment().year()) : { correccion: 0 }\n        const diasTotales = duracionActualContrato ? (duracionActualContrato <= diasAno ? (Math.trunc((duracionActualContrato / diasAno) * 23) + (parseInt(c.correccion, 10) || 0)) : (23 + (parseInt(c.correccion, 10) || 0))) : \" - \"\n        const diasLibresFuturos = this.props.auth.dias ? this.props.auth.dias.filter(d => d.tipo === \"libre\" && d.aprobado && moment(d.fecha).isAfter(moment())).length : \"\"\n        const diasLibresPasados = this.props.auth.dias ? this.props.auth.dias.filter(d => d.tipo === \"libre\" && d.aprobado && moment(d.fecha).isBetween(moment().startOf(\"year\"), moment(), \"days\", \"[]\")).length : \"\"\n        const diasLibresPendientes = this.props.auth.dias ? this.props.auth.dias.filter(d => d.tipo === \"libre\" && !d.aprobado && moment(d.fecha).isAfter(moment())).length : \"\"\n        this.setState({\n            diasTotales,\n            diasLibresFuturos,\n            diasLibresPasados,\n            diasLibresPendientes\n        })\n    }\n\n    render(){\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <Row style={{ justifyContent: \"space-around\", display: \"flex\", marginBottom: 20 }}>\n                        <Statistic title={\"Días de vacaciones\"} value={this.state.diasTotales} />\n                        <Statistic title={\"Días de vacaciones disfrutados\"} value={this.state.diasLibresPasados} />\n                        <Statistic title={\"Días de vacaciones solicitados\"} value={this.state.diasLibresFuturos} />\n                        <Statistic title={\"Días de vacaciones pendientes de aprobar\"} value={this.state.diasLibresPendientes} />\n                    </Row>\n                    <Row style={{ justifyContent: \"space-around\", display: \"flex\"}}>\n                        <Radio.Group defaultValue={this.state.sel1} buttonStyle=\"solid\">\n                            <Radio.Button onClick={() => this.setState({ sel1: \"libres\" }) } value=\"libres\">Libres</Radio.Button>\n                            <Radio.Button onClick={() => this.setState({ sel1: \"remotos\" }) } value=\"remotos\">Remotos</Radio.Button>\n                        </Radio.Group>\n                        <Radio.Group defaultValue={this.state.sel2} buttonStyle=\"solid\">\n                            <Radio.Button onClick={() => this.setState({ sel2: \"global\" }) } value=\"global\">Global</Radio.Button>\n                            <Radio.Button onClick={() => this.setState({ sel2: \"mios\" }) } value=\"mios\">Mis días</Radio.Button>\n                        </Radio.Group>\n                    </Row>\n                    <Calendar\n                        dateFullCellRender={this.dateFullCellRender}\n                        style={{ margin: \"-1px 0\"}}\n                    />\n                    \n                    <PrivateComponent blue={this.props.blueCollar}>\n                        <h1>Días pendientes de revisión</h1>\n                        <Table dataSource={this.state.diasPorAprobar} columns={this.state.columns || []} />\n                    </PrivateComponent>\n                </Frame>\n                <Modal\n                    visible={this.state.modalPedirDia}\n                    onCancel={() => this.setState({ modalPedirDia: false })}\n                    footer={[\n                        <Button key=\"libre\" onClick={() => this.solicitarDia( this.state.dia, \"libre\")}>Día libre</Button>,\n                        <Button key=\"remoto\" type=\"primary\" onClick={() => this.solicitarDia( this.state.dia, \"remoto\")}>Día remoto</Button>\n                      ]}\n                >\n                    <p>Solicitar el día { moment(this.state.dia).format(\"DD/MM/YYYY\") } como... </p>\n                </Modal>\n            </Layout>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        dias: state.dias,\n        auth: state.auth,\n        blueCollar: state.blueCollar\n    }\n}\n\nexport default connect(mapStateToProps)(Calendario)","import React, { Component } from 'react'\nimport { Form, Icon, Input, Button, Layout, Card, Row, Col, message } from 'antd';\nimport { getHeaders, getUserInfo, getToken } from './utils/auth';\nimport { Typography } from 'antd';\nimport gql from './utils/gql';\nimport Frame from './Frame';\n\nconst { Title } = Typography;\n\nconst query = `{\n    equipos(where: {nombre: \"$nombre$\"}){\n        _id\n    }\n}`\nclass NuevoUsuario extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            errorUser: false,\n            errorEmail: false,\n            errorPw: false\n        }\n    }\n    // componentDidMount() {\n    //     // To disabled submit button at the beginning.\n    //     this.props.form.validateFields();\n    // }\n    \n    solicitarAcceso = e => {\n        e.preventDefault()\n        this.props.form.validateFields((err, values) => {\n            fetch(process.env.REACT_APP_API_URL + gql(query, { nombre: values.unirse }), { headers: getHeaders() })\n                .then(response => {\n                    console.log(response)\n                    response.json().then(data => {\n                        console.log(data)\n                        if(data.data.equipos[0]){\n                            fetch(process.env.REACT_APP_API_URL + \"/users/\" + getUserInfo()._id, {\n                                method: \"PUT\",\n                                headers: getHeaders(),\n                                body: JSON.stringify({\n                                    equipo: data.data.equipos[0]._id,\n                                    confirmed: false\n                                })\n                            }).then(data => {\n                                console.log(data)\n                                if(data.ok){\n                                    message.info(`Se ha solicitado con éxito el acceso al equipo \"${values.unirse}\"`)\n                                }\n                            })\n                        }\n                        else{\n                            message.error(`No se ha encontrado ningún equipo \"${values.unirse}\"`); \n                        }\n                    }).catch(err => console.log(err))\n                }).catch(err => console.log(err))\n        })\n    }\n\n    crearEquipo = e => {\n        e.preventDefault()\n        this.props.form.validateFields((err, values) => {\n            fetch(process.env.REACT_APP_API_URL + \"/equipos\", {\n                method: \"POST\",\n                headers: getHeaders(),\n                body: JSON.stringify({\n                    nombre: values.crear,\n                    users: [getUserInfo()._id]\n                })\n            }).then(response => {\n                response.json().then(data => {\n                    fetch(process.env.REACT_APP_API_URL + \"/users/\" + getUserInfo()._id, {\n                        method: \"PUT\",\n                        headers: getHeaders(),\n                        body: JSON.stringify({\n                            confirmed: true,\n                            manager: true\n                        })\n                    }).then(() => {\n                        this.props.history.push(\"/\")\n                    })\n                }).catch(err => { console.log(err); message.error(\"Se ha producido un error al asignar el usuario al equipo recien creado\") })\n            }).catch(err => { console.log(err); message.error(\"Se ha producido un error al crear el equipo\") })\n        })\n    }   \n\n    render(){\n        const { getFieldDecorator, getFieldError, isFieldTouched } = this.props.form;\n        const unirseError = isFieldTouched('unirse') && getFieldError('unirse');\n        const crearError = isFieldTouched('crear') && getFieldError('crear');\n\n        return (\n            <Layout style={{ height: \"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <Layout.Content style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\" }}>\n                        <Form onSubmit={this.handleSubmit}>\n                            <Card style={{ width: 450, maxWidth: \"90%\", marginBottom: \"1em\" }}>\n                                <Title level={2}>Unirse a un equipo</Title>\n                                <Form.Item\n                                    validateStatus={( unirseError || this.state.errorUnirse ) ? 'error' : ''}\n                                    help={unirseError || ''}\n                                    >\n                                    { getFieldDecorator('unirse', { rules: [{ required: true, message: 'Introduce el nombre del equipo' }] })(\n                                        <Input \n                                            onChange={e => this.setState({ pw: e.target.value })} \n                                            prefix={<Icon type=\"team\" style={{ color: 'rgba(0,0,0,.25)' }} />} \n                                            type=\"text\" \n                                            placeholder=\"Nombre del equipo al que te quieres unir\" \n                                        />\n                                    )}\n                                </Form.Item>\n                                <Form.Item>\n                                    <Row>\n                                        <Col style={{ justifyContent: \"center\", display: \"flex\" }}>\n                                            <Button type=\"primary\" onClick={this.solicitarAcceso}>\n                                                Solicitar acceso\n                                            </Button>\n                                        </Col>\n                                    </Row>\n                                </Form.Item>\n                            </Card>\n                            <Card style={{ width: 450, maxWidth: \"90%\" }}>\n                                <Title level={2}>Crear un equipo</Title>\n                                <Form.Item\n                                    validateStatus={( crearError || this.state.errorCrear ) ? 'error' : ''}\n                                    help={crearError || ''}\n                                    >\n                                    { getFieldDecorator('crear', { rules: [{ required: true, message: 'Introduce el nombre del equipo' }] })(\n                                        <Input \n                                            onChange={e => this.setState({ pw: e.target.value })} \n                                            prefix={<Icon type=\"usergroup-add\" style={{ color: 'rgba(0,0,0,.25)' }} />} \n                                            type=\"password\" \n                                            placeholder=\"Nombre del equipo a crear\" \n                                        />\n                                    )}\n                                </Form.Item>\n                                <Form.Item>\n                                    <Row>\n                                        <Col style={{ justifyContent: \"center\", display: \"flex\" }}>\n                                            <Button type=\"primary\" onClick={this.crearEquipo}>\n                                                Crear equipo\n                                            </Button>\n                                        </Col>\n                                    </Row>\n                                </Form.Item>\n                            </Card>\n                        </Form>\n                    </Layout.Content>\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nexport default Form.create({ name: 'nuevousuario_form' })(NuevoUsuario)\n\n\n\n","import React, { Component } from 'react'\nimport { Layout, Upload, Icon, message, Table, Button, Select, Tag, Popconfirm, Checkbox, Collapse } from 'antd'\nimport Frame from './Frame';\nimport { getUserInfo, getToken } from './utils/auth';\nimport gql from './utils/gql';\nimport { connect } from 'react-redux'\nimport { fetchDocumentos } from './actions'\nimport request from './utils/request';\n\nconst query = `{\nuser(id:\"$userId$\"){\n    documentos{\n        _id\n    }\n}}`  \n\nclass Documentos extends Component{\n\n    state = {\n        fileList: [],\n        asociarA: [],\n        userInfo: getUserInfo(),\n        selectedUser: {documentos: []},\n        disponibleParaTodos: true,\n        columns: [{\n            title: 'Nombre de usuario',\n            dataIndex: 'username',\n            key: 'username',\n        }, {\n            title: 'Email',\n            dataIndex: 'email',\n            key: 'email',\n        }],\n        misArchColumns: [{\n            title: 'Nombre de archivo',\n            dataIndex: 'name',\n            key: 'name',\n        }, {\n            key: \"archivo\",\n            render: file => (\n                <div key={file._id} style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n                    <a href={process.env.REACT_APP_API_URL + file.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                        <Tag color=\"geekblue\" key={`${file._id}_file`}><Icon type=\"file-text\" /> Enlace</Tag>\n                    </a>\n                    <Popconfirm \n                        title={`¿Estás seguro de que deseas desvincular ${file.name} de ${this.state.selectedUser.username}?`} \n                        onConfirm={() => this.desvincularArchivo(file, this.state.selectedUser)}>\n                        <Tag color=\"orange\" key={`${file._id}_file`}><Icon type=\"disconnect\" /> Desvincular</Tag>\n                    </Popconfirm>\n                    <Popconfirm \n                        title={`¿Estás seguro de que deseas borrar ${file.name}? Esto borrará el archivo para todos los usuarios`} \n                        onConfirm={() => this.borrarArchivo(file)}\n                        icon={<Icon type=\"warning\" style={{ color: 'red' }} />}\n                    >\n                        <Tag color=\"volcano\" key={`${file._id}_file`}><Icon type=\"delete\" /> Borrar</Tag>\n                    </Popconfirm>\n                </div>\n            )\n        }],\n        archGlobColumns: [{\n            title: 'Nombre de archivo',\n            dataIndex: 'name',\n            key: 'name',\n        }, {\n            key: \"archivo\",\n            render: file => (\n                <div key={file._id} style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n                    <a href={process.env.REACT_APP_API_URL + file.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                        <Tag color=\"geekblue\" key={`${file._id}_file`}><Icon type=\"file-text\" /> Enlace</Tag>\n                    </a>\n                    <Popconfirm \n                        title={`¿Estás seguro de que deseas borrar ${file.name}? Esto borrará el archivo para todos los usuarios`} \n                        onConfirm={() => this.borrarArchivo(file)}\n                        icon={<Icon type=\"warning\" style={{ color: 'red' }} />}\n                    >\n                        <Tag color=\"volcano\" key={`${file._id}_file`}><Icon type=\"delete\" /> Borrar</Tag>\n                    </Popconfirm>\n                </div>\n            )\n        }],\n        archUserColumns: [{\n            title: 'Nombre de archivo',\n            dataIndex: 'name',\n            key: 'name',\n        }, {\n            key: \"archivo\",\n            render: file => (\n                <div key={file._id} style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n                    <a href={process.env.REACT_APP_API_URL + file.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                        <Tag color=\"geekblue\" key={`${file._id}_file`}><Icon type=\"file-text\" /> Enlace</Tag>\n                    </a>\n                </div>\n            )\n        }]\n    }\n\n    componentDidMount(){\n        this.setState({ selectedUser: this.props.usuarios.find(u => u.username === getUserInfo().username) })\n    }\n\n    componentDidUpdate(prevProps){\n        if(prevProps.usuarios !== this.props.usuarios){\n            this.setState({ selectedUser: this.props.usuarios.find(u => u.username === getUserInfo().username) })\n        }\n    }\n\n    rowSelection = {\n        onChange: (selectedRowKeys, selectedRows) => {\n            this.setState({ asociarA: selectedRows.map(u => u._id) })\n        },\n        getCheckboxProps: record => ({\n            disabled: record.name === 'Disabled User', // Column configuration not to be checked\n            name: record.name,\n        }),\n    };\n\n    desvincularArchivo = async (file, user) => {\n        const docId = this.state.selectedUser.documentos.find(d => d.archivo._id === file._id)._id\n        const documento = await request(\"/documentos/\" + docId)\n        const users = documento.users.filter(u => u._id !== user._id)\n        request(\"/documentos/\" + docId, {\n            method: \"PUT\",\n            body: { users }\n        }).then(data => {\n            message.info(\"El archivo se desvinculó correctamente\")\n            this.props.dispatch(fetchDocumentos())\n        }).catch(err => {\n            console.log(err)\n            message.error(\"Se produjo un error durante la desvinculación del documento\")\n        })\n    }\n\n    borrarArchivo = async file => {\n        const docId = this.props.documentos.find(d => d.archivo._id === file._id)._id\n        request(\"/upload/files/\" + file._id, {\n            method: \"DELETE\"\n        }).then(data => {\n            request(\"/documentos/\" + docId, {\n                method: \"DELETE\"\n            }).then(data => {\n                message.info(\"El archivo se borró correctamente\")\n                this.props.dispatch(fetchDocumentos())\n            }).catch(err => {\n                console.log(err)\n                message.error(\"Se produjo un error durante el borrado del documento\")\n            })\n        })\n          .catch(err => {\n            console.log(err)\n            message.error(\"Se produjo un error durante el borrado del documento\")\n        })\n    }\n\n    handleUpload = async () => {\n        try{\n            const promisingPromises = this.state.fileList.map(async file => {\n                console.log()\n                const doc = await request(\"/documentos\", { method: \"POST\", body: { global: this.state.disponibleParaTodos } })\n                const body = new FormData();\n                body.append(\"ref\", \"documento\");\n                body.append(\"refId\", doc._id);\n                body.append(\"field\", \"archivo\");\n                body.append(\"files\", file);\n                request(\"/upload\", {\n                    method: \"POST\",\n                    headers: {\"Authorization\": \"Bearer \" + getToken()},\n                    body\n                }, false)\n                return doc._id\n            })\n            const arrayArchivos = await Promise.all(promisingPromises)\n            console.log(arrayArchivos)\n            if(this.state.asociarA.length === 0 && !this.state.disponibleParaTodos){\n                message.error(\"El documento no está asociado a ningún usuario\")\n            }\n            else if(!this.state.disponibleParaTodos){\n                const promesitas = this.state.asociarA.map(async userId => {\n                    const antDocus = (await request(gql(query, { userId }))).data.user.documentos\n                    return request(\"/users/\" + userId, {\n                        method: \"PUT\",\n                        body: {\n                            documentos: [...antDocus, ...arrayArchivos]\n                        }\n                    })\n                })\n                Promise.all(promesitas).then(() => {\n                    message.info(\"Los documentos se han subido correctamente\")\n                    this.props.dispatch(fetchDocumentos())\n                    this.setState({\n                        mostrarListaUsuarios: false,\n                        fileList: []\n                    })\n                })\n            }\n            else{\n                message.info(\"Los documentos se han subido correctamente\")\n                this.props.dispatch(fetchDocumentos())\n                this.setState({\n                    mostrarListaUsuarios: false,\n                    fileList: []\n                })\n            }\n        }\n        catch(err){\n            console.log(err)\n            message.error(\"Ocurrió un error durante la subida de documentos\")\n        }\n    }\n\n    render(){\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <h1>Documentos</h1>\n                    {(this.state.userInfo.manager && !this.props.blueCollar ) && [ \n                        <div key=\"sa\" style={{ marginBottom: 50 }}>\n                            <h2>Subir archivo</h2>\n                            <div style={{ width: \"320px\", marginBottom: 20 }}>\n                                <Upload.Dragger \n                                    name='file'\n                                    action={ process.env.REACT_APP_API_URL + '/upload' }\n                                    multiple={true}\n                                    onChange={(info) => {\n                                        const status = info.file.status;\n                                        if (status !== 'uploading') {\n                                            //console.log(info.file, info.fileList);\n                                            if(info.fileList.length === 0){\n                                                this.setState({ mostrarListaUsuarios: false })\n                                            }\n                                        }\n                                        if (status === 'done') {\n                                            message.success(`${info.file.name} se ha subido correctamente.`);\n                                        } else if (status === 'error') {\n                                            message.error(`La subida de ${info.file.name} falló.`);\n                                        }\n                                    }} \n                                    beforeUpload={(file, fileList) => {\n                                        this.setState({ \n                                            fileList,\n                                            mostrarListaUsuarios: true \n                                        })\n                                        return false\n                                    }}\n                                    fileList={this.state.fileList}\n                                    onRemove={file => {\n                                        const fileList = this.state.fileList.filter(f => f.uid !== file.uid)\n                                        this.setState({ fileList, mostrarListaUsuarios: fileList.length > 0 ? true : false })\n                                    }}\n                                >\n                                    <Icon type=\"inbox\" />\n                                    <p>Arrastra documentos aquí</p>\n                                </Upload.Dragger>\n                            </div>\n                            { this.state.mostrarListaUsuarios &&\n                                <div style={{ display: \"flex\", flexDirection: \"column\"}}>\n                                    <Checkbox style={{ marginBottom: 20 }} checked={this.state.disponibleParaTodos} onChange={e => this.setState({ disponibleParaTodos: e.target.checked })}>Disponible para todos los usuarios</Checkbox>\n                                    <Collapse className=\"sinCabecera\" bordered={false} activeKey={ this.state.disponibleParaTodos ? \"0\" : \"1\"}>\n                                        <Collapse.Panel key=\"1\">\n                                            <h3 key=\"asociarTitle\">Asociar archivo a:</h3>\n                                            <Table key=\"asociarTabla\" rowSelection={this.rowSelection} dataSource={this.props.usuarios} columns={this.state.columns} />\n                                        </Collapse.Panel>\n                                    </Collapse>\n                                    <div>\n                                        <Button onClick={this.handleUpload}>Subir documentos</Button>\n                                    </div>\n                                </div>\n                            }\n                        </div>,\n                        <div key=\"apu\">\n                            <h2>Archivos por usuario</h2>\n                            <Select\n                                showSearch\n                                style={{ width: 200, marginBottom: 20 }}\n                                placeholder=\"Selecciona un usuario\"\n                                defaultValue={getUserInfo().username}\n                                optionFilterProp=\"children\"\n                                onChange={op => {\n                                    const selectedUser = this.props.usuarios.find(u => u.username === op)\n                                    this.setState({ selectedUser })\n\n                                }}\n                                filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                            >\n                                { this.props.usuarios.map(u => \n                                    <Select.Option value={u.username} key={u._id}>{u.username}</Select.Option>\n                                )}\n                            </Select>\n                            {\n                                this.state.selectedUser && \n                                    <Table \n                                        // dataSource={this.state.selectedUser.documentos.map(d => d.archivo)} \n                                        dataSource={this.props.documentos.filter(d => d.users.map(u => u._id).includes(this.state.selectedUser._id)).map(d => d.archivo)} \n                                        columns={this.state.misArchColumns}\n                                        rowKey=\"_id\"\n                                    ></Table>\n                            }\n\n                            <h2 style={{ marginTop: 20 }}>Archivos globales</h2>\n                            <Table \n                                dataSource={this.props.documentos.filter(d => d.global).map(d => d.archivo)} \n                                columns={this.state.archGlobColumns}\n                                rowKey=\"_id\"\n                            ></Table>\n                        </div>\n                    ]}\n                    { (!this.state.userInfo.manager || this.props.blueCollar ) &&\n                        <div>\n                            <h2>Mis archivos</h2>\n                            <Table \n                                dataSource={this.props.documentos.filter(d => this.state.userInfo.documentos.includes(d._id) || d.global).map(d => d.archivo)} \n                                columns={this.state.archUserColumns}\n                                rowKey=\"_id\"\n                            ></Table>\n                        </div>\n                    }\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        usuarios: state.usuarios,\n        documentos: state.documentos,\n        blueCollar: state.blueCollar\n    }\n}\n\nexport default connect(mapStateToProps)(Documentos)","import React, { Component } from 'react'\nimport { Layout, Table, Tag, Popconfirm, message, Icon, Button, Modal } from 'antd'\nimport Frame from './Frame';\nimport { socketConnect } from 'socket.io-react';\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { fetchUsuarios } from './actions'\nimport request from './utils/request';\nimport { getToken, getUserInfo } from './utils/auth';\n\n\nclass Usuarios extends Component{\n\n    state = {\n        columns: [],\n        extraColumnsA: [],\n        extraColumnsA2: [],\n        extraColumnsB: []\n    }\n\n    componentDidMount() {\n        this.cargaColumnas();\n        if(this.props.usuarios){\n            this.filtraUsuarios(this.props.usuarios) \n        }\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if(prevProps.usuarios !== this.props.usuarios){\n            this.filtraUsuarios(this.props.usuarios)\n        }\n        else if(prevState.modalAsociar !== this.state.modalAsociar){\n            if( this.state.modalAsociar ){\n                this.props.socket.on('notification', msg => {\n                    console.log(msg)\n                    if(!this.props.usuarios.map(u => u.idcard).includes(msg.es)){\n                        request(\"/users/\" + this.state.usuarioAsociar, {\n                            method: \"PUT\",\n                            body: {\n                                idcard: msg.es && msg.es.idcard\n                            }\n                        }).then(data => {\n                            message.info(\"La tarjeta ha sido asociada correctamente\")\n                            this.fetchUsers()\n                            this.setState({ modalAsociar: false, usuarioAsociar: undefined })\n                        }).catch(err => {\n                            message.error(\"Se produjo un error durante el proceso de asociación de la tarjeta\")\n                            console.log(err)\n                            this.setState({ modalAsociar: false, usuarioAsociar: undefined })\n                        })\n                    }\n                    else{\n                        message.error(\"Esa tarjeta ya está asociada a un usuario. Desasociela antes de reasignarla.\")\n                    }\n                })\n            }\n            else{\n                this.props.socket.off('notification')\n            }\n        }\n        else if(prevProps.blueCollar !== this.props.blueCollar){\n            this.cargaColumnas();\n        }\n    }\n\n    cargaColumnas = () => {\n        const columns = [{\n            title: 'Nombre de usuario',\n            dataIndex: 'username',\n            key: 'username',\n        }, {\n            title: 'Email',\n            dataIndex: 'email',\n            key: 'email',\n        }]\n\n        const extraColumnsA = (getUserInfo().manager && !this.props.blueCollar) ? [{\n            title: 'Manager',\n            dataIndex: 'manager',\n            render: bool => bool ? <Icon type=\"check-circle\" theme=\"twoTone\" twoToneColor=\"#eb2f96\" twoToneColor=\"#52c41a\"/> : <Icon type=\"close-circle\" theme=\"twoTone\" twoToneColor=\"#eb2f96\"/>\n        }, {\n            title: 'ID Tarjeta',\n            key: 'idcard',\n            render: (text, record) => {\n                return record.idcard ? \n                    <div>\n                        <span>{record.idcard}&nbsp;&nbsp;</span>\n                        <Popconfirm title={`¿Estás seguro de que deseas desasociar la tarjeta de ${record.email}?`} onConfirm={evt => this.desasociarTarjeta(record)}>\n                            <Tag color=\"volcano\" key={`${record._id}_denegar`}><Icon type=\"delete\" /></Tag>\n                        </Popconfirm>\n                    </div>\n                    : <Button type=\"primary\" onClick={() => this.setState({ modalAsociar: true, usuarioAsociar: record._id })}>Asociar tarjeta</Button>\n            }\n        }] : []\n        \n        const extraColumnsA2 = [{\n            key: 'btn',\n            render: (text, record) => (\n                <Link to={\"/usuario/\" + record._id}>\n                    <Tag key={`${record._id}_denegar`}><Icon type=\"user\" /> Editar</Tag>\n                </Link>\n            )\n        }]\n\n        const extraColumnsB = [{\n            title: 'Acción',\n            key: 'action',\n            render: (text, record) => (\n              <span>\n                <Popconfirm title={`¿Estás seguro de que deseas aceptar en ${record.equipo && record.equipo.nombre} a ${record.email}?`} onConfirm={evt => this.responderSolicitud(record, true)}>\n                    <Tag color=\"green\" key={`${record._id}_aceptar`}>Aceptar</Tag>\n                </Popconfirm>\n                <Popconfirm title={`¿Estás seguro de que deseas denegar la solicitud de ${record.email} para entrar en ${record.equipo && record.equipo.nombre}?`} onConfirm={evt => this.responderSolicitud(record, false)}>\n                    <Tag color=\"volcano\" key={`${record._id}_denegar`}>Denegar</Tag>\n                </Popconfirm>\n              </span>\n            ),\n        }]\n        this.setState({ columns, extraColumnsA, extraColumnsA2, extraColumnsB })\n    }\n\n    filtraUsuarios = usuarios => {\n        const activos = this.props.usuarios.filter(u => u.confirmed).map(u => ({...u, key: u._id}))\n        const pendientes = this.props.usuarios.filter(u => !u.confirmed).map(u => ({...u, key: u._id}))\n        this.setState({ activos, pendientes })\n    }\n\n    fetchUsers = async () => {\n        await this.props.dispatch(fetchUsuarios())\n        this.filtraUsuarios(this.props.usuarios)\n    }\n\n    responderSolicitud = (usuario, bool) => {\n        if(bool){ //Aceptar\n            request(\"/users/\" + usuario._id, {\n                method: \"PUT\",\n                body: { confirmed: true }\n            }).then(resp => {\n                message.success(`¡${usuario.email} ahora forma parte del equipo ${usuario.equipo.nombre}!`)\n                this.fetchUsers()\n            }).catch(err => {\n                console.error(err)\n                message.error(\"Se ha producido un error durante la confirmación de la solicitud del usuario\")                    \n            })\n        }\n        else{ //Denegar\n            request(\"/users/\" + usuario._id, {\n                method: \"DELETE\",\n            }).then(resp => {\n                message.info(\"La solicitud se ha denegado correctamente\")\n                this.fetchUsers()               \n            }).catch(err => {\n                message.error(\"Se ha producido un error durante la denegación de la solicitud del usuario\")       \n                console.error(err)\n            })\n        }\n    }\n\n    desasociarTarjeta = usuario => {\n        console.log(usuario)\n        request(\"/users/\" + usuario._id, {\n            method: \"PUT\",\n            body: {\n                idcard: \"\"\n            }\n        }).then(() => this.fetchUsers())\n    }\n    \n    render(){\n        const { activos, pendientes, columns, extraColumnsA, extraColumnsA2, extraColumnsB } = this.state\n        //console.log(columns)\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <h1>Usuarios activos</h1>\n                    <Table dataSource={activos} columns={[...columns, ...extraColumnsA, ...extraColumnsA2 ]} />\n                    {\n                        (getUserInfo().manager && !this.props.blueCollar) && [\n                            <h1 key=\"pendAprobTitle\">Usuarios pendientes de aprobación</h1>,\n                            <Table key=\"pendAprobTable\" dataSource={pendientes} columns={[...columns, ...extraColumnsB]} />\n                        ]\n                    }\n                </Frame>\n                <Modal\n                    visible={this.state.modalAsociar}\n                    onOk={e => e}\n                    onCancel={() => this.setState({ modalAsociar: false, usuarioAsociar: undefined })}\n                    footer={[\n                        <Button key=\"back\" type=\"primary\" onClick={() => this.setState({ modalAsociar: false, usuarioAsociar: undefined })}>Cancelar</Button>,\n                    ]}\n                >\n                    <p>Acerca la tarjeta al lector sin cerrar esta ventana para asociarla al usuario</p>\n                </Modal>\n            </Layout>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        usuarios: state.usuarios,\n        blueCollar: state.blueCollar\n    }\n}\n\nexport default socketConnect(connect(mapStateToProps)(Usuarios))","import React, { Component } from 'react'\nimport { getToken, getUserInfo } from './utils/auth';\nimport { Layout, Input, Form, Radio, Button, message, DatePicker, Tag, Icon, Divider, Switch, Select } from 'antd'\nimport { connect } from 'react-redux'\nimport request from './utils/request'\nimport Frame from './Frame';\nimport { fetchUsuarios, fetchES, fetchAuth } from './actions'\nimport PrivateComponent from './PrivateComponent';\nimport moment from 'moment';\n\nclass EditUsuario extends Component{\n\n    state = {\n        usuario: {},\n        duracionjornada: \"\",\n        frasesStr: \"\",\n        frases: [],\n        frasePr: \"\",\n        frasePrAct: false,\n        manager: undefined,\n        inicioContrato: moment(),\n        correccion: []\n    }\n\n    componentDidMount(){\n        if(this.props.usuarios.length > 0){\n            const usuario = this.props.usuarios.find(u => u._id === this.props.match.params.id) \n            console.log(usuario)\n            this.setState({ \n                duracionjornada: usuario.duracionjornada,\n                frasesStr: usuario.frases.reduce((a, b) => a + b + \"\\n\", \"\"),\n                frases: usuario.frases,\n                frasePr: usuario.frasePrioritaria,\n                frasePrAct: usuario.actFrasePrioritaria,\n                correccion: usuario.correccion || [],\n                tipocontrato: usuario.tipocontrato,\n                inicioContrato: usuario.iniciocontrato ? moment(usuario.iniciocontrato) : null,\n                finalContrato: usuario.finalcontrato ? moment(usuario.finalcontrato) : null,\n                indefinido: usuario.indefinido,\n                manager: usuario.manager,\n                usuario\n            })\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if(this.props.usuarios && this.props.usuarios !== prevProps.usuarios){\n            const usuario = this.props.usuarios.find(u => u._id === this.props.match.params.id) \n            console.log(usuario)\n            this.setState({ \n                duracionjornada: usuario.duracionjornada,\n                frasesStr: usuario.frases.reduce((a, b) => a + b + \"\\n\", \"\"),\n                frases: usuario.frases,\n                frasePr: usuario.frasePrioritaria,\n                frasePrAct: usuario.actFrasePrioritaria,\n                correccion: usuario.correccion || [],\n                tipocontrato: usuario.tipocontrato,\n                inicioContrato: usuario.iniciocontrato ? moment(usuario.iniciocontrato) : null,\n                finalContrato: usuario.finalcontrato ? moment(usuario.finalcontrato) : null,\n                indefinido: usuario.indefinido,\n                manager: usuario.manager,\n                usuario\n            })\n        }\n        else if( this.state.frasesStr !== prevState.frasesStr ){\n            this.setState({ frases: this.state.frasesStr.split(/\\n/gm) })\n        }\n    }\n\n    guardarFrases = () => {\n        request(\"/users/\" + this.state.usuario._id, {\n            method: \"PUT\",\n            body: {\n                frases: this.state.frases.filter(f => ![undefined, null, \"\"].includes(f)),\n                frasePrioritaria: this.state.frasePr,\n                actFrasePrioritaria: this.state.frasePrAct,\n            }\n        }).then(data => {\n            message.success(\"Los cambios se guardaron correctamente\")\n            this.props.dispatch(fetchUsuarios())\n        }).catch(err => {\n            console.log(err)\n            message.error(\"Se produjo un error durante el guardado\")\n        })\n    }\n\n    guardarDatosSerios = () => {\n        if(this.state.duracionjornada > 0 && this.state.duracionjornada < 24){\n            request(\"/users/\" + this.state.usuario._id, {\n                method: \"PUT\",\n                body: {\n                    manager: this.state.manager,\n                    duracionjornada: this.state.duracionjornada,\n                    iniciocontrato: this.state.inicioContrato ? this.state.inicioContrato.utc().format() : undefined,\n                    finalcontrato: this.state.finalContrato ? this.state.finalContrato.utc().format() : undefined,\n                    indefinido: this.state.indefinido,\n                    tipocontrato: this.state.tipocontrato,\n                    correccion: this.state.correccion.filter(c => c.ano !== undefined && c.correccion !== undefined )\n                }\n            }).then(data => {\n                //console.log(data)\n                message.success(\"Los cambios se guardaron correctamente\")\n                this.props.dispatch(fetchES())\n                this.props.dispatch(fetchUsuarios())\n                this.props.dispatch(fetchAuth())\n            }).catch(err => {\n                console.log(err)\n                message.error(\"Se produjo un error durante el guardado\")\n            })\n        }\n        else{\n            message.error(\"La duración media de la jornada ha de estar entre 0 y 24\")\n        }\n    }\n\n    handleCorreccion = (valor, i, campo) => {\n        let correccion = [...this.state.correccion]\n        correccion[i][campo] = valor\n        this.setState({  correccion })\n    }\n\n    render(){\n        const { usuario, correccion } = this.state\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <h1>{ usuario.username }</h1>\n                    <PrivateComponent blue={this.props.blueCollar}>\n                        <Form.Item key=\"editUserJornada\" label=\"Duración media de su jornada laboral\">\n                            <Input type=\"number\" value={this.state.duracionjornada} onChange={e => this.setState({ duracionjornada: e.target.value })} />\n                        </Form.Item>\n                        <Form.Item key=\"tipoContrato\" label=\"Tipo de contrato\">\n                            <Select value={this.state.tipocontrato} onChange={tipocontrato => this.setState({ tipocontrato })} style={{ width: 300 }}>\n                                <Select.Option value=\"contratado\">Contratado</Select.Option>\n                                <Select.Option value=\"practicas\">Prácticas</Select.Option>\n                            </Select>\n                        </Form.Item>\n                        <Form.Item key=\"inicioContrato\" label=\"Fecha de inicio de contrato\">\n                            <DatePicker value={this.state.inicioContrato} onChange={inicioContrato => this.setState({ inicioContrato })} />\n                        </Form.Item>\n                        <Form.Item key=\"finalContrato\" label=\"Fecha de final de contrato\">\n                            { !this.state.indefinido && (\n                                <div>\n                                    <DatePicker value={this.state.finalContrato} onChange={finalContrato => this.setState({ finalContrato })} />\n                                    <br />\n                                </div>\n                            )}\n                            <span>Indefinido&nbsp;<Switch checked={this.state.indefinido} onChange={e => this.setState({ indefinido: e })}/></span>\n                        </Form.Item>\n                        <Form.Item key=\"compensacionDias\" label=\"Corrección de días de vacaciones\">\n                            { correccion.map((c, i) => (\n                                <div style={{ display: \"flex\" }}>\n                                    <Input \n                                        type=\"number\" \n                                        placeholder=\"Año\" \n                                        style={{ marginRight: 20 }} \n                                        value={ this.state.correccion[i].ano } \n                                        onChange={evt => this.handleCorreccion(evt.target.value, i, \"ano\")} \n                                    />\n                                    <Input \n                                        type=\"number\" \n                                        placeholder=\"Corrección\" \n                                        style={{ marginRight: 20 }} \n                                        value={ this.state.correccion[i].correccion } \n                                        onChange={evt => this.handleCorreccion(evt.target.value, i, \"correccion\")} \n                                    />\n                                    <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                                        <Tag color=\"volcano\" onClick={() => this.setState({ correccion: correccion.filter((c, j) => j !== i )})}>\n                                            <Icon type=\"delete\" />\n                                        </Tag>\n                                    </div>\n                                </div>\n                            ))}\n                            <Button onClick={() => this.setState({ correccion: [...this.state.correccion, {}]})}>Añadir año</Button>\n                        </Form.Item>\n                        <Form.Item key=\"editUserManager\" label=\"Manager\">\n                            <Radio.Group  value={ this.state.manager }>\n                                <Radio.Button value={true} onClick={() => this.setState({ manager: true })}>Sí</Radio.Button>\n                                <Radio.Button value={false} onClick={() => this.setState({ manager: false })}>No</Radio.Button>\n                            </Radio.Group>\n                        </Form.Item>\n                        <Button onClick={this.guardarDatosSerios}>Guardar datos del usuario</Button>\n                        <Divider />\n                    </PrivateComponent>\n                    <Form.Item label=\"Frases (una por línea)\">\n                        <Input.TextArea rows={6} value={this.state.frasesStr} onChange={e => this.setState({ frasesStr: e.target.value })} />\n                    </Form.Item>\n                    <Form.Item label=\"Frase prioritaria\">\n                        <Input type=\"text\" value={this.state.frasePr} onChange={e => this.setState({ frasePr: e.target.value })}/>\n                        <Radio.Group value={ this.state.frasePrAct }>\n                            <Radio.Button value={true} onClick={() => this.setState({ frasePrAct: true })}>Activada</Radio.Button>\n                            <Radio.Button value={false} onClick={() => this.setState({ frasePrAct: false })}>Desactivada</Radio.Button>\n                        </Radio.Group>\n                    </Form.Item>\n                    <Button onClick={this.guardarFrases}>Guardar frases</Button>\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        usuarios: state.usuarios,\n        blueCollar: state.blueCollar\n    }\n}\n\nexport default connect(mapStateToProps)(EditUsuario)","import React, { Component } from 'react'\nimport { getToken } from './utils/auth';\nimport { Layout } from 'antd'\nimport Frame from './Frame';\n\n\nclass Analitica extends Component{\n    render(){\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <h1>Analitica</h1>\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nexport default Analitica","import React, { Component } from 'react'\nimport { Select, Form, DatePicker, TimePicker, Button, message } from 'antd'\nimport { connect } from 'react-redux'\nimport moment from 'moment'\nimport { getUserInfo } from '../utils/auth';\nimport request from '../utils/request';\n\nclass ModuloRegistros extends Component{\n\n    addRegistro = async () => {\n        const idUser = this.props.usuario || this.state.selectedUser._id || undefined\n        if(![this.state.fechaNuevoRegistro, this.state.horaEntradaNuevoRegistro, this.state.horaSalidaNuevoRegistro, idUser].includes(undefined)){\n            const fechaEntrada = this.state.fechaNuevoRegistro.clone().hour(this.state.horaEntradaNuevoRegistro.hour()).minute(this.state.horaEntradaNuevoRegistro.minute())\n            const fechaSalida = this.state.fechaNuevoRegistro.clone().hour(this.state.horaSalidaNuevoRegistro.hour()).minute(this.state.horaSalidaNuevoRegistro.minute())\n\n            const ePasado = fechaEntrada.isBefore(moment())\n            const sPasado = fechaSalida.isBefore(moment())\n            const eAntesDeS = fechaEntrada.isBefore(fechaSalida)\n\n            if( ePasado && sPasado && eAntesDeS ){\n                const registroEntrada = {\n                    user: idUser,\n                    fecha: moment.utc(fechaEntrada).format(),\n                    ultimoEditor: getUserInfo()._id,\n                    aprobado: getUserInfo().manager ? true : false\n                }\n                const registroSalida = {\n                    user: idUser,\n                    fecha: moment.utc(fechaSalida).format(),\n                    ultimoEditor: getUserInfo()._id,\n                    aprobado: getUserInfo().manager ? true : false\n                }\n\n                try{\n                    const respEntrada = await request(\"/registros\", { method: \"POST\", body: registroEntrada })\n                    const respSalida = await request(\"/registros\", { method: \"POST\", body: registroSalida })\n                    // console.log({ respEntrada, respSalida })\n                    if( getUserInfo().manager === true ){\n                        message.success(\"El registro se añadió correctamente\")\n                    }\n                    else {\n                        message.success(\"El registro se añadió correctamente, actualmente está pendiente de aprobación\")\n                    }\n                    if(this.props.cerrarModal){ this.props.cerrarModal() }\n                    this.setState({ \n                        fechaNuevoRegistro: undefined,\n                        horaEntradaNuevoRegistro: undefined,\n                        horaSalidaNuevoRegistro: undefined\n                    })\n                }\n                catch(err){\n                    console.log(err)\n                    message.error(\"Se produjo un error durante el guardado del registro\")\n                }\n            }\n            else{\n                if(!ePasado){ message.error(\"La hora de entrada es inválida\") }\n                if(!sPasado){ message.error(\"La hora de salida es inválida\") }\n                if(!eAntesDeS ){ message.error(\"La hora de entrada ha de ser anterior a la de salida\") }\n            }\n        }\n        else{ message.warning(\"Faltan campos por completar\") }\n    }\n\n    render(){\n        const Option = Select.Option\n        return(\n            <div>\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", flexWrap: \"wrap\" }}>\n                    {!this.props.usuario &&\n                        <Form.Item label=\"Usuario\">\n                            <Select\n                                showSearch\n                                style={{ width: 200, marginBottom: 20 }}\n                                placeholder=\"Selecciona un usuario\"\n                                optionFilterProp=\"children\"\n                                onChange={op => {\n                                    const selectedUser = this.props.usuarios.find(u => u.username === op)\n                                    this.setState({ selectedUser })\n\n                                }}\n                                filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                                style={{ width: 250 }}\n                            >\n                                { this.props.usuarios.map(u => \n                                    <Option value={u.username} key={u._id}>{u.username}</Option>\n                                )}\n                            </Select>\n                        </Form.Item>\n                    }\n                    <Form.Item label=\"Fecha\">\n                        <DatePicker onChange={fechaNuevoRegistro => this.setState({ fechaNuevoRegistro })} style={{ width: 250 }}/>\n                    </Form.Item>\n                    <Form.Item label=\"Hora de entrada\">\n                        <TimePicker onChange={horaEntradaNuevoRegistro => this.setState({ horaEntradaNuevoRegistro })} style={{ width: 250 }}/>\n                    </Form.Item>\n                    <Form.Item label=\"Hora de salida\">\n                        <TimePicker onChange={horaSalidaNuevoRegistro => this.setState({ horaSalidaNuevoRegistro })} style={{ width: 250 }}/>\n                    </Form.Item>\n                </div>\n                <Button onClick={this.addRegistro}>Añadir registro</Button>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        usuarios: state.usuarios\n    }\n}\n\nexport default connect(mapStateToProps)(ModuloRegistros)\n\n\n\n","import React, { Component } from 'react'\nimport { Modal, Form, Table, Button, TimePicker, message, Icon, Popconfirm, Tag } from 'antd';\nimport { connect } from 'react-redux'\nimport moment from 'moment'\nimport { fetchES } from '../actions'\nimport { getUserInfo, getToken } from '../utils/auth';\nimport request from '../utils/request';\n\nclass ModalInfoRegistros extends Component {\n    state = {\n        datos: {},\n        datosMod: {},\n        modificado: false,\n        nuevosRegistros: [],\n        hora: moment(),\n        columns: [],\n        extraColumns: []\n    }\n\n    componentDidMount(){\n        this.cargaColumnas()\n    }\n\n    componentDidUpdate(prevProps) {\n        if((prevProps.datos !== this.props.datos) && this.props.datos){\n            this.setState({ datos: this.props.datos, datosMod: this.props.datos })\n            this.cargaColumnas()\n        }\n    }\n\n    cargaColumnas = () => {\n        const columns = [\n            { \n                key: \"a\",\n                title: \"Hora\",\n                render: row => moment(row.fecha).format(\"HH:mm\")\n            },\n            {\n                key: \"b\",\n                title: \"Evento\",\n                render: (row, mierda, i) => {\n                    if(i === 0){ return \"Entrada\" }\n                    else if(i % 2){ \n                        if(i === this.state.datosMod.registros.length - 1){ return \"Salida\" }\n                        else{ return \"Comienzo de descanso\" }\n                    }\n                    else{ return \"Final de descanso\"}\n                }\n            }\n        ]\n        const extraColumns = this.props.colAprobado ? [{\n            key: \"c\",\n            title: \"Aprobado\",\n            render: row => (\n                    row.aprobado ? <Icon type=\"check-circle\" theme=\"twoTone\" twoToneColor=\"#eb2f96\" twoToneColor=\"#52c41a\"/> : (getUserInfo().manager && !this.props.blueCollar) ?\n                    <span>\n                        <Popconfirm title={`¿Estás seguro de que deseas aprobar la jornada?`} onConfirm={() => this.jornadaPendiente(true, row)}>\n                            <Tag color=\"green\" key={`${row._id}_aceptar`}>Aceptar</Tag>\n                        </Popconfirm>\n                        <Popconfirm title={`¿Estás seguro de que deseas denegar jornada?`} onConfirm={() => this.jornadaPendiente(false, row)}>\n                            <Tag color=\"volcano\" key={`${row._id}_denegar`}>Denegar</Tag>\n                        </Popconfirm>\n                    </span> : <Icon type=\"close-circle\" theme=\"twoTone\" twoToneColor=\"#eb2f96\"/>                  \n            )\n        }] : []\n        this.setState({ columns, extraColumns })\n    }\n\n    addRegistro = () => {\n        const fecha = this.state.hora\n            .date(moment(this.state.datos.entrada).date())\n            .month(moment(this.state.datos.entrada).month())\n            .year(moment(this.state.datos.entrada).year())\n\n        if(fecha.isSameOrBefore(moment())){\n            const registros = [\n                ...this.state.datosMod.registros,\n                { fecha: fecha.utc().format() }\n            ].sort((a, b) => {\n                if(moment(a.fecha).isBefore(moment(b.fecha))){ return -1 }\n                else if(moment(a.fecha).isAfter(moment(b.fecha))){ return 1 }\n                else{ return 0 }\n            })\n\n\n            this.setState({ \n                modificado: true,\n                datosMod: {\n                    ...this.state.datosMod, \n                    registros\n                },\n                nuevosRegistros: [...this.state.nuevosRegistros, {\n                    fecha: this.state.hora.utc().format(),\n                    user: this.state.datos.registros[0].user._id,\n                    ultimoEditor: getUserInfo()._id,\n                    aprobado: getUserInfo().manager ? true : false\n                }]\n            })\n        }\n        else{\n            message.warning(\"No se pueden añadir registros por adelantado\")\n        }\n    }\n\n    guardarNuevosRegistros = () => {\n        const n = this.state.nuevosRegistros.length\n        const registros = this.state.nuevosRegistros\n        Modal.confirm({\n            title: `Por razones legales no es posible editar ni borrar registros. ¿Estás seguro de que quieres añadir ${ n>1 ? n : \"un\" } nuevo${ n>1 ? \"s\" : \"\"} registro${ n>1 ? \"s\" : \"\"}?`,\n            onOk: async () => {\n                const prom = registros.map(r => (\n                    fetch(process.env.REACT_APP_API_URL + \"/registros\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Authorization\": \"Bearer \" + getToken(),\n                            \"Accept\": \"application/json\",\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify(r)\n                    }).catch(err => err)\n                ))\n                const resp = (await Promise.all(prom)).map(r => r.status)\n                if(resp.some(r => r >= 400)){ \n                    message.error(\"Se ha producido un error durante el guardado de los registros\"); \n                    console.log(resp) \n                }\n                else{ \n                    message.success(\"Los nuevos registros se añadieron correctamente\") \n                    this.setState({ modificado: false, nuevosRegistros: [] })\n                    Modal.destroyAll()\n                }\n            }\n        })\n    }\n\n    jornadaPendiente = (accion, dato) => {\n        if(accion === true){\n            request(\"/registros/\" + dato._id, {\n                method: \"PUT\",\n                body: {\n                    aprobado: true\n                }\n            }).then(data => {\n                //console.log(data)\n                message.success(\"Se ha aprobado el registro correctamente\")\n                this.props.dispatch(fetchES())\n                this.setState({ datosMod: {\n                    ...this.state.datosMod, \n                    registros: this.state.datosMod.registros.map(r => {\n                        if(r._id === dato._id){ return {...r, aprobado: true }}\n                        else{ return r }\n                    })\n                }})\n            }).catch(err => {\n                console.log(err)\n                message.error(\"Ha ocurrido un error durante la aprobación del registro\")\n            })\n        }\n        else{\n            request(\"/registros/\" + dato._id, { method: \"DELETE\" }).then(data => {\n                message.success(\"Se ha denegado el registro correctamente\")\n                this.props.dispatch(fetchES())\n                this.setState({ datosMod: {\n                    ...this.state.datosMod, \n                    registros: this.state.datosMod.registros.filter(r => r._id !== dato._id)\n                }})\n            }).catch(err => {\n                console.log(err)\n                message.error(\"Ha ocurrido un error durante la denegación del registro\")\n            })\n        }\n    }\n\n    render(){\n        const { datos, datosMod } = this.state\n        return (\n            <Modal\n                visible={this.props.visible}\n                footer={null}\n                onCancel={() => {\n                    if(this.state.modificado){\n                        Modal.confirm({\n                            title: \"Los registros no han sido guardados. ¿Seguro que desea salir?\",\n                            onOk: () => { \n                                this.setState({ datosMod: this.state.datos, modificado: false, nuevosRegistros: [] })\n                                this.props.cb() \n                            }\n                        })\n                    } else{ \n                        this.props.cb() }\n                }}\n                width=\"80vw\"\n            >\n                <h2>{ datos.usuario + \" - \" + moment(datos.entrada).format(\"YYYY-MM-DD\") }</h2>\n                <div>\n                    <Table\n                        dataSource={datosMod.registros}\n                        rowKey=\"_id\"\n                        pagination={false}\n                        style={{ marginBottom: 20 }}\n                        columns={[...this.state.columns, ...this.state.extraColumns]}\n                    />\n                </div>\n                <div style={{ marginBottom: 20 }}>\n                    <TimePicker placeholder=\"Selecciona hora\" value={this.state.hora.utcOffset(2)} onChange={hora => this.setState({ hora }) } style={{ marginRight: 20 }} />\n                    <Button onClick={this.addRegistro}>Añadir registro</Button>\n                </div>\n                {   this.state.modificado &&\n                    <div>\n                        <Button type=\"danger\" style={{ marginRight: 20 }} onClick={() => this.setState({ datosMod: this.state.datos, modificado: false, nuevosRegistros: [] })}>Restablecer</Button>\n                        <Button type=\"primary\" onClick={() => this.guardarNuevosRegistros()}>Guardar</Button>\n                    </div>\n                }\n            </Modal>\n        )\n    }\n}\n\nexport default connect()(ModalInfoRegistros)\n","import React, { Component } from 'react'\nimport { Layout, Table, Collapse, Statistic, Progress, DatePicker, Button, Modal, Popconfirm, Tag, message } from 'antd'\nimport Frame from './Frame';\nimport { connect } from 'react-redux';\nimport { socketConnect } from 'socket.io-react';\nimport moment from 'moment';\nimport { getUserInfo, getToken } from './utils/auth';\nimport ModuloRegistros from './modulosConfig/ModuloRegistros'\nimport ModalInfoRegistros from './components/ModalInfoRegistros'\nimport { fetchES, cambiarMesES } from './actions';\n\nclass Registro extends Component{\n\n    state = {\n        usuarios: [],\n        userInfo: getUserInfo(),\n        modalVisible: false, \n        modalLoading: false\n    }\n\n    columns = [{\n        title: 'Entrada',\n        dataIndex: 'entrada',\n        key: 'entrada',\n        defaultSortOrder: 'descend',\n        sorter: (a, b) => moment(a.entrada).diff(moment(b.entrada)),\n        render: hora => moment(hora).format(\"YYYY-MM-DD, HH:mm\")\n    }, {\n        title: 'Salida',\n        dataIndex: 'salida',\n        key: 'salida',\n        sorter: (a, b) => moment(a.entrada).diff(moment(b.entrada)),\n        render: hora => hora !== \"-\" ? moment(hora).format(\"YYYY-MM-DD, HH:mm\") : \"-\"\n    }, {\n        title: 'Tiempo trabajado',\n        dataIndex: 'horas',\n        key: 'horas',\n        sorter: (a, b) => a.horas - b.horas,\n        render: horas => horas !== \"-\" ? Math.trunc(horas, 10) + \"h \" + Math.round((horas % 1) * 60) + \"m\" : \"-\"\n    }, {\n        title: 'Tiempo de descanso',\n        dataIndex: 'tiempoDescanso',\n        key: 'tiempoDescanso',\n        sorter: (a, b) => a.tiempoDescanso - b.tiempoDescanso,\n        render: tiempoDescanso => tiempoDescanso !== \"-\" ? Math.trunc(tiempoDescanso, 10) + \"h \" + Math.round((tiempoDescanso % 1) * 60) + \"m\" : \"-\"\n    }, {\n        title: \"\",\n        dataIndex: \"detalles\",\n        key: \"detalles\",\n        render: () => <Tag color=\"blue\">Detalles</Tag>\n    }]\n\n    componentDidMount() {\n        if(this.props.es){\n            this.procesaES(this.props.mesES.month(), this.props.mesES.year())\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if(prevProps.es !== this.props.es){\n            this.procesaES(this.props.mesES.month(), this.props.mesES.year());\n        }\n        else if(!prevProps.mesES.isSame(this.props.mesES, \"month\")){\n            this.props.dispatch(fetchES(this.props.mesES))\n        }\n    }\n\n    diasLaborables = (userId, month = moment().month() + 1, year = moment().year()) => {\n        const diasFestivos = (this.props.dias.filter(d => d.tipo === \"festivo\" && moment(d.fecha).month() === month)).length\n        const diasEntreSemana = Array(moment().month(month).year(year).daysInMonth()).fill(null).filter((e, i) => {\n            return moment().year(year).month(month).date(i+1).weekday() <= 4\n        }).length\n        const diasLibres = (this.props.dias.filter(d => {\n            return d.user && ( d.user._id === userId && d.aprobado === true && d.tipo === \"libre\" && moment(d.fecha).month() === month)\n        })).length\n        return diasEntreSemana - diasLibres - diasFestivos\n    }\n\n    procesaES = (month = moment().month() + 1, year = moment().year()) => {\n\n        const diasDeEseMes = moment().month(month - 1).year(year).daysInMonth()\n        if(Array.isArray(this.props.es.users)){\n            const usuarios = this.props.es.users.map(u => {\n                const duracionJornada = u.duracionjornada || 8;\n                const diasLaborables = this.diasLaborables(u._id, month, year)\n                const dias = Array(diasDeEseMes).fill(null)\n                    .map((e, i) => moment().subtract(i, \"days\").format(\"YYYY-MM-DD\"))\n                    .map(d => u.registros.filter(r =>  moment(r.fecha).isSame(moment(d), \"days\") && moment(r.fecha).isSame(this.props.mesES, \"month\"))\n                        .sort((a, b) => {\n                            if(moment(a.fecha).isBefore(moment(b.fecha))){ return -1 }\n                            else if(moment(b.fecha).isBefore(moment(a.fecha))){ return 1 }\n                            else{ return 0 }\n                        })\n                    )\n\n                const jornadas = dias.map((dia, i) => {\n                    const arrayCachos = Array(Math.ceil(dia.length / 2)).fill(null).map((e, j) => {\n                        const a = moment(dia[(2*j)].fecha);\n                        const b = dia[(2*j)+1] ? moment(dia[(2*j)+1].fecha) : undefined;\n                        const m = b ? moment.duration(b.diff(a)) : ( a.isSame(moment(), \"day\") ? moment.duration(moment().diff(a)) : \"-\" )\n                        const horas = m !== \"-\" ? Math.round(m.as('hours')*100)/100 : \"-\"\n                        return {\n                            key: u._id + \"-\" + i + \"-\" + j,\n                            entrada: a.format(),\n                            aprobado: (dia[(2*j)].aprobado && (dia[(2*j)+1] ? dia[(2*j)+1].aprobado : true)) ? true : false,\n                            salida: b ? b.format() : \"-\",\n                            horas\n                        }\n                    })\n\n                    const tiempoDescanso = Array(arrayCachos.length > 0 ? arrayCachos.length - 1 : 0).fill(null).map((e, i) => {\n                        const comienzoDescanso = moment(arrayCachos[i].salida)\n                        const finDescanso = moment(arrayCachos[i+1].entrada)\n                        const duracionDescanso = Math.round(moment.duration(finDescanso.diff(comienzoDescanso)).as(\"hours\")*100)/100\n                        return duracionDescanso\n                    }).reduce((a, b) => a + b, 0)\n\n                    const arrayHoras = arrayCachos.map(c => c.horas)\n                    const jornada = arrayCachos[0] ? {\n                        key: arrayCachos[0].key,\n                        entrada: arrayCachos[0].entrada,\n                        salida: arrayCachos.slice(-1)[0].salida,\n                        aprobado: arrayCachos.map(a => a.aprobado).includes(false) ? false : true,\n                        horas: !arrayHoras.includes(\"-\") ? arrayHoras.reduce((a, b) => a + b, 0) : \"-\",\n                        usuario: u.username,\n                        registros: dia,\n                        empresa: {\n                            nombre: this.props.es.nombre,\n                            cif: this.props.es.cif,\n                            ccc: this.props.es.ccc\n                        },\n                        tiempoDescanso\n                    } : []\n                    return jornada\n                })\n\n                const horasTrabajadas = Math.round(jornadas.filter(j => j.aprobado).map(j => j.horas).filter(h => h !== \"-\" && h !== undefined).reduce((a, b) => a + b, 0) * 100 ) / 100\n                const horasMes = diasLaborables * duracionJornada\n                const porcentajeHoras = Math.round((horasTrabajadas / (diasLaborables * duracionJornada)) * 10000) / 100\n                const horasPendientes = Math.round((horasMes - horasTrabajadas) * 100 ) / 100\n                const empresa = {\n                    nombre: this.props.es.razonSocial,\n                    cif: this.props.es.cif,\n                    ccc: this.props.es.ccc\n                }\n                return { ...u, jornadas, horasTrabajadas, horasPendientes, porcentajeHoras, duracionJornada, diasLaborables, empresa }\n            })\n            \n            this.setState({ \n                usuarios,\n                jornadasPorAprobar: [].concat.apply([], usuarios.filter(u => u._id === getUserInfo()._id || (getUserInfo().manager && !this.props.blueCollar)).map(u => u.jornadas)).filter(j => !Array.isArray(j) && !j.aprobado)\n            })\n        }\n    }\n\n    handleRowClick = (fila, apr) => {\n        this.setState({ rowSelect: fila, modalInfo: true, modalInfoApr: apr })\n    }\n\n\n    render(){\n        const { modalVisible, modalLoading } = this.state\n        const MonthPicker = DatePicker.MonthPicker\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <h1>Jornadas</h1>\n                    <MonthPicker \n                        placeholder=\"Seleccionar mes\" \n                        value={this.props.mesES} \n                        onChange={mes => {\n                            //this.setState({ mes })\n                            this.props.dispatch(cambiarMesES(mes))\n                        }}\n                        style={{ marginBottom: 20 }}\n                    />\n                    {/*( this.state.userInfo.manager && !this.props.blueCollar)*/ true &&\n                        <div>\n                            <h3>Jornadas pendientes de aprobación</h3>\n                            <Table style={{ marginBottom: \"1em\" }} dataSource={this.state.jornadasPorAprobar} locale={{\n                                emptyText: \"No hay jornadas pendientes de aprobar\"\n                            }}\n                            onRow={row => ({\n                                onClick: () => this.handleRowClick(row, true)\n                            })}\n                            columns={[{\n                                title: 'Usuario',\n                                dataIndex: 'usuario',\n                                key: 'usuario',\n                            },{\n                                title: 'Día',\n                                dataIndex: 'entrada',\n                                key: 'dia',\n                                render: e => moment(e).format(\"YYYY-MM-DD\")\n                            },{\n                                title: 'Entrada',\n                                dataIndex: 'entrada',\n                                key: 'entrada',\n                                render: e => moment(e).format(\"HH:mm\")\n                            },{\n                                title: 'Salida',\n                                dataIndex: 'salida',\n                                key: 'salida',\n                                render: e => moment(e).format(\"HH:mm\") === \"Invalid date\" ? \" - \" : moment(e).format(\"HH:mm\")\n                            },{\n                                title: 'Horas',\n                                dataIndex: 'horas',\n                                key: 'horas',\n                            }, {\n                                title: \"\",\n                                dataIndex: \"detalles\",\n                                key: \"detalles\",\n                                render: () => <Tag color=\"blue\">Detalles</Tag>\n                            }]}/>\n                        </div>\n                    }\n\n                        <Collapse defaultActiveKey={!(getUserInfo().manager && !this.props.blueCollar) ? getUserInfo()._id : undefined}>\n                        {\n                            this.state.usuarios && this.state.usuarios.filter(u => {\n                                return this.state.userInfo._id === u._id || (this.state.userInfo.manager && !this.props.blueCollar)}).map((u, i) => [\n                                <Collapse.Panel header={<div style={{ display: \"flex\", justifyContent: \"space-between\", paddingRight: \"10px\" }}>\n                                    <span>{ u.username }</span>\n                                    <div style={{ width: \"200px\",  }}>\n                                        <Progress percent={u.porcentajeHoras} />\n                                    </div>\n                                </div>} key={u._id}>\n                                    <div style={{ display: \"flex\", flexWrap: \"wrap\", justifyContent: \"space-evenly\" }}>\n                                        <Statistic title=\"Horas trabajadas\" value={ Math.trunc(u.horasTrabajadas, 10) + \"h \" + Math.round((u.horasTrabajadas % 1) * 60) + \"m\"  } />\n                                        <Statistic \n                                            title={`Horas ${u.horasPendientes >= 0 ? \"pendientes\" : \"extra\"}`} \n                                            valueStyle={{ color: u.horasPendientes < 0 ? \"red\" : \"inherit\" }} \n                                            value={ u.horasPendientes > 0 ?\n                                                Math.trunc(u.horasPendientes, 10) + \"h \" + Math.round((u.horasPendientes % 1) * 60) + \"m\" :\n                                                Math.trunc(-u.horasPendientes, 10) + \"h \" + Math.round((-u.horasPendientes % 1) * 60) + \"m\"\n                                            }\n                                        />\n                                        <Statistic title=\"Días laborables de este mes\" value={ u.diasLaborables } />\n                                        <Statistic title=\"Duración de jornada\" value={ u.duracionJornada + \"h\" } />\n                                    </div>\n                                    <h3 style={{marginTop: 20 }}>Desglose de jornadas</h3>\n                                    <Table \n                                        key={\"table\"+i} \n                                        dataSource={[].concat.apply([], u.jornadas.filter(j => j.aprobado))} \n                                        columns={this.columns} \n                                        onRow={row => ({\n                                            onClick: () => this.handleRowClick(row, false)\n                                        })}\n                                    />\n                                    {( this.state.userInfo._id === u._id || (this.state.userInfo.manager && !this.props.blueCollar)) && \n                                        <div style={{ display: \"flex\", justifyContent: \"center\", marginTop: 20 }}>\n                                            <Button onClick={() => this.setState({ modalVisible: true, modalUser: u._id })}>Añadir jornada</Button>\n                                        </div>\n                                    }\n                                </Collapse.Panel>,\n                            ])\n                        }\n                        </Collapse>\n                </Frame>\n                <Modal\n                    visible={modalVisible}\n                    title=\"Añadir registro\"\n                    onOk={this.handleNuevoRegistro}\n                    onCancel={() => { this.setState({ modalVisible: false })}}\n                    style={{ maxWidth: 900 }}\n                    width=\"90%\"\n                    footer={null}\n                    >\n                    <ModuloRegistros usuario={this.state.modalUser} cerrarModal={() => this.setState({ modalVisible: false })} />\n                </Modal>\n                <ModalInfoRegistros\n                    visible={this.state.modalInfo}\n                    colAprobado={this.state.modalInfoApr}\n                    cb={() => this.setState({ modalInfo: false })}\n                    datos={this.state.rowSelect}\n                    blueCollar={this.props.blueCollar}\n                />\n            </Layout>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        es: state.es,\n        mesES: state.mesES,\n        dias: state.dias,\n        blueCollar: state.blueCollar\n    }\n}\n\nexport default socketConnect(connect(mapStateToProps)(Registro))","import React, { Component } from 'react'\nimport { getToken, getUserInfo } from './utils/auth';\nimport { Layout, Upload, message, Icon, Form, Input, Button } from 'antd'\nimport Frame from './Frame';\nimport request from './utils/request';\nimport { fetchAuth } from './actions'\nimport { connect } from 'react-redux'\n\n\nclass Perfil extends Component{\n\n    state = {\n        loading: false,\n        nombre: getUserInfo().nombre || \"\"    \n    }\n\n    componentDidMount(){\n        console.log(this.props.auth)\n    }\n    componentDidUpdate(){\n        console.log(this.props.auth)\n    }\n\n    handleUpload = ({ onSuccess, onError, file }) => {\n        let imgToUpload = new FormData();\n\n        const isJPG = file.type === 'image/jpeg' || file.type === 'image/png';\n        if (!isJPG) {\n          message.error('Solo se aceptan imagenes en formato JPG y PNG');\n        }\n        const isLt2M = file.size / 1024 / 1024 < 2;\n        if (!isLt2M) {\n          message.error('Las imagenes han de ser más pequeñas de 2MB');\n        }\n\n        if( isJPG && isLt2M ){  \n            imgToUpload.append('files', file);\n            imgToUpload.append('field', \"avatar\");\n            imgToUpload.append('refId', getUserInfo()._id);\n            imgToUpload.append('ref', \"user\");\n            imgToUpload.append('source', 'users-permissions')\n            this.setState({ loading: true })\n            request(\"/upload\", {\n                method: 'POST',\n                body: imgToUpload,\n            }, false).then(data => {\n                console.log(data)\n                this.setState({ loading: false })\n                message.success(\"El avatar se actualizó correctamente.\")\n                let userInfo = getUserInfo()\n                userInfo.avatar = data[0]\n                window.localStorage.setItem(\"user\", JSON.stringify(userInfo))\n                this.props.dispatch(fetchAuth())\n            }).catch(err => {\n                this.setState({ loading: false })\n                console.log(err)\n                message.error(\"Ocurrió un error durante la subida del nuevo avatar\")\n            });\n        }\n    }\n\n    handleSave = () => {\n        request(\"/users/\" + getUserInfo()._id, {\n            method: \"PUT\",\n            body: {\n                nombre: this.state.nombre\n            }\n        }).then(data => {\n            let userInfo = getUserInfo()\n            userInfo.nombre = this.state.nombre\n            window.localStorage.setItem(\"user\", JSON.stringify(userInfo))\n            this.props.dispatch(fetchAuth())\n            message.success(\"Los datos se guardaron correctamente\")\n        }).catch(err => {\n            message.error(\"Ocurrió un error durante el guardado de datos\")\n            console.log(err)\n        })\n    }\n\n    render(){\n\n        const uploadButton = (\n            <div>\n              <Icon type={this.state.loading ? 'loading' : 'plus'} />\n              <div className=\"ant-upload-text\">Upload</div>\n            </div>\n        );\n        const imageUrl = this.props.auth && this.props.auth.avatar && process.env.REACT_APP_API_URL + this.props.auth.avatar.url;\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <h1>Perfil</h1>\n                    <div style={{ width: \"320px\", marginBottom: 20 }}>\n                        <Form.Item label=\"Avatar\" style={{ marginRight: 20 }}>\n                            <Upload\n                                name=\"avatar\"\n                                defaultFileList={[(this.props.auth && this.props.auth.avatar)]}\n                                listType=\"picture-card\"\n                                className=\"avatar-uploader\"\n                                showUploadList={false}\n                                onChange={this.handleChange}\n                                customRequest={this.handleUpload}\n\n                            >\n                                {imageUrl ? <img src={imageUrl} style={{ maxHeight: 300, maxWidth: 300, objectFit: \"cover\" }} alt=\"avatar\" /> : uploadButton}\n                            </Upload>\n                        </Form.Item>\n\n                        <Form.Item label=\"Nombre\" style={{ marginRight: 20 }}>\n                            <Input type=\"text\" value={ this.state.nombre } onChange={e => this.setState({ nombre: e.target.value })} />\n                        </Form.Item>\n\n                        <Button onClick={this.handleSave}>Guardar</Button>\n                    </div>\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n})\n\nexport default connect(mapStateToProps)(Perfil)","import React, { Component } from 'react'\nimport { getToken } from './utils/auth';\nimport { Layout, Collapse, Form, Input, Select, Button, Tag, message, Table, Icon, Popconfirm, Modal } from 'antd'\nimport Frame from './Frame';\nimport { connect } from 'react-redux'\nimport request from './utils/request';\nimport { getUserInfo } from './utils/auth';\nimport { fetchGrupos } from './actions'\n\nconst reset = {\n    users: []\n}\n\nclass Grupos extends Component{\n\n    state = {\n        seleccionados: [],\n        nombreNuevoGrupo: \"\",\n        grupoEditar: reset\n    }\n\n    addSeleccionado = (u, esModal) => {\n        if(esModal){\n            const user = this.props.usuarios.find(user => user.username === u)\n            this.setState({\n                grupoEditar: {\n                    ...this.state.grupoEditar,\n                    users: [...this.state.grupoEditar.users, user]\n                }\n            })\n        }\n        else{\n            this.setState({ seleccionados: [...new Set([...this.state.seleccionados, u])]})\n        }\n    }\n\n    removeSeleccionado = (s, esModal) => {\n        if(esModal){\n            this.setState({\n                grupoEditar: {\n                    ...this.state.grupoEditar,\n                    users: this.state.grupoEditar.users.filter(g => g._id !== s._id)\n                }\n            })\n        }\n        else{\n            this.setState({ seleccionados: this.state.seleccionados.filter(sel => s !== sel)})\n        }\n    }\n\n    crearGrupo = () => {\n        if(this.state.nombreNuevoGrupo === \"\"){ message.warning(\"Es necesario introducir un nombre para el grupo\")}\n        else if(this.state.seleccionados.length === 0){ message.warning(\"No se han añadido usuarios al grupo\") }\n        else{\n            const users = this.state.seleccionados.map(sel => this.props.usuarios.find(u => u.username === sel)).map(u => u._id)\n            const equipo = getUserInfo().equipo\n\n            request(\"/grupos\", {\n                method: \"POST\",\n                body: {\n                    nombre: this.state.nombreNuevoGrupo,\n                    users,\n                    equipo\n                }\n            }).then(data => {\n                console.log(data)\n                message.success(\"El grupo se creó correctamente\")\n                this.props.dispatch(fetchGrupos())\n            }).catch(err => {\n                console.log(err)\n                message.error(\"Se produjo un error durante la creación del grupo\")\n            })\n        }\n    }\n    \n    borrarGrupo = grupo => {\n        request(\"/grupos/\" + grupo._id, { method: \"DELETE\" })\n            .then(data => { this.props.dispatch(fetchGrupos()); message.success(\"El grupo se borró correctamente\" ) })\n            .catch(err => { console.log(err); message.error(\"Se produjo un error durante el borrado del grupo\") })\n    }\n\n    editarGrupo = () => {\n        const { nombre, users, _id } = this.state.grupoEditar\n        request(\"/grupos/\" + _id, {\n            method: \"PUT\",\n            body: { nombre, users }\n        }).then(data => { \n            this.props.dispatch(fetchGrupos()); \n            message.success(\"El grupo se editó correctamente\" ); \n            this.setState({ modalEdicion: false, grupoEditar: reset }) \n        }).catch(err => { console.log(err); message.error(\"Se produjo un error durante la edición del grupo\") })\n    }\n\n    render(){\n        const Panel = Collapse.Panel;\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <h2>Grupos</h2>\n                    <Table style={{ paddingBottom: 30 }} rowKey=\"_id\" dataSource={this.props.grupos} columns={[\n                        {\n                            title: \"Grupo\",\n                            dataIndex: \"nombre\",\n                            key: \"nombre\"\n                        },\n                        {\n                            title: \"Usuarios\",\n                            dataIndex: \"users\",\n                            render: (us) => us.map(u => <Tag key={\"u\" + u._id}>{u.username}</Tag>)\n                        },\n                        {\n                            render: row => {\n                                return (\n                                    <div style={{ display: \"flex\", margin: 5 }}>\n                                        <Tag color=\"blue\" onClick={() => this.setState({ modalEdicion: true, grupoEditar: row })}><Icon type=\"edit\" /></Tag>\n                                        <Popconfirm\n                                            title={`¿Seguro que deseas borrar el equipo ${row.nombre}?`}\n                                            onConfirm={() => this.borrarGrupo(row)}\n                                            okText=\"Aceptar\"\n                                            cancelText=\"Cancelar\"\n                                        >\n                                            <Tag color=\"volcano\"><Icon type=\"delete\" /></Tag>\n                                        </Popconfirm>\n                                    </div>\n                                )\n                            }\n                        }\n                    ]} />\n                    <Collapse>\n                        <Panel key=\"nuevoGrupo\" header=\"Nuevo grupo de usuarios\">\n                            <Form.Item label=\"Nombre del grupo\">\n                                <Input type=\"text\" value={this.state.nombreNuevoGrupo} onChange={evt => this.setState({ nombreNuevoGrupo: evt.target.value }) }/>\n                            </Form.Item>\n                            <Form.Item label=\"Integrantes\">\n                                <Select style={{ width: \"100%\" }} onChange={evt => this.addSeleccionado(evt, false)}>\n                                    {\n                                        this.props.usuarios.map((u, i) => (\n                                            <Select.Option key={\"user\" + i } value={u.username}>{ u.username }</Select.Option>\n                                        ))\n                                    }\n                                </Select>\n                            </Form.Item>\n                            <div style={{ paddingBottom: 30 }}>\n                                  {\n                                      this.state.seleccionados.map((s, i) => (\n                                          <Tag closable key={s} onClose={() => this.removeSeleccionado(s)}>{s}</Tag>\n                                      ))\n                                  }  \n                            </div>\n                            <Button onClick={this.crearGrupo}>Crear nuevo grupo</Button>\n                        </Panel>\n                    </Collapse>\n                </Frame>\n                <Modal\n                    visible={this.state.modalEdicion}\n                    footer={null}\n                    onCancel={() => this.setState({ modalEdicion: false, grupoEditar: reset })}\n                >\n                    <h3>Editar grupo</h3>\n                    <Form.Item label=\"Nombre del grupo\">\n                        <Input type=\"text\" value={this.state.grupoEditar.nombre} onChange={evt => this.setState({ grupoEditar: {...this.state.grupoEditar, nombre: evt.target.value} }) }/>\n                    </Form.Item>\n                    <Form.Item label=\"Integrantes\">\n                        <Select style={{ width: \"100%\" }} onChange={evt => this.addSeleccionado(evt, true)}>\n                            {\n                                this.props.usuarios.map((u, i) => (\n                                    <Select.Option key={\"user\" + i } value={u.username}>{ u.username }</Select.Option>\n                                ))\n                            }\n                        </Select>\n                    </Form.Item>\n                    <div style={{ paddingBottom: 30 }}>\n                            {\n                                this.state.grupoEditar.users.map((s, i) => (\n                                    <Tag closable key={s._id} onClose={() => this.removeSeleccionado(s, true)}>{s.username}</Tag>\n                                ))\n                            }  \n                    </div>\n                    <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n                        <Button style={{ paddingLeft: 20 }} onClick={this.editarGrupo}>Editar Grupo</Button>\n                        <Button type=\"danger\" onClick={() => this.setState({ modalEdicion: false, grupoEditar: reset })}>Cancelar</Button>\n                    </div>\n                </Modal>\n            </Layout>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    usuarios: state.usuarios,\n    grupos: state.grupos\n})\n\nexport default connect(mapStateToProps)(Grupos)","import React, { Component } from 'react'\nimport { Modal, Form, Tag, Button, Input, Icon, Select, message } from 'antd';\nimport { fetchPws } from '../actions'\nimport PrivateComponent from '../PrivateComponent'\nimport request from '../utils/request'\nimport { connect } from 'react-redux'\n\nclass ModalEditarPws extends Component {\n    state = {\n        editNombre: \"\",\n        editCampos: [{\"\" : \"\"}],\n        editGrupos: [],\n        editUsuarios: []\n    }\n\n    componentDidUpdate = (prevProps) => {\n        if((prevProps.pwSelect !== this.props.pwSelect) && this.props.pwSelect){\n            console.log(this.props.pwSelect)\n            this.setState({\n                editNombre: this.props.pwSelect.nombre,\n                editCampos: Object.keys(this.props.pwSelect.datos).map((k, i) => ({[k]: this.props.pwSelect.datos[k]})),\n                editGrupos: this.props.pwSelect.grupos.map(g => g.nombre),\n                editUsuarios: this.props.pwSelect.users.map(u => u.username)\n            })\n        }\n    }\n\n    handleRepeater = (txt, i, cual) => {\n        const campoEdit = this.state.editCampos[i]\n        const prevKey = Object.keys(campoEdit)[0]\n        const prevValue = Object.values(campoEdit)[0]\n\n        if(cual === \"key\"){\n            campoEdit[txt] = prevValue\n            delete campoEdit[prevKey]\n        }\n        else if(cual === \"value\"){\n            campoEdit[Object.keys(campoEdit)[0]] = txt\n        }\n\n        const editCampos = this.state.editCampos.map((c, j) => {\n            if(i === j){ return campoEdit }\n            else{ return c }\n        })\n\n        this.setState({ editCampos })\n    }\n\n    editarEntrada = () => {\n\n        const users = this.state.editUsuarios.map(eu => this.props.usuarios.find(u => u.username === eu)._id)\n        const grupos = this.state.editGrupos.map(eg => this.props.grupos.find(g => g.nombre === eg)._id)\n        const datos = this.state.editCampos.reduce((a, b) => ({...a, ...b}), {})\n\n        if(this.state.editCampos.length > Object.keys(datos).length ){\n            message.warning(\"No puede haber dos campos con el mismo identificador\")\n        }\n        else{\n            if( grupos.length === 0 && users.length === 0){\n                message.info(\"La entrada no ha sido asignada a nadie, estará solo disponible para administradores\")\n            }\n            request(\"/pws/\" + this.props.pwSelect._id, {\n                method: \"PUT\",\n                body: {\n                    nombre: this.state.editNombre,\n                    datos,\n                    users,\n                    grupos\n                }\n            }).then(data => {\n                message.success(\"La entrada se editó correctamente\")\n                this.props.dispatch(fetchPws())\n                this.setState({        \n                    editNombre: \"\",\n                    editCampos: [{\"\" : \"\"}],\n                    editGrupos: [],\n                    editUsuarios: []\n                })\n                this.props.cb()\n            }).catch(err => { \n                console.log(err); \n                message.error(\"Ocurrió un error durante la edición de la entrada\")\n            })\n        }\n    }\n\n    render(){\n        const Item = Form.Item;\n        const Option = Select.Option;\n        return (\n            <Modal\n                visible={this.props.visible}\n                footer={null}\n                onCancel={this.props.cb}\n                width=\"80vw\"\n            >\n                <h2>{ this.props.pwSelect.nombre }</h2>\n                <div>\n                    <Item label=\"Nombre de la entrada\">\n                        <Input type=\"text\" value={ this.state.editNombre } onChange={evt => this.setState({ editNombre: evt.target.value })} />\n                    </Item>\n                    <Item label=\"Campos\">\n                        {\n                            this.state.editCampos.map((c, i) => {\n                                return (\n                                    <div key={\"campo\" + i} style={{ display: \"flex\" }}>\n                                        <Item label=\"Identificador\" style={{ flex: 1, paddingRight: \"1em\" }}>\n                                            <Input type=\"text\" value={ Object.keys(c)[0] } onChange={evt => this.handleRepeater(evt.target.value, i, \"key\")} />\n                                        </Item>\n                                        <Item label=\"Valor\" style={{ flex: 1, paddingRight: \"1em\" }}>\n                                            <Input type=\"text\" value={ Object.values(c)[0] } onChange={evt => this.handleRepeater(evt.target.value, i, \"value\")} />\n                                        </Item>\n                                        { this.state.editCampos.length > 1 &&\n                                            <Item label=\" \" colon={false}>\n                                                <Tag color=\"volcano\" onClick={() => this.setState({ editCampos: this.state.editCampos.filter((e, it) => it !== i)})}>\n                                                    <Icon type=\"delete\" />\n                                                </Tag>\n                                            </Item>\n                                        }\n                                    </div>\n                                )\n                            })\n                        }\n                        <Tag onClick={() => this.setState({ editCampos: [...this.state.editCampos, {\"\" : \"\"}]})}><Icon type=\"plus\" /> Nuevo campo</Tag>\n                    </Item>\n                    <PrivateComponent blue={this.props.blue}>\n                        <Item label=\"Asignar a grupos\">\n                            <Select style={{ width: \"100%\" }} onChange={evt => this.setState({ editGrupos: [...new Set([...this.state.editGrupos, evt])]})}>\n                                {\n                                    this.props.grupos.map((g, i) => (\n                                        <Option key={\"grupo\" + i } value={g.nombre}>{ g.nombre }</Option>\n                                    ))\n                                }\n                            </Select>\n                            <div style={{ paddingBottom: 30 }}>\n                                {\n                                    this.state.editGrupos.map((g, i) => (\n                                        <Tag closable key={\"gtag\" + g} onClose={() => this.setState({ editGrupos: this.state.editGrupos.filter(h => h !== g) })}>{g}</Tag>\n                                    ))\n                                }  \n                            </div>\n                        </Item>\n                        <Item label=\"Asignar a usuarios\">\n                            <Select style={{ width: \"100%\" }} onChange={evt => this.setState({ editUsuarios: [...new Set([...this.state.editUsuarios, evt])]})}>\n                                {\n                                    this.props.usuarios.map((u, i) => (\n                                        <Option key={\"user\" + i } value={u.username}>{ u.username }</Option>\n                                    ))\n                                }\n                            </Select>\n                            <div style={{ paddingBottom: 30 }}>\n                                {\n                                    this.state.editUsuarios.map((u, i) => (\n                                        <Tag closable key={\"utag\" + u} onClose={() => this.setState({ editUsuarios: this.state.editUsuarios.filter(v => v !== u) })}>{u}</Tag>\n                                    ))\n                                }  \n                            </div>\n                        </Item>\n                    </PrivateComponent>\n                    <Button onClick={this.editarEntrada}>Editar entrada</Button>\n                </div>\n            </Modal>\n        )\n    }\n}\n\nexport default connect()(ModalEditarPws)\n","import React, { Component } from 'react'\nimport { Layout, Collapse, Form, Input, Tag, Icon, Select, Button, message, Table, Popconfirm, Modal } from 'antd'\nimport Frame from './Frame';\nimport ModalEditarPws from './components/ModalEditarPws'\nimport { getToken, getUserInfo } from './utils/auth'\nimport { connect } from 'react-redux'\nimport request from './utils/request';\nimport { fetchPws } from './actions';\nimport PrivateComponent from './PrivateComponent';\n\nclass Passwords extends Component{\n    \n    state = {\n        nuevaNombre: \"\",\n        nuevaCampos: [{\"username\" : \"\"}, {\"password\": \"\"}],\n        nuevaGrupos: [],\n        nuevaUsuarios: [],\n        modalPw: false,\n        pwSelect: {\n            datos: {}\n        }\n    }\n\n    txtRefs = []\n\n    componentDidMount(){\n        if(this.props.pws.length > 0 && this.props.auth){\n            this.setState({ pws: this.filtraPw() })\n        }\n    }\n    componentDidUpdate(prevProps){\n        if((prevProps.pws !== this.props.pws || this.props.blueCollar !== prevProps.blueCollar) && this.props.auth){\n            this.setState({ pws: this.filtraPw() })\n        }\n    }\n\n    filtraPw = () => {\n        const pwFiltradas = this.props.pws.filter(pw => {\n            const arrayGruposPw = pw.grupos.map(g => g._id)\n            const arrayGruposUser = this.props.auth.grupos.map(g => g._id)\n            const esGrupo = arrayGruposPw.filter(gp => arrayGruposUser.includes(gp)).length > 0\n            const esUsuario = pw.users.map(u => u._id).includes(this.props.auth._id)\n            const esManager = this.props.auth.manager && !this.props.blueCollar\n            return esGrupo || esUsuario || esManager\n        })\n        return pwFiltradas\n    }\n\n    handleRepeater = (txt, i, cual) => {\n        const campoEdit = this.state.nuevaCampos[i]\n        const prevKey = Object.keys(campoEdit)[0]\n        const prevValue = Object.values(campoEdit)[0]\n\n        if(cual === \"key\"){\n            campoEdit[txt] = prevValue\n            delete campoEdit[prevKey]\n        }\n        else if(cual === \"value\"){\n            campoEdit[Object.keys(campoEdit)[0]] = txt\n        }\n\n        const nuevaCampos = this.state.nuevaCampos.map((c, j) => {\n            if(i === j){ return campoEdit }\n            else{ return c }\n        })\n\n        this.setState({ nuevaCampos })\n    }\n\n    nuevaEntrada = () => {\n\n        const users = this.state.nuevaUsuarios.map(nu => this.props.usuarios.find(u => u.username === nu)._id)\n        const grupos = this.state.nuevaGrupos.map(ng => this.props.grupos.find(g => g.nombre === ng)._id)\n        const datos = this.state.nuevaCampos.reduce((a, b) => ({...a, ...b}), {})\n\n        if(this.state.nuevaCampos.length > Object.keys(datos).length ){\n            message.warning(\"No puede haber dos campos con el mismo identificador\")\n        }\n        else{\n            if( grupos.length === 0 && users.length === 0){\n                message.info(\"La contraseña no ha sido asignada a nadie, estará solo disponible para administradores\")\n            }\n            request(\"/pws\", {\n                method: \"POST\",\n                body: {\n                    nombre: this.state.nuevaNombre,\n                    datos,\n                    users,\n                    grupos,\n                    equipo: getUserInfo().equipo\n                }\n            }).then(data => {\n                message.success(\"La entrada se guardó correctamente\")\n                this.props.dispatch(fetchPws())\n                this.setState({        \n                    nuevaNombre: \"\",\n                    nuevaCampos: [{\"username\" : \"\"}, {\"password\": \"\"}],\n                    nuevaGrupos: [],\n                    nuevaUsuarios: []\n                })\n            }).catch(err => { \n                console.log(err); \n                message.error(\"Ocurrió un error durante el guardado de la entrada\")\n            })\n        }\n    }\n\n    borrarEntrada = pw => {\n        console.log(pw)\n        request(\"/pws/\" + pw._id, { method: \"DELETE\" })\n            .then(data => {\n                message.success(\"La entrada se eliminó correctamente\")\n                this.props.dispatch(fetchPws())\n            }).catch(err => {\n                console.log(err)\n                message.error(\"Se produjo un error durante el borrado de la entrada\")\n            })\n    }\n\n    render(){\n        const Panel = Collapse.Panel;\n        const Item = Form.Item;\n        const Option = Select.Option;\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <h2>Contraseñas</h2>\n                    <Table \n                        style={{ paddingBottom: 30 }} \n                        rowKey=\"_id\" \n                        dataSource={this.state.pws} \n                        onRow={row => ({\n                            onClick: () => this.setState({ modalPw: true, pwSelect: row })\n                        })}\n                        columns={[\n                            {\n                                title: \"Entrada\",\n                                dataIndex: \"nombre\",\n                                key: \"nombre\"\n                            },\n                            {\n                                title: \"Asignada a\",\n                                render: row => [...row.grupos, ...row.users].map((e, i) => <Tag key={e._id + \"-\" + i} style={{ margin: \"2px\" }}>{e.username ? e.username : e.nombre}</Tag>),\n                                key: \"asignadaA\"\n                            },\n                            {\n                                title: \"\",\n                                key: \"btnConsulta\",\n                                render: pwSelect => (\n                                    <div style={{ display: \"flex\", justifyContent: \"flex-end\"}}>\n                                        <div style={{ display: \"flex\" }}>\n                                            <PrivateComponent blue={this.props.blueCollar}>\n                                                <Popconfirm title=\"Se borrará la entrada. ¿Quieres continuar?\"\n                                                    onConfirm={() => this.borrarEntrada(pwSelect)}\n                                                    okText=\"Aceptar\"\n                                                    cancelText=\"Cancelar\"\n                                                >\n                                                    <Tag color=\"volcano\" onClick={() => this.setState({ pwSelect })}><Icon type=\"delete\" /> Eliminar</Tag>\n                                                </Popconfirm>\n                                            </PrivateComponent>\n                                            <Tag color=\"gold\" onClick={() => this.setState({ modalEditarPws: true, pwSelect })}><Icon type=\"edit\" /> Editar</Tag>\n                                        </div>\n                                        <Tag color=\"blue\" onClick={() => this.setState({ modalPw: true, pwSelect })}><Icon type=\"search\" /> Consultar</Tag>\n                                    </div>\n                                )\n                            }\n                        ]} \n                    />\n\n                    <Collapse>\n                        <Panel key=\"nueva\" header=\"Nueva entrada\">\n                            <Item label=\"Nombre de la entrada\">\n                                <Input type=\"text\" value={ this.state.nuevaNombre } onChange={evt => this.setState({ nuevaNombre: evt.target.value })} />\n                            </Item>\n                            <Item label=\"Campos\">\n                                {\n                                    this.state.nuevaCampos.map((c, i) => {\n                                        return (\n                                            <div key={\"campo\" + i} style={{ display: \"flex\" }}>\n                                                <Item label=\"Identificador\" style={{ flex: 1, paddingRight: \"1em\" }}>\n                                                    <Input type=\"text\" value={ Object.keys(c)[0] } onChange={evt => this.handleRepeater(evt.target.value, i, \"key\")} />\n                                                </Item>\n                                                <Item label=\"Valor\" style={{ flex: 1, paddingRight: \"1em\" }}>\n                                                    <Input type=\"text\" value={ Object.values(c)[0] } onChange={evt => this.handleRepeater(evt.target.value, i, \"value\")} />\n                                                </Item>\n                                                { this.state.nuevaCampos.length > 1 &&\n                                                    <Item label=\" \" colon={false}>\n                                                        <Tag color=\"volcano\" onClick={() => this.setState({ nuevaCampos: this.state.nuevaCampos.filter((e, it) => it !== i)})}>\n                                                            <Icon type=\"delete\" />\n                                                        </Tag>\n                                                    </Item>\n                                                }\n                                            </div>\n                                        )\n                                    })\n                                }\n                                <Tag onClick={() => this.setState({ nuevaCampos: [...this.state.nuevaCampos, {\"\" : \"\"}]})}><Icon type=\"plus\" /> Nuevo campo</Tag>\n                            </Item>\n                                <Item label=\"Asignar a grupos\">\n                                    <Select style={{ width: \"100%\" }} onChange={evt => this.setState({ nuevaGrupos: [...new Set([...this.state.nuevaGrupos, evt])]})}>\n                                        {\n                                            this.props.grupos.map((g, i) => (\n                                                <Option key={\"grupo\" + i } value={g.nombre}>{ g.nombre }</Option>\n                                            ))\n                                        }\n                                    </Select>\n                                    <div style={{ paddingBottom: 30 }}>\n                                        {\n                                            this.state.nuevaGrupos.map((g, i) => (\n                                                <Tag closable key={\"gtag\" + g} onClose={() => this.setState({ nuevaGrupos: this.state.nuevaGrupos.filter(h => h !== g) })}>{g}</Tag>\n                                            ))\n                                        }  \n                                    </div>\n                                </Item>\n                                <Item label=\"Asignar a usuarios\">\n                                    <Select style={{ width: \"100%\" }} onChange={evt => this.setState({ nuevaUsuarios: [...new Set([...this.state.nuevaUsuarios, evt])]})}>\n                                        {\n                                            this.props.usuarios.map((u, i) => (\n                                                <Option key={\"user\" + i } value={u.username}>{ u.username }</Option>\n                                            ))\n                                        }\n                                    </Select>\n                                    <div style={{ paddingBottom: 30 }}>\n                                        {\n                                            this.state.nuevaUsuarios.map((u, i) => (\n                                                <Tag closable key={\"utag\" + u} onClose={() => this.setState({ nuevaUsuarios: this.state.nuevaUsuarios.filter(v => v !== u) })}>{u}</Tag>\n                                            ))\n                                        }  \n                                    </div>\n                                </Item>\n                            <Button onClick={this.nuevaEntrada}>Guardar entrada</Button>\n                        </Panel>\n                    </Collapse>\n                </Frame>\n                <Modal\n                    visible={this.state.modalPw}\n                    footer={null}\n                    onCancel={() => this.setState({ modalPw: false })}\n                >\n                    <h2>{ this.state.pwSelect.nombre }</h2>\n                    <Table \n                        showHeader={false} \n                        pagination={false} \n                        size=\"small\" \n                        rowKey=\"zzzzz\"\n                        dataSource={Object.keys(this.state.pwSelect.datos).map((k, i) => ({[k]: this.state.pwSelect.datos[k], zzzzz: i}))} \n                        columns={[\n                            {\n                                title: \"Identificador\",\n                                key: row => Object.keys(row)[0],\n                                render: row => Object.keys(row)[0]\n                            },\n                            {\n                                title: \"Valor\",\n                                render: row => Object.values(row)[0]\n                            },\n                            {\n                                title: \"\",\n                                render: row => <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}><Button onClick={() => { \n                                    navigator.clipboard.writeText(Object.values(row)[0]) \n                                    message.info(\"Se ha copiado la clave en el portapapeles\")\n                                }}>Copiar</Button></div>\n                            }\n                        ]}\n                    />\n                </Modal>\n                <ModalEditarPws\n                    visible={this.state.modalEditarPws}\n                    cb={() => this.setState({ modalEditarPws: false })}\n                    pwSelect={this.state.pwSelect}\n                    grupos={this.props.grupos}\n                    usuarios={this.props.usuarios}\n                    blue={this.props.blueCollar}\n                />\n            </Layout>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    grupos: state.grupos,\n    usuarios: state.usuarios,\n    pws: state.pws,\n    auth: state.auth,\n    blueCollar: state.blueCollar\n})\n\nexport default connect(mapStateToProps)(Passwords)","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Table, Tag, Popconfirm, Icon, Form, DatePicker, Input, Button, message } from 'antd'\nimport moment from 'moment'\nimport request from '../utils/request';\nimport { getUserInfo } from '../utils/auth'\nimport { fetchCalendario } from '../actions'\n\nclass ModuloFestivos extends Component{\n\n    state = {}\n\n    addFestivo = () => {\n        if(!this.state.nombre){ message.warning(\"No se ha asignado nombre al festivo\") }\n        else if(!this.state.fecha){ message.warning(\"No se ha seleccionado ninguna fecha\") }\n        else{\n            request(\"/dias\", {\n                method: \"POST\",\n                body: {\n                    fecha: moment.utc(this.state.fecha).format(),\n                    tipo: \"festivo\",\n                    nombre: this.state.nombre,\n                    equipo: getUserInfo().equipo,\n                    aprobado: true\n                }\n            }).then(data => {\n                //console.log(data)\n                message.success(\"El nuevo festivo se ha añadido correctamente\")\n                this.props.dispatch(fetchCalendario())\n                this.setState({ nombre: undefined, fecha: undefined })\n            }).catch(err => {\n                console.log(err)\n                message.error(\"Se ha producido un error durante la creación del nuevo festivo\")\n            })\n        }\n    }\n\n    borrarFestivo = dia => {\n        request(\"/dias/\" + dia._id, { method: \"DELETE\" })\n            .then(data => {\n                //console.log(data)\n                message.success(\"Se ha borrado el festivo correctamente\")\n                this.props.dispatch(fetchCalendario())\n            }).catch(err => {\n                console.log(err)\n                message.error(\"Ha ocurrido un error durante el borrado del festivo\")\n            })\n    }\n\n    render(){\n        return(\n            <div>\n                <h3>Lista de festivos</h3>\n                <Table dataSource={this.props.dias.filter(d => d.tipo === \"festivo\")} rowKey=\"_id\" columns={[\n                    {\n                        title: 'Nombre',\n                        dataIndex: 'nombre',\n                        key: 'nombre',\n                    }, {\n                        title: 'Día',\n                        key: 'fecha',\n                        render: dia => moment(dia.fecha).format(\"YYYY-MM-DD\")\n                    }, {\n                        key: \"botones\",\n                        render: dia => (\n                            <div key={dia._id} style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n                                <Popconfirm \n                                    title={`¿Estás seguro de que quieres borrar el día festivo?`} \n                                    onConfirm={() => this.borrarFestivo(dia)}\n                                    icon={<Icon type=\"warning\" style={{ color: 'red' }} />}\n                                >\n                                    <Tag color=\"volcano\" key={`${dia._id}_dia`}><Icon type=\"delete\" /> Borrar</Tag>\n                                </Popconfirm>\n                            </div>\n                        )\n                    }\n                ]}/>\n\n                <h3 style={{ marginTOp: 20 }}>Añadir festivo</h3>\n                <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n                    <Form.Item label=\"Nombre\" style={{ marginRight: 20 }}>\n                        <Input type=\"text\" onChange={e => this.setState({ nombre: e.target.value })} />\n                    </Form.Item>\n                    <Form.Item label=\"Fecha\" style={{ marginRight: 20 }}>\n                        <DatePicker onChange={fecha => this.setState({ fecha })} style={{ width: 250 }} />\n                    </Form.Item>\n                    <Form.Item label=\" \" colon={false}>\n                        <Button onClick={this.addFestivo}>Añadir</Button>                \n                    </Form.Item>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        dias: state.dias\n    }\n}\n\nexport default connect(mapStateToProps)(ModuloFestivos)","import React, { Component } from 'react'\nimport { getToken } from './utils/auth';\nimport { Layout, Collapse } from 'antd'\nimport Frame from './Frame';\nimport ModuloFestivos from './modulosConfig/ModuloFestivos';\nimport ModuloRegistros from './modulosConfig/ModuloRegistros';\n\n\nclass Configuracion extends Component{\n\n    state = {}\n\n    render(){\n        const Panel = Collapse.Panel;\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <h1>Configuración</h1>\n                    <Collapse>\n                        <Panel header=\"Añadir registros\">\n                            <ModuloRegistros />\n                        </Panel>\n                    </Collapse>\n                    <Collapse>\n                        <Panel header=\"Gestionar festivos\">\n                            <ModuloFestivos />\n                        </Panel>\n                    </Collapse>\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nexport default Configuracion","import { combineReducers } from 'redux'\nimport usuarios from './usuarios'\nimport dias from './dias'\nimport es from './es'\nimport documentos from './documentos'\nimport blueCollar from './blueCollar'\nimport grupos from './grupos'\nimport pws from './pws'\nimport auth from './auth'\nimport entradas from './entradas'\nimport mesES from './mesES'\nimport errorCarga from './errorCarga'\n\nconst rootReducer = combineReducers({\n    usuarios,\n    dias,\n    es,\n    documentos,\n    blueCollar,\n    grupos, \n    pws,\n    auth,\n    mesES,\n    entradas,\n    errorCarga\n})\n\nexport default rootReducer;","import { \n    CARGAR_USUARIOS\n} from \"../constants/action-types\";\n\nexport default function usuariosReducer(state = [], action) {\n    switch (action.type) {\n        case CARGAR_USUARIOS:\n            console.log(action)\n            return action.payload;\n        default:\n            return state;\n    }\n}","import { \n    CARGAR_CALENDARIO\n} from \"../constants/action-types\";\n\nexport default function diasReducer(state = [], action) {\n    switch (action.type) {\n        case CARGAR_CALENDARIO:\n            console.log(action)\n            return action.payload;\n        default:\n            return state;\n    }\n}","import { \n    CARGAR_ES\n} from \"../constants/action-types\";\n\nexport default function esReducer(state = {}, action) {\n    switch (action.type) {\n        case CARGAR_ES:\n            console.log(action)\n            return action.payload;\n        default:\n            return state;\n    }\n}","import { \n    CARGAR_DOCUMENTOS\n} from \"../constants/action-types\";\n\nexport default function documentosReducer(state = [], action) {\n    switch (action.type) {\n        case CARGAR_DOCUMENTOS:\n            console.log(action)\n            return action.payload;\n        default:\n            return state;\n    }\n}","import { \n    CAMBIAR_BLUE_COLLAR\n} from \"../constants/action-types\";\n\nexport default function blueCollarReducer(state = false, action) {\n    switch (action.type) {\n        case CAMBIAR_BLUE_COLLAR:\n            return action.payload;\n        default:\n            return state;\n    }\n}","import { \n    CARGAR_GRUPOS\n} from \"../constants/action-types\";\n\nexport default function gruposReducer(state = [], action) {\n    switch (action.type) {\n        case CARGAR_GRUPOS:\n            console.log(action)\n            return action.payload;\n        default:\n            return state;\n    }\n}","import { \n    CARGAR_PWS\n} from \"../constants/action-types\";\n\nexport default function pwsReducer(state = [], action) {\n    switch (action.type) {\n        case CARGAR_PWS:\n            console.log(action)\n            return action.payload;\n        default:\n            return state;\n    }\n}","import { \n    CARGAR_AUTH\n} from \"../constants/action-types\";\n\nexport default function authReducer(state = {}, action) {\n    switch (action.type) {\n        case CARGAR_AUTH:\n            console.log(action)\n            return action.payload;\n        default:\n            return state;\n    }\n}","import { \n    CAMBIAR_MES_ES\n} from \"../constants/action-types\";\nimport moment from \"moment\";\n\nexport default function mesESReducer(state = moment(), action) {\n    switch (action.type) {\n        case CAMBIAR_MES_ES:\n            return action.payload;\n        default:\n            return state;\n    }\n}","import { \n    CARGAR_ENTRADAS\n} from \"../constants/action-types\";\n\nexport default function entradasReducer(state = [], action) {\n    switch (action.type) {\n        case CARGAR_ENTRADAS:\n            console.log(action)\n            return action.payload.data.entradas;\n        default:\n            return state;\n    }\n}","import { \n    FALLO_CARGA\n} from \"../constants/action-types\";\n\nexport default function falloCargaReducer(state = { error: false }, action) {\n    switch (action.type) {\n        case FALLO_CARGA:\n            return action.payload;\n        default:\n            return state;\n    }\n}","import { createStore, applyMiddleware } from 'redux'\nimport rootReducer from '../reducers/index'\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nconst store = createStore(\n    rootReducer,\n    {},\n    composeWithDevTools(applyMiddleware(thunk))\n)\n\nexport default store","import React, { Component } from 'react'\nimport { Layout, Table, Collapse, DatePicker, Button, Modal, Popconfirm, Tag, message, List } from 'antd'\nimport Frame from './Frame';\nimport { connect } from 'react-redux';\nimport { socketConnect } from 'socket.io-react';\nimport moment from 'moment';\nimport { getUserInfo, getToken } from './utils/auth';\nimport { fetchES, cambiarMesES } from './actions';\nimport ReactPDF, { Page, Text, View, Document, PDFViewer, StyleSheet, PDFDownloadLink } from '@react-pdf/renderer';\nimport { redondear, mayusculizer } from './utils/func';\n\nconst PreciosoPDF = ({ datos, mes }) => \n    <Document>\n        <Page size=\"A4\" style={styles.hoja}>\n            <Text>WEEELCOME</Text>\n            <Text style={{ marginTop: 10, marginBottom: 20 }}>Registro de jornada laboral - { mes && mayusculizer(mes.format(\"MMMM YYYY\")) }</Text>\n            <View style={styles.datos}>\n                <View style={styles.cajaDatos}>\n                    <View style={styles.filaDatos}>\n                        <Text style={styles.claveDatos}>Trabajador:&nbsp;</Text>\n                        <Text style={styles.valorDatos}>{ datos.nombre + \" \" + datos.apellidos }</Text>\n                    </View>\n                    <View style={styles.filaDatos}>\n                        <Text style={styles.claveDatos}>NIF:&nbsp;</Text>\n                        <Text style={styles.valorDatos}>{ datos.nif }</Text>\n                    </View>\n                    <View style={styles.filaDatos}>\n                        <Text style={styles.claveDatos}>Número afiliación:&nbsp;</Text>\n                        <Text style={styles.valorDatos}>{ datos.nuss }</Text>\n                    </View>\n                </View>\n                <View style={styles.cajaDatos}>\n                    <View style={styles.filaDatos}>\n                        <Text style={styles.claveDatos}>Empresa:&nbsp;</Text>\n                        <Text style={styles.valorDatos}>{ datos.empresa.razonSocial }</Text>\n                    </View>\n                    <View style={styles.filaDatos}>\n                        <Text style={styles.claveDatos}>CIF:&nbsp;</Text>\n                        <Text style={styles.valorDatos}>{ datos.empresa.cif }</Text>\n                    </View>\n                    <View style={styles.filaDatos}>\n                        <Text style={styles.claveDatos}>CCC:&nbsp;</Text>\n                        <Text style={styles.valorDatos}>{ datos.empresa.ccc }</Text>\n                    </View>\n                </View>\n            </View>\n            <View style={styles.tabla}>\n                <View style={{...styles.fila, ...styles.encabezado}}>\n                    <Text style={{...styles.celda, ...styles.celdaEncabezado}}>Día</Text>\n                    <Text style={{...styles.celda, ...styles.celdaEncabezado}}>Hora de entrada</Text>\n                    <Text style={{...styles.celda, ...styles.celdaEncabezado}}>Hora de salida</Text>\n                    <Text style={{...styles.celda, ...styles.celdaEncabezado}}>Tiempo de descanso</Text>\n                    <Text style={{...styles.celda, ...styles.celdaEncabezado}}>Horas</Text>\n                </View>\n                {\n                    [].concat.apply([], datos.jornadas.filter(j => j.aprobado)).map((dia, i) =>\n                        <View style={{...styles.fila, backgroundColor: i%2 ? \"white\" : \"#eee\"}} key={dia.key}>\n                            <Text style={styles.celda}>{ moment(dia.entrada).format(\"YYYY-MM-DD\") }</Text>\n                            <Text style={styles.celda}>{ moment(dia.entrada).format(\"HH:mm\") }</Text>\n                            <Text style={styles.celda}>{ dia.salida !== \"-\" ? moment(dia.salida).format(\"HH:mm\") : \" - \" }</Text>\n                            <Text style={styles.celda}>{ redondear(dia.tiempoDescanso, 1) }h</Text>\n                            <Text style={{...styles.celda, ...styles.ultimaColumna}}>{ redondear(dia.horas, 1) }h</Text>\n                        </View>\n                    )\n                }\n\n            </View>\n            <View style={styles.pie}>\n                <Text style={styles.fecha}>A {moment().format(\"LL\")}:</Text>\n                <View style={styles.cajapie}>\n                    <Text style={styles.textopie}>Firma del trabajador</Text>\n                    <Text style={styles.textopie}>Firma del responsable de la empresa</Text>\n                </View>\n            </View>\n        </Page>\n    </Document>\n    \nclass Exportacion extends Component{\n\n    state = {\n        usuarios: [],\n        userInfo: getUserInfo()\n    }\n\n    componentDidMount() {\n        if(this.props.es && this.props.es.users){\n            this.procesaES(this.props.mesES.month(), this.props.mesES.year())\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if(prevProps.es !== this.props.es){\n            this.procesaES(this.props.mesES.month(), this.props.mesES.year());\n        }\n        else if(!prevProps.mesES.isSame(this.props.mesES, \"month\")){\n            this.props.dispatch(fetchES(this.props.mesES))\n        }\n    }\n\n    diasLaborables = (userId, month = moment().month() + 1, year = moment().year()) => {\n        const diasFestivos = (this.props.dias.filter(d => d.tipo === \"festivo\" && moment(d.fecha).month() === month)).length\n        const diasEntreSemana = Array(moment().month(month).year(year).daysInMonth()).fill(null).filter((e, i) => {\n            return moment().year(year).month(month).date(i+1).weekday() <= 4\n        }).length\n        const diasLibres = (this.props.dias.filter(d => {\n            return d.user && ( d.user._id === userId && d.aprobado === true && moment(d.fecha).month() === month)\n        })).length\n        return diasEntreSemana - diasLibres - diasFestivos\n    }\n\n    procesaES = (month = moment().month() + 1, year = moment().year()) => {\n\n        const diasDeEseMes = moment().month(month - 1).year(year).daysInMonth()\n        if(Array.isArray(this.props.es.users)){\n            const usuarios = this.props.es.users.map(u => {\n                const duracionJornada = u.duracionjornada || 8;\n                const diasLaborables = this.diasLaborables(u._id, month, year)\n                const dias = Array(diasDeEseMes).fill(null)\n                    .map((e, i) => moment().subtract(i, \"days\").format(\"YYYY-MM-DD\"))\n                    .map(d => u.registros.filter(r =>  moment(r.fecha).isSame(moment(d), \"days\") && moment(r.fecha).isSame(this.props.mesES, \"month\"))\n                        .sort((a, b) => {\n                            if(moment(a.fecha).isBefore(moment(b.fecha))){ return -1 }\n                            else if(moment(b.fecha).isBefore(moment(a.fecha))){ return 1 }\n                            else{ return 0 }\n                        })\n                    )\n\n                const jornadas = dias.map((dia, i) => {\n                    const arrayCachos = Array(Math.ceil(dia.length / 2)).fill(null).map((e, j) => {\n                        const a = moment(dia[(2*j)].fecha);\n                        const b = dia[(2*j)+1] ? moment(dia[(2*j)+1].fecha) : undefined;\n                        const m = b ? moment.duration(b.diff(a)) : ( a.isSame(moment(), \"day\") ? moment.duration(moment().diff(a)) : \"-\" )\n                        const horas = m !== \"-\" ? Math.round(m.as('hours')*100)/100 : \"-\"\n                        return {\n                            key: u._id + \"-\" + i + \"-\" + j,\n                            entrada: a.format(),\n                            aprobado: (dia[(2*j)].aprobado && (dia[(2*j)+1] ? dia[(2*j)+1].aprobado : true)) ? true : false,\n                            salida: b ? b.format() : \"-\",\n                            horas\n                        }\n                    })\n\n                    const tiempoDescanso = Array(arrayCachos.length > 0 ? arrayCachos.length - 1 : 0).fill(null).map((e, i) => {\n                        const comienzoDescanso = moment(arrayCachos[i].salida)\n                        const finDescanso = moment(arrayCachos[i+1].entrada)\n                        const duracionDescanso = Math.round(moment.duration(finDescanso.diff(comienzoDescanso)).as(\"hours\")*100)/100\n                        return duracionDescanso\n                    }).reduce((a, b) => a + b, 0)\n\n                    const arrayHoras = arrayCachos.map(c => c.horas)\n                    const jornada = arrayCachos[0] ? {\n                        key: arrayCachos[0].key,\n                        entrada: arrayCachos[0].entrada,\n                        salida: arrayCachos.slice(-1)[0].salida,\n                        aprobado: arrayCachos.map(a => a.aprobado).includes(false) ? false : true,\n                        horas: !arrayHoras.includes(\"-\") ? arrayHoras.reduce((a, b) => a + b, 0) : \"-\",\n                        usuario: u.username,\n                        registros: dia,\n                        tiempoDescanso\n                    } : []\n                    return jornada\n                })\n\n                const horasTrabajadas = Math.round(jornadas.filter(j => j.aprobado).map(j => j.horas).filter(h => h !== \"-\" && h !== undefined).reduce((a, b) => a + b, 0) * 100 ) / 100\n                const horasMes = diasLaborables * duracionJornada\n                const porcentajeHoras = Math.round((horasTrabajadas / (diasLaborables * duracionJornada)) * 10000) / 100\n                const horasPendientes = Math.round((horasMes - horasTrabajadas) * 100 ) / 100\n                const empresa = {\n                    razonSocial: this.props.es.razonSocial,\n                    cif: this.props.es.cif,\n                    ccc: this.props.es.ccc\n                }\n                return { ...u, jornadas, horasTrabajadas, horasPendientes, porcentajeHoras, duracionJornada, diasLaborables, empresa }\n            })\n            \n            this.setState({ \n                usuarios\n            })\n        }\n    }\n\n    render(){\n        const MonthPicker = DatePicker.MonthPicker\n        return(\n            <Layout style={{height:\"100vh\"}}>\n                <Frame isLogged={ getToken() ? true : false }>\n                    <h1>Jornadas</h1>\n                    <MonthPicker \n                        placeholder=\"Seleccionar mes\" \n                        value={this.props.mesES} \n                        onChange={mes => {\n                            this.props.dispatch(cambiarMesES(mes))\n                        }}\n                        style={{ marginBottom: 20 }}\n                    />\n                        <List dataSource={this.state.usuarios} renderItem={u => (\n                            <List.Item>\n                                <span style={{ marginRight: 20 }}>{ u.username }</span>\n                                <Button>\n                                    <PDFDownloadLink document={<PreciosoPDF datos={u} mes={this.props.mesES} />} fileName={`Weeelcome - ${u.nombre} ${u.apellidos} - ${moment(this.props.mesES).format(\"YYYYMM\")} Volcado.pdf`}>\n                                        {({ blob, url, loading, error }) => (loading ? 'Cargando documento...' : 'Descargar')}\n                                    </PDFDownloadLink>\n                                </Button>\n                                {/* <PDFViewer>\n                                    <PreciosoPDF datos={u} mes={this.props.mesES} />\n                                </PDFViewer> */}\n                            </List.Item>\n                        )} />\n                </Frame>\n            </Layout>\n        )\n    }\n}\n\nconst styles = StyleSheet.create({\n    hoja: {\n        display: \"flex\",\n        alignItems: \"center\",\n        padding: 20\n    },\n    tabla: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        borderBottomColor: \"#ddd\",\n        borderBottomWidth: 1\n    },\n    fila: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        width: \"100%\"\n    },\n    celda: {\n        display: \"flex\",\n        width: \"20%\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        fontSize: \"11pt\",\n        borderLeftColor: \"#ddd\",\n        borderLeftWidth: 1,\n        padding: 4\n    },\n    ultimaColumna: {\n        borderRightColor: \"#ddd\",\n        borderRightWidth: 1\n    },\n    encabezado: {\n        fontWeight: \"bold\",\n        backgroundColor: \"black\",\n        color: \"white\"\n    },\n    celdaEncabezado: {\n        borderLeftColor: \"black\",\n        borderRightColor: \"black\"\n    },\n    datos: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        marginBottom: 20\n    },\n    cajaDatos: {\n        display: \"flex\",\n        width: \"50%\"\n    },\n    filaDatos: {\n        display: \"flex\",\n        flexDirection: \"row\"\n    },\n    claveDatos: {\n        fontSize: \"14pt\",\n        marginRight: \"1em\"\n    },\n    valorDatos: {\n        fontSize: \"14pt\"\n    },\n    pie: {\n        display: \"flex\",\n        marginTop: 40,\n        width: \"100%\",\n        paddingLeft: 40,\n        paddingRight: 40,\n    },\n    fecha: {\n        fontSize: \"11pt\",\n        marginBottom: 5\n    },\n    cajapie: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\"  \n    },\n    textopie: {\n        fontSize: \"11pt\"\n    }\n})\nconst mapStateToProps = state => {\n    return {\n        es: state.es,\n        mesES: state.mesES,\n        dias: state.dias,\n        blueCollar: state.blueCollar\n    }\n}\n\nexport default socketConnect(connect(mapStateToProps)(Exportacion))","import React, { Component } from 'react';\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Login from \"./Login\"\nimport Register from \"./Register\"\nimport FourOhFour from \"./FourOhFour\"\nimport 'antd/dist/antd.css';\nimport { LocaleProvider } from 'antd';\nimport es_ES from 'antd/lib/locale-provider/es_ES';\nimport moment from 'moment';\nimport 'moment/locale/es';\nimport { SocketProvider } from 'socket.io-react';\nimport io from 'socket.io-client';\nimport { PrivateRoute } from './PrivateRoute';\nimport Home from \"./Home\"\nimport Calendario from \"./Calendario\"\nimport NuevoUsuario from './NuevoUsuario';\nimport Documentos from './Documentos';\nimport Usuarios from './Usuarios';\nimport EditUsuario from './EditUsuario';\nimport Analitica from './Analitica';\nimport Registro from './Registro';\nimport Perfil from './Perfil';\nimport Grupos from './Grupos';\nimport Passwords from './Passwords';\nimport Configuracion from './Configuracion';\nimport { Provider } from 'react-redux';\nimport { getUserInfo } from './utils/auth'\nimport store from './store';\nimport { fetchCalendario, fetchUsuarios, fetchES, fetchDocumentos, fetchGrupos, fetchPws, fetchAuth, fetchEntradas } from './actions'\nimport Exportacion from './Exportacion';\n\nmoment.locale('es');\n\nconst socket = io.connect(process.env.REACT_APP_API_URL, {\n  transports: [ 'websocket' ]\n});\n\nclass DebugRouter extends BrowserRouter {\n  constructor(props){\n    super(props);\n    console.log('initial history is: ', JSON.stringify(this.history, null,2))\n    this.history.listen((location, action)=>{\n      console.log(\n        `The current URL is ${location.pathname}${location.search}${location.hash}`\n      )\n      console.log(`The last navigation action was ${action}`, JSON.stringify(this.history, null,2));\n    });\n  }\n}\n\nclass App extends Component {\n  componentDidMount(){\n    const userInfo = getUserInfo()\n    if( userInfo && userInfo.equipo ){\n      store.dispatch(fetchAuth())\n      store.dispatch(fetchUsuarios())\n      store.dispatch(fetchCalendario())\n      store.dispatch(fetchES())\n      store.dispatch(fetchEntradas())\n      store.dispatch(fetchDocumentos())\n      store.dispatch(fetchGrupos())\n      store.dispatch(fetchPws())\n    }\n  }\n  render() {\n    return (\n      <Provider store={store}>\n        <LocaleProvider locale={es_ES}>\n          <SocketProvider socket={socket}>\n            <BrowserRouter>\n              <Switch>\n                <Route exact path=\"/login\" component={Login} />\n                <Route exact path=\"/register\" component={Register} />\n                <PrivateRoute exact path=\"/calendario\" component={Calendario} />\n                <PrivateRoute exact path=\"/archivos\" component={Documentos} />\n                <PrivateRoute exact path=\"/perfil\" component={Perfil} />\n                <PrivateRoute exact path=\"/usuarios\" component={Usuarios} />\n                <PrivateRoute exact path=\"/passwords\" component={Passwords} />\n                <PrivateRoute onlyManager={true} exact path=\"/analitica\" component={Analitica} />\n                <PrivateRoute onlyManager={true} exact path=\"/grupos\" component={Grupos} />\n                <PrivateRoute onlyManager={true} exact path=\"/configuracion\" component={Configuracion} />\n                <PrivateRoute onlyManager={true} exact path=\"/exportacion\" component={Exportacion} />\n                <PrivateRoute exact path=\"/usuario/:id\" component={EditUsuario} />\n                <PrivateRoute exact path=\"/registro\" component={Registro} />\n                <PrivateRoute exact path=\"/nuevousuario\" component={NuevoUsuario} />\n                <PrivateRoute exact path=\"/\" component={Home} />\n                <Route path=\"\" component={FourOhFour} />\n              </Switch>\n            </BrowserRouter>\n          </SocketProvider>\n        </LocaleProvider>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}